!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports["echarts"]=b():a["echarts"]=b()}(this,function(){return function(a){function c(d){if(b[d])return b[d].exports;var e=b[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,c),e.loaded=!0,e.exports}var b={};return c.m=a,c.c=b,c.p="",c(0)}([function(a,b,c){a.exports=c(1),c(91),c(127),c(132),c(141),c(145),c(155),c(177),c(189),c(207),c(211),c(215),c(230),c(236),c(243),c(249),c(253),c(258),c(106),c(262),c(268),c(272),c(283),c(216),c(285),c(286),c(300),c(315),c(319),c(322),c(331),c(345)},function(a,b,c){function u(a){return function(b,c,d){b=b&&b.toLowerCase(),q.prototype[a].call(this,b,c,d)}}function v(){q.call(this)}function w(a,b,c){c=c||{},"string"==typeof b&&(b=Q[b]),b&&r(O,function(a){a(b)}),this.id,this.group,this._dom=a,this._zr=m.init(a,{renderer:c.renderer||"canvas",devicePixelRatio:c.devicePixelRatio}),this._theme=n.clone(b),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new e(this),this._coordSysMgr=new f,q.call(this),this._messageCenter=new v,this._initEvents(),this.resize=n.bind(this.resize,this)}function z(a,b){var c=this._model;c&&c.eachComponent({mainType:"series",query:b},function(d){var f=this._chartsMap[d.__viewId];f&&f.__alive&&f[a](d,c,this._api,b)},this)}function B(a,b,c){var d=this._api;r(this._componentsViews,function(e){var f=e.__model;e[a](f,b,d,c),J(f,e)},this),b.eachSeries(function(e){var g=this._chartsMap[e.__viewId];g[a](e,b,d,c),J(e,g)},this)}function C(a,b){var g,i,c="component"===a,d=c?this._componentsViews:this._chartsViews,e=c?this._componentsMap:this._chartsMap,f=this._zr;for(g=0;g<d.length;g++)d[g].__alive=!1;for(b[c?"eachComponent":"eachSeries"](function(a,g){var i,l,m,n;if(c){if("series"===a)return}else g=a;if(i=g.id+"_"+g.type,l=e[i],!l){if(m=h.parseClassType(g.type),n=c?j.getClass(m.main,m.sub):k.getClass(m.sub),!n)return;l=new n,l.init(b,this._api),e[i]=l,d.push(l),f.add(l.group)}g.__viewId=i,l.__alive=!0,l.__id=i,l.__model=g},this),g=0;g<d.length;)i=d[g],i.__alive?g++:(f.remove(i.group),i.dispose(b,this._api),d.splice(g,1),delete e[i.__id])}function D(a,b){r(t,function(c){r(N[c]||[],function(c){c(a,b)})})}function E(a){var b={};a.eachSeries(function(a){var e,c=a.get("stack"),d=a.getData();c&&"list"===d.type&&(e=b[c],e&&(d.stackedOn=e),b[c]=d)})}function F(a,b){var c=this._api;r(M,function(d){d(a,c,b)})}function G(a,b){r(s,function(c){r(P[c]||[],function(c){c(a,b)})})}function H(a,b){var c=this._api;r(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b),J(e,d)},this),r(this._chartsViews,function(a){a.__alive=!1},this),a.eachSeries(function(d){var f=this._chartsMap[d.__viewId];f.__alive=!0,f.render(d,a,c,b),f.group.silent=!!d.get("silent"),J(d,f)},this),r(this._chartsViews,function(b){b.__alive||b.remove(a,c)},this)}function J(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){null!=c&&(a.z=c),null!=d&&(a.zlevel=d)})}function X(a){function f(a,b){var c,d;for(c=0;c<a.length;c++)d=a[c],d[e]=b}var b=0,c=1,d=2,e="__connectUpdateStatus";n.each(L,function(g,h){a._messageCenter.on(h,function(g){var h,i,j,k;if(S[a.group]&&a[e]!==b){h=a.makeActionFromEvent(g),i=[];for(j in R)k=R[j],k!==a&&k.group===a.group&&i.push(k);f(i,b),r(i,function(a){a[e]!==c&&a.dispatchAction(h)}),f(i,d)}})})}var x,y,A,I,K,L,M,N,O,P,Q,R,S,T,U,V,W,d=c(2),e=c(24),f=c(25),g=c(26),h=c(19),i=c(27),j=c(28),k=c(41),l=c(42),m=c(77),n=c(3),o=c(38),p=c(78),q=c(32),r=n.each,s=["echarts","chart","component"],t=["transform","filter","statistic"];v.prototype.on=u("on"),v.prototype.off=u("off"),v.prototype.one=u("one"),n.mixin(v,q),x=w.prototype,x.getDom=function(){return this._dom},x.getZr=function(){return this._zr},x.setOption=function(a,b,c){(!this._model||b)&&(this._model=new d(null,null,this._theme,new g(this._api))),this._model.setOption(a,O),y.prepareAndUpdate.call(this),!c&&this._zr.refreshImmediately()},x.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},x.getModel=function(){return this._model},x.getOption=function(){return this._model.getOption()},x.getWidth=function(){return this._zr.getWidth()},x.getHeight=function(){return this._zr.getHeight()},x.getRenderedCanvas=function(a){var b,c;if(p.canvasSupported)return a=a||{},a.pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),b=this._zr,c=b.storage.getDisplayList(),n.each(c,function(a){a.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)},x.getDataURL=function(a){var b,c,d,e,f;return a=a||{},b=a.excludeComponents,c=this._model,d=[],e=this,r(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})}),f=this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png")),r(d,function(a){a.group.ignore=!1}),f},x.getConnectedDataURL=function(a){var b,c,d,e,f,g,h,i,j,k,o,q,s,t,u,v,w,x;if(p.canvasSupported){if(b=this.group,c=Math.min,d=Math.max,e=1/0,S[b]){f=e,g=e,h=-e,i=-e,j=[],k=a&&a.pixelRatio||1;for(o in R)q=R[o],q.group===b&&(s=q.getRenderedCanvas(n.clone(a)),t=q.getDom().getBoundingClientRect(),f=c(t.left,f),g=c(t.top,g),h=d(t.right,h),i=d(t.bottom,i),j.push({dom:s,left:t.left,top:t.top}));return f*=k,g*=k,h*=k,i*=k,u=h-f,v=i-g,w=n.createCanvas(),w.width=u,w.height=v,x=m.init(w),r(j,function(a){var b=new l.Image({style:{x:a.left*k-f,y:a.top*k-g,image:a.dom}});x.add(b)}),x.refreshImmediately(),w.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}},y={update:function(a){var e,f,g,b=this._model,c=this._api,d=this._coordSysMgr;b&&(b.restoreData(),d.create(this._model,this._api),D.call(this,b,c),E.call(this,b),d.update(b,c),F.call(this,b,a),G.call(this,b,a),H.call(this,b,a),e=b.get("backgroundColor")||"transparent",f=this._zr.painter,f.isSingleCanvas&&f.isSingleCanvas()?this._zr.configLayer(0,{clearColor:e}):(p.canvasSupported||(g=o.parse(e),e=o.stringify(g,"rgb"),0===g[3]&&(e="transparent")),e=e,this._dom.style.backgroundColor=e))},updateView:function(a){var b=this._model;b&&(F.call(this,b,a),G.call(this,b,a),B.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(G.call(this,b,a),B.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(F.call(this,b,a),B.call(this,"updateLayout",b,a))},highlight:function(a){z.call(this,"highlight",a)},downplay:function(a){z.call(this,"downplay",a)},prepareAndUpdate:function(a){var b=this._model;C.call(this,"component",b),C.call(this,"chart",b),y.update.call(this,a)}},x.resize=function(){this._zr.resize();var a=this._model&&this._model.resetOption("media");y[a?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize()},A=c(87),x.showLoading=function(a,b){var c,d;n.isObject(a)&&(b=a,a="default"),this.hideLoading(),c=A(this._api,b),d=this._zr,this._loadingFX=c,d.add(c)},x.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},x.makeActionFromEvent=function(a){var b=n.extend({},a);return b.type=L[a.type],b},x.dispatchAction=function(a,b){var d,e,f,g,h,i,j,k,l,c=K[a.type];if(c){for(d=c.actionInfo,e=d.update||"update",f=[a],g=!1,a.batch&&(g=!0,f=n.map(a.batch,function(b){return b=n.defaults(n.extend({},b),a),b.batch=null,b})),h=[],j="highlight"===a.type||"downplay"===a.type,k=0;k<f.length;k++)l=f[k],i=c.action(l,this._model),i=i||n.extend({},l),i.type=d.event||i.type,h.push(i),j&&y[e].call(this,l);"none"!==e&&!j&&y[e].call(this,a),b||(i=g?{type:d.event||a.type,batch:h}:h[0],this._messageCenter.trigger(i.type,i))}},x.on=u("on"),x.off=u("off"),x.one=u("one"),I=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"],x._initEvents=function(){var a=this._zr;r(I,function(b){a.on(b,function(a){var e,f,c=this.getModel(),d=a.target;d&&null!=d.dataIndex?(e=d.dataModel||c.getSeriesByIndex(d.seriesIndex),f=e&&e.getDataParams(d.dataIndex)||{},f.event=a,f.type=b,this.trigger(b,f)):d&&d.eventData&&this.trigger(b,d.eventData)},this)},this),r(L,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)},x.isDisposed=function(){return this._disposed},x.clear=function(){this.setOption({},!0)},x.dispose=function(){var a,b;this._disposed=!0,a=this._api,b=this._model,r(this._componentsViews,function(c){c.dispose(b,a)}),r(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete R[this.id]},n.mixin(w,q),K=[],L={},M=[],N={},O=[],P={},Q={},R={},S={},T=new Date-0,U=new Date-0,V="_echarts_instance_",W={version:"3.1.7",dependencies:{zrender:"3.0.8"}},W.init=function(a,b,c){if(m.version.replace(".","")-0<W.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+m.version+" is too old for ECharts "+W.version+". Current version need ZRender "+W.dependencies.zrender+"+");if(!a)throw new Error("Initialize failed: invalid dom.");var d=new w(a,b,c);return d.id="ec_"+T++,R[d.id]=d,a.setAttribute&&a.setAttribute(V,d.id),X(d),d},W.connect=function(a){if(n.isArray(a)){var b=a;a=null,n.each(b,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+U++,n.each(b,function(b){b.group=a})}return S[a]=!0,a},W.disConnect=function(a){S[a]=!1},W.dispose=function(a){n.isDom(a)?a=W.getInstanceByDom(a):"string"==typeof a&&(a=R[a]),a instanceof w&&!a.isDisposed()&&a.dispose()},W.getInstanceByDom=function(a){var b=a.getAttribute(V);return R[b]},W.getInstanceById=function(a){return R[a]},W.registerTheme=function(a,b){Q[a]=b},W.registerPreprocessor=function(a){O.push(a)},W.registerProcessor=function(a,b){if(n.indexOf(t,a)<0)throw new Error("stage should be one of "+t);var c=N[a]||(N[a]=[]);c.push(b)},W.registerAction=function(a,b,c){"function"==typeof b&&(c=b,b="");var d=n.isObject(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase(),b=a.event,K[d]||(K[d]={action:c,actionInfo:a}),L[b]=d},W.registerCoordinateSystem=function(a,b){f.register(a,b)},W.registerLayout=function(a){n.indexOf(M,a)<0&&M.push(a)},W.registerVisualCoding=function(a,b){if(n.indexOf(s,a)<0)throw new Error("stage should be one of "+s);var c=P[a]||(P[a]=[]);c.push(b)},W.extendChartView=function(a){return k.extend(a)},W.extendComponentModel=function(a){return h.extend(a)},W.extendSeriesModel=function(a){return i.extend(a)},W.extendComponentView=function(a){return j.extend(a)},W.setCanvasCreator=function(a){n.createCanvas=a},W.registerVisualCoding("echarts",n.curry(c(88),"","itemStyle")),W.registerPreprocessor(c(89)),W.registerAction({type:"highlight",event:"highlight",update:"highlight"},n.noop),W.registerAction({type:"downplay",event:"downplay",update:"downplay"},n.noop),W.graphic=c(42),W.number=c(7),W.format=c(6),W.matrix=c(17),W.vector=c(16),W.util={},r(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(a){W.util[a]=n[a]}),a.exports=W},function(a,b,c){function q(a,b){for(var c in b)m.hasClass(c)||("object"==typeof b[c]?a[c]=a[c]?d.merge(a[c],b[c],!1):d.clone(b[c]):null==a[c]&&(a[c]=b[c]))}function r(a){a=a,this.option={},this.option[o]=1,this._componentsMap={},this._seriesIndices=null,q(a,this._theme.option),d.merge(a,n,!1),this.mergeOption(a)}function s(a,b){d.isArray(b)||(b=b?[b]:[]);var c={};return g(b,function(b){c[b]=(a[b]||[]).slice()}),c}function t(a,b){var c={};g(b,function(a){var d=a.exist;d&&(c[d.id]=a)}),g(b,function(b){var g,f=b.option;d.assert(!f||null==f.id||!c[f.id]||c[f.id]===b,"id duplicates: "+(f&&f.id)),f&&null!=f.id&&(c[f.id]=b),l(f)&&(g=u(a,f,b.exist),b.keyInfo={mainType:a,subType:g})}),g(b,function(a){var g,d=a.exist,e=a.option,f=a.keyInfo;if(l(e)){if(f.name=null!=e.name?e.name+"":d?d.name:"\0-",d)f.id=d.id;else if(null!=e.id)f.id=e.id+"";else{g=0;do f.id="\0"+f.name+"\0"+g++;while(c[f.id])}c[f.id]=a}})}function u(a,b,c){var d=b.type?b.type:c?c.subType:m.determineSubType(a,b);return d}function v(a){return i(a,function(a){return a.componentIndex})||[]}function w(a,b){return b.hasOwnProperty("subType")?h(a,function(a){return a.subType===b.subType}):a}function x(a){if(!a._seriesIndices)throw new Error("Series has not been initialized yet.")}var d=c(3),e=c(5),f=c(8),g=d.each,h=d.filter,i=d.map,j=d.isArray,k=d.indexOf,l=d.isObject,m=c(19),n=c(23),o="\0_ec_inner",p=f.extend({constructor:p,init:function(a,b,c,d){c=c||{},this.option=null,this._theme=new f(c),this._optionManager=d},setOption:function(a,b){d.assert(!(o in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption()},resetOption:function(a){var d,e,f,b=!1,c=this._optionManager;return a&&"recreate"!==a||(d=c.mountOption("recreate"===a),this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):r.call(this,d),b=!0),("timeline"===a||"media"===a)&&this.restoreData(),a&&"recreate"!==a&&"timeline"!==a||(e=c.getTimelineOption(this),e&&(this.mergeOption(e),b=!0)),a&&"recreate"!==a&&"media"!==a||(f=c.getMediaOption(this,this._api),f.length&&g(f,function(a){this.mergeOption(a,b=!0)},this)),b},mergeOption:function(a){function h(f,h){var k,i=e.normalizeToArray(a[f]),j=e.mappingToExists(c[f],i);t(f,j),k=s(c,h),b[f]=[],c[f]=[],g(j,function(a,e){var i,g=a.exist,h=a.option;d.assert(l(h)||g,"Empty component definition"),h?(i=m.getClass(f,a.keyInfo.subType,!0),g&&g instanceof i?(g.mergeOption(h,this),g.optionUpdated(this)):(g=new i(h,this,this,d.extend({dependentModels:k,componentIndex:e},a.keyInfo)),g.optionUpdated(this))):(g.mergeOption({},this),g.optionUpdated(this)),c[f][e]=g,b[f][e]=g.option},this),"series"===f&&(this._seriesIndices=v(c.series))}var b=this.option,c=this._componentsMap,f=[];g(a,function(a,c){null!=a&&(m.hasClass(c)?f.push(c):b[c]=null==b[c]?d.clone(a):d.merge(b[c],a,!0))}),m.topologicalTravel(f,m.getAllClassMainTypes(),h,this)},getOption:function(){var a=d.clone(this.option);return g(a,function(b,c){var d;if(m.hasClass(c)){for(b=e.normalizeToArray(b),d=b.length-1;d>=0;d--)e.isIdInner(b[d])&&b.splice(d,1);a[c]=b}}),delete a[o],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap[a];return c?c[b||0]:void 0},queryComponents:function(a){var c,d,e,f,g,l,m,b=a.mainType;return b?(c=a.index,d=a.id,e=a.name,f=this._componentsMap[b],f&&f.length?(null!=c?(j(c)||(c=[c]),g=h(i(c,function(a){return f[a]}),function(a){return!!a})):null!=d?(l=j(d),g=h(f,function(a){return l&&k(d,a.id)>=0||!l&&a.id===d})):null!=e&&(m=j(e),g=h(f,function(a){return m&&k(e,a.name)>=0||!m&&a.name===e})),w(g,a)):[]):[]},findComponents:function(a){function f(a){var b=c+"Index",d=c+"Id",e=c+"Name";return a&&(a.hasOwnProperty(b)||a.hasOwnProperty(d)||a.hasOwnProperty(e))?{mainType:c,index:a[b],id:a[d],name:a[e]}:null}function g(b){return a.filter?h(b,a.filter):b}var b=a.query,c=a.mainType,d=f(b),e=d?this.queryComponents(d):this._componentsMap[c];return g(w(e,a))},eachComponent:function(a,b,c){var f,e=this._componentsMap;"function"==typeof a?(c=b,b=a,g(e,function(a,d){g(a,function(a,e){b.call(c,d,a,e)})})):d.isString(a)?g(e[a],b,c):l(a)&&(f=this.findComponents(a),g(f,b,c))},getSeriesByName:function(a){var b=this._componentsMap.series;return h(b,function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.series[a]},getSeriesByType:function(a){var b=this._componentsMap.series;return h(b,function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(a,b){x(this),g(this._seriesIndices,function(c){var d=this._componentsMap.series[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){g(this._componentsMap.series,a,b)},eachSeriesByType:function(a,b,c){x(this),g(this._seriesIndices,function(d){var e=this._componentsMap.series[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return g(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return x(this),d.indexOf(this._seriesIndices,a.componentIndex)<0},filterSeries:function(a,b){x(this);var c=h(this._componentsMap.series,a,b);this._seriesIndices=v(c)},restoreData:function(){var b,a=this._componentsMap;this._seriesIndices=v(a.series),b=[],g(a,function(a,c){b.push(c)}),m.topologicalTravel(b,m.getAllClassMainTypes(),function(b){g(a[b],function(a){a.restoreData()})})}});a.exports=p},function(a,b,c){function m(a){var b,c,d,e;if("object"==typeof a&&null!==a){if(b=a,a instanceof Array)for(b=[],c=0,d=a.length;d>c;c++)b[c]=m(a[c]);else if(!J(a)&&!K(a)){b={};for(e in a)a.hasOwnProperty(e)&&(b[e]=m(a[e]))}return b}return a}function n(a,b,c){var d,e,f;if(!I(b)||!I(a))return c?m(b):a;for(d in b)b.hasOwnProperty(d)&&(e=a[d],f=b[d],!I(f)||!I(e)||F(f)||F(e)||K(f)||K(e)||J(f)||J(e)?!c&&d in a||(a[d]=m(b[d],!0)):n(e,f,c));return a}function o(a,b){var d,e,c=a[0];for(d=1,e=a.length;e>d;d++)c=n(c,a[d],b);return c}function p(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function q(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function r(){return document.createElement("canvas")}function t(){return s||(s=O.createCanvas().getContext("2d")),s}function u(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c}return-1}function v(a,b){function d(){}var e,c=a.prototype;d.prototype=b.prototype,a.prototype=new d;for(e in c)a.prototype[e]=c[e];a.prototype.constructor=a,a.superClass=b}function w(a,b,c){a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,q(a,b,c)}function x(a){return a?"string"==typeof a?!1:"number"==typeof a.length:void 0}function y(a,b,c){var d,e,f;if(a&&b)if(a.forEach&&a.forEach===h)a.forEach(b,c);else if(a.length===+a.length)for(d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a);else for(f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f,a)}function z(a,b,c){var d,e,f;if(a&&b){if(a.map&&a.map===k)return a.map(b,c);for(d=[],e=0,f=a.length;f>e;e++)d.push(b.call(c,a[e],e,a));return d}}function A(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===l)return a.reduce(b,c,d);for(var e=0,f=a.length;f>e;e++)c=b.call(d,c,a[e],e,a);return c}}function B(a,b,c){var d,e,f;if(a&&b){if(a.filter&&a.filter===i)return a.filter(b,c);for(d=[],e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function C(a,b,c){if(a&&b)for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a))return a[d]}function D(a,b){var c=j.call(arguments,2);return function(){return a.apply(b,c.concat(j.call(arguments)))}}function E(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}}function F(a){return"[object Array]"===f.call(a)}function G(a){return"function"==typeof a}function H(a){return"[object String]"===f.call(a)}function I(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function J(a){return!!e[f.call(a)]||a instanceof d}function K(a){return a&&1===a.nodeType&&"string"==typeof a.nodeName}function L(){for(var b=0,c=arguments.length;c>b;b++)if(null!=arguments[b])return arguments[b]}function M(){return Function.call.apply(j,arguments)}function N(a,b){if(!a)throw new Error(b)}var s,d=c(4),e={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},f=Object.prototype.toString,g=Array.prototype,h=g.forEach,i=g.filter,j=g.slice,k=g.map,l=g.reduce,O={inherits:v,mixin:w,clone:m,merge:n,mergeAll:o,extend:p,defaults:q,getContext:t,createCanvas:r,indexOf:u,slice:M,find:C,isArrayLike:x,each:y,map:z,reduce:A,filter:B,bind:D,curry:E,isArray:F,isString:H,isObject:I,isFunction:G,isBuildInObject:J,isDom:K,retrieve:L,assert:N,noop:function(){}};a.exports=O},function(a){var c=function(a){this.colorStops=a||[]};c.prototype={constructor:c,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}},a.exports=c},function(a,b,c){var d=c(6),e=c(7),f=c(3),g=c(8),h=["x","y","z","radius","angle"],i={};i.createNameEach=function(a,b){var c,d;return a=a.slice(),c=f.map(a,i.capitalFirst),b=(b||[]).slice(),d=f.map(b,i.capitalFirst),function(e,g){f.each(a,function(a,f){var i,h={name:a,capital:c[f]};for(i=0;i<b.length;i++)h[b[i]]=a+d[i];e.call(g,h)})}},i.capitalFirst=function(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a},i.eachAxisDim=i.createNameEach(h,["axisIndex","axis","index"]),i.normalizeToArray=function(a){return f.isArray(a)?a:null==a?[]:[a]},i.createLinkedNodesFinder=function(a,b,c){function d(a,b){return f.indexOf(b.nodes,a)>=0}function e(a,d){var e=!1;return b(function(b){f.each(c(a,b)||[],function(a){d.records[b.name][a]&&(e=!0)})}),e}function g(a,d){d.nodes.push(a),b(function(b){f.each(c(a,b)||[],function(a){d.records[b.name][a]=!0})})}return function(c){function i(a){!d(a,f)&&e(a,f)&&(g(a,f),h=!0)}var h,f={nodes:[],records:{}};if(b(function(a){f.records[a.name]={}}),!c)return f;g(c,f);do h=!1,a(i);while(h);return f}},i.defaultEmphasis=function(a,b){var c,d;a&&(c=a.emphasis=a.emphasis||{},d=a.normal=a.normal||{},f.each(b,function(a){var b=f.retrieve(c[a],d[a]);null!=b&&(c[a]=b)}))},i.createDataFormatModel=function(a,b,c){var d=new g;return f.mixin(d,i.dataFormatMixin),d.seriesIndex=a.seriesIndex,d.name=a.name||"",d.getData=function(){return b},d.getRawDataArray=function(){return c},d},i.getDataItemValue=function(a){return a&&(null==a.value?a:a.value)},i.converDataValue=function(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"!==c||isFinite(a)||null==a||"-"===a||(a=+e.parseDate(a)),null==a||""===a?0/0:+a)},i.dataFormatMixin={getDataParams:function(a){var b=this.getData(),c=this.seriesIndex,d=this.name,e=this.getRawValue(a),f=b.getRawIndex(a),g=b.getName(a,!0),h=this.getRawDataArray(),i=h&&h[f];return{componentType:"series",seriesType:this.subType,seriesIndex:c,seriesName:d,name:g,dataIndex:f,data:i,value:e,color:b.getItemVisual(a,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c){var e,f,g;return b=b||"normal",e=this.getData(),f=e.getItemModel(a),g=this.getDataParams(a),null==c&&(c=f.get(["label",b,"formatter"])),"function"==typeof c?(g.status=b,c(g)):"string"==typeof c?d.formatTpl(c,g):void 0},getRawValue:function(a){var c,b=this.getData().getItemModel(a);return b&&null!=b.option?(c=b.option,f.isObject(c)&&!f.isArray(c)?c.value:c):void 0}},i.mappingToExists=function(a,b){b=(b||[]).slice();var c=f.map(a||[],function(a){return{exist:a}});return f.each(b,function(a,d){var e,g;if(f.isObject(a))for(e=0;e<c.length;e++)if(g=c[e].exist,!c[e].option&&(null!=a.id&&g.id===a.id+""||null!=a.name&&!i.isIdInner(a)&&!i.isIdInner(g)&&g.name===a.name+"")){c[e].option=a,b[d]=null;break}}),f.each(b,function(a){var d,e;if(f.isObject(a)){for(d=0;d<c.length;d++)if(e=c[d].exist,!c[d].option&&!i.isIdInner(e)&&null==a.id){c[d].option=a;break}d>=c.length&&c.push({option:a})}}),c},i.isIdInner=function(a){return f.isObject(a)&&a.id&&0===(a.id+"").indexOf("\0_ec_\0")},a.exports=i},function(a,b,c){function f(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:""))}function g(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function h(a){var b=a.length;return"number"==typeof a?[a,a,a,a]:2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function i(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function k(a,b){return"{"+a+(null==b?"":b)+"}"}function l(a,b){var c,e,f,g,h,i;if(d.isArray(b)||(b=[b]),c=b.length,!c)return"";for(e=b[0].$vars,f=0;f<e.length;f++)g=j[f],a=a.replace(k(g),k(g,0));for(h=0;c>h;h++)for(i=0;i<e.length;i++)a=a.replace(k(j[i],h),b[h][e[i]]);return a}function m(a,b){var c,d,f,g,h,i,j;return("week"===a||"month"===a||"quarter"===a||"half-year"===a||"year"===a)&&(a="MM-dd\nyyyy"),c=e.parseDate(b),d=c.getFullYear(),f=c.getMonth()+1,g=c.getDate(),h=c.getHours(),i=c.getMinutes(),j=c.getSeconds(),a=a.replace("MM",n(f)).toLowerCase().replace("yyyy",d).replace("yy",d%100).replace("dd",n(g)).replace("d",g).replace("hh",n(h)).replace("h",h).replace("mm",n(i)).replace("m",i).replace("ss",n(j)).replace("s",j)}function n(a){return 10>a?"0"+a:a}var d=c(3),e=c(7),j=["a","b","c","d","e","f","g"];a.exports={normalizeCssArray:h,addCommas:f,toCamelCase:g,encodeHTML:i,formatTpl:l,formatTime:m}},function(a){function e(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}var c={},d=1e-4;c.linearMap=function(a,b,c,d){var f,e=b[1]-b[0];return 0===e?(c[0]+c[1])/2:(f=(a-b[0])/e,d&&(f=Math.min(Math.max(f,0),1)),f*(c[1]-c[0])+c[0])},c.parsePercent=function(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?e(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?0/0:+a},c.round=function(a){return+(+a).toFixed(10)},c.asc=function(a){return a.sort(function(a,b){return a-b}),a},c.getPrecision=function(a){var b,c;if(isNaN(a))return 0;for(b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c},c.getPixelPrecision=function(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),f=Math.round(c(Math.abs(b[1]-b[0]))/d);return Math.max(-e+f,0)},c.MAX_SAFE_INTEGER=9007199254740991,c.remRadian=function(a){var b=2*Math.PI;return(a%b+b)%b},c.isRadianAroundZero=function(a){return a>-d&&d>a},c.parseDate=function(a){return a instanceof Date?a:new Date("string"==typeof a?a.replace(/-/g,"/"):Math.round(a))},c.nice=function(a,b){var f,c=Math.floor(Math.log(a)/Math.LN10),d=Math.pow(10,c),e=a/d;return f=b?1.5>e?1:2.5>e?2:4>e?3:7>e?5:10:1>e?1:2>e?2:3>e?3:5>e?5:10,f*d},a.exports=c},function(a,b,c){function f(a,b,c,d){this.parentModel=b,this.ecModel=c,this.option=a,this.init&&(arguments.length<=4?this.init(a,b,c,d):this.init.apply(this,arguments))}var g,d=c(3),e=c(9);f.prototype={constructor:f,init:null,mergeOption:function(a){d.merge(this.option,a,!0)},get:function(a,b){var c,d,e;if(!a)return this.option;for("string"==typeof a&&(a=a.split(".")),c=this.option,d=this.parentModel,e=0;e<a.length&&(c=c&&"object"==typeof c?c[a[e]]:null,null!=c);e++);return null==c&&d&&!b&&(c=d.get(a)),c},getShallow:function(a,b){var c=this.option,d=c&&c[a],e=this.parentModel;return null==d&&e&&!b&&(d=e.getShallow(a)),d},getModel:function(a,b){var c=this.get(a,!0),d=this.parentModel,e=new f(c,b||d&&d.getModel(a),this.ecModel);return e},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var a=this.constructor;return new a(d.clone(this.option))},setReadOnly:function(a){e.setReadOnly(this,a)}},e.enableClassExtend(f),g=d.mixin,g(f,c(10)),g(f,c(12)),g(f,c(13)),g(f,c(18)),a.exports=f},function(a,b,c){function i(a,b){var c=d.slice(arguments,2);return this.superClass.prototype[b].apply(a,c)}function j(a,b,c){return this.superClass.prototype[b].apply(a,c)}var d=c(3),e={},f=".",g="___EC__COMPONENT__CONTAINER___",h=e.parseClassType=function(a){var b={main:"",sub:""};return a&&(a=a.split(f),b.main=a[0]||"",b.sub=a[1]||""),b};e.enableClassExtend=function(a,b){a.extend=function(c){var e=function(){b&&b.apply(this,arguments),a.apply(this,arguments)};return d.extend(e.prototype,c),e.extend=this.extend,e.superCall=i,e.superApply=j,d.inherits(e,this),e.superClass=this,e}},e.enableClassManagement=function(a,b){function e(a){var b=c[a.main];return b&&b[g]||(b=c[a.main]={},b[g]=!0),b}var c,f;return b=b||{},c={},a.registerClass=function(a,b){if(b)if(b=h(b),b.sub){if(b.sub!==g){var d=e(b);d[b.sub]=a}}else{if(c[b.main])throw new Error(b.main+"exists.");c[b.main]=a}return a},a.getClass=function(a,b,d){var e=c[a];if(e&&e[g]&&(e=b?e[b]:null),d&&!e)throw new Error("Component "+a+"."+(b||"")+" not exists. Load it first.");return e},a.getClassesByMainType=function(a){var b,e;return a=h(a),b=[],e=c[a.main],e&&e[g]?d.each(e,function(a,c){c!==g&&b.push(a)}):b.push(e),b},a.hasClass=function(a){return a=h(a),!!c[a.main]},a.getAllClassMainTypes=function(){var a=[];return d.each(c,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){a=h(a);var b=c[a.main];return b&&b[g]},a.parseClassType=h,b.registerWhenExtend&&(f=a.extend,f&&(a.extend=function(b){var c=f.call(this,b);return a.registerClass(c,b.type)})),a},e.setReadOnly=function(){},a.exports=e},function(a,b,c){var d=c(11)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);a.exports={getLineStyle:function(a){var b=d.call(this,a),c=this.getLineDash();return c&&(b.lineDash=c),b},getLineDash:function(){var a=this.get("type");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(a,b,c){var d=c(3);a.exports=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b){var e,f,g,c={};for(e=0;e<a.length;e++)f=a[e][1],b&&d.indexOf(b,f)>=0||(g=this.getShallow(f),null!=g&&(c[a[e][0]]=g));return c}}},function(a,b,c){a.exports={getAreaStyle:c(11)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(a,b,c){function e(a,b){return a&&a.getShallow(b)}var d=c(14);a.exports={getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){var a=this.ecModel,b=a&&a.getModel("textStyle");return[this.getShallow("fontStyle")||e(b,"fontStyle"),this.getShallow("fontWeight")||e(b,"fontWeight"),(this.getShallow("fontSize")||e(b,"fontSize")||12)+"px",this.getShallow("fontFamily")||e(b,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(a){var b=this.get("textStyle")||{};return d.getBoundingRect(a,this.getFont(),b.align,b.baseline)},ellipsis:function(a,b,c){return d.ellipsis(a,this.getFont(),b,c)}}},function(a,b,c){function i(a,b){var g,h,i,j,c=a+":"+b;if(d[c])return d[c];for(g=(a+"").split("\n"),h=0,i=0,j=g.length;j>i;i++)h=Math.max(o.measureText(g[i],b).width,h);return e>f&&(e=0,d={}),e++,d[c]=h,h}function j(a,b,c,d){var e=((a||"")+"").split("\n").length,f=i(a,b),g=i("国",b),j=e*g,k=new h(0,0,f,j);switch(k.lineHeight=g,d){case"bottom":case"alphabetic":k.y-=g;break;case"middle":k.y-=g/2}switch(c){case"end":case"right":k.x-=k.width;break;case"center":k.x-=k.width/2}return k}function k(a,b,c,d){var e=b.x,f=b.y,g=b.height,h=b.width,i=c.height,j=g/2-i/2,k="left";switch(a){case"left":e-=d,f+=j,k="right";break;case"right":e+=d+h,f+=j,k="left";break;case"top":e+=h/2,f-=d+i,k="center";break;case"bottom":e+=h/2,f+=g+d,k="center";break;case"inside":e+=h/2,f+=j,k="center";break;case"insideLeft":e+=d,f+=j,k="left";break;case"insideRight":e+=h-d,f+=j,k="right";break;case"insideTop":e+=h/2,f+=d,k="center";break;case"insideBottom":e+=h/2,f+=g-i-d,k="center";break;case"insideTopLeft":e+=d,f+=d,k="left";break;case"insideTopRight":e+=h-d,f+=d,k="right";break;case"insideBottomLeft":e+=d,f+=g-i-d;break;case"insideBottomRight":e+=h-d,f+=g-i-d,k="right"}return{x:e,y:f,textAlign:k,textBaseline:"top"}}function l(a,b,c,d){var e,f,h;if(!c)return"";for(d=g.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:i("国",b),ascCharWidth:i("a",b)},d,!0),c-=i(d.ellipsis),e=(a+"").split("\n"),f=0,h=e.length;h>f;f++)e[f]=m(e[f],b,c,d);return e.join("\n")}function m(a,b,c,d){var e,f,g;for(e=0;;e++){if(f=i(a,b),c>f||e>=d.maxIterations){a+=d.ellipsis;break}if(g=0===e?n(a,c,d):Math.floor(a.length*c/f),g<d.minCharacters){a="";break}a=a.substr(0,g)}return a}function n(a,b,c){var f,g,d=0,e=0;for(f=a.length;f>e&&b>d;e++)g=a.charCodeAt(e),d+=g>=0&&127>=g?c.ascCharWidth:c.cnCharWidth;return e}var d={},e=0,f=5e3,g=c(3),h=c(15),o={getWidth:i,getBoundingRect:j,adjustTextPositionOnRect:k,ellipsis:l,measureText:function(a,b){var c=g.getContext();return c.font=b,c.measureText(a)}};a.exports=o},function(a,b,c){"use strict";function j(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d}var d=c(16),e=c(17),f=d.applyTransform,g=Math.min,h=Math.abs,i=Math.max;j.prototype={constructor:j,union:function(a){var b=g(a.x,this.x),c=g(a.y,this.y);this.width=i(a.x+a.width,this.x+this.width)-b,this.height=i(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var a=[],b=[];return function(c){c&&(a[0]=this.x,a[1]=this.y,b[0]=this.x+this.width,b[1]=this.y+this.height,f(a,a,c),f(b,b,c),this.x=g(a[0],b[0]),this.y=g(a[1],b[1]),this.width=h(b[0]-a[0]),this.height=h(b[1]-a[1]))
}}(),calculateTransform:function(a){var b=this,c=a.width/b.width,d=a.height/b.height,f=e.create();return e.translate(f,f,[-b.x,-b.y]),e.scale(f,f,[c,d]),e.translate(f,f,[a.x,a.y]),f},intersect:function(a){var b=this,c=b.x,d=b.x+b.width,e=b.y,f=b.y+b.height,g=a.x,h=a.x+a.width,i=a.y,j=a.y+a.height;return!(g>d||c>h||i>f||e>j)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new j(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height}},a.exports=j},function(a){var c="undefined"==typeof Float32Array?Array:Float32Array,d={create:function(a,b){var d=new c(2);return d[0]=a||0,d[1]=b||0,d},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a},clone:function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},set:function(a,b,c){return a[0]=b,a[1]=c,a},add:function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},scaleAndAdd:function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},sub:function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},normalize:function(a,b){var c=d.len(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a},distance:function(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))},distanceSquare:function(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])},negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a},applyTransform:function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},min:function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},max:function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}};d.length=d.len,d.lengthSquare=d.lenSquare,d.dist=d.distance,d.distSquare=d.distanceSquare,a.exports=d},function(a){var c="undefined"==typeof Float32Array?Array:Float32Array,d={create:function(){var a=new c(6);return d.identity(a),a},identity:function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},mul:function(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a},translate:function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},rotate:function(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+g*j,a[1]=-d*j+g*k,a[2]=e*k+h*j,a[3]=-e*j+k*h,a[4]=k*f+j*i,a[5]=k*i-j*f,a},scale:function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},invert:function(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}};a.exports=d},function(a,b,c){a.exports={getItemStyle:c(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(a,b,c){function k(a){var b=[];return e.each(j.getClassesByMainType(a),function(a){f.apply(b,a.prototype.dependencies||[])}),e.map(b,function(a){return h.parseClassType(a).main})}var d=c(8),e=c(3),f=Array.prototype.push,g=c(20),h=c(9),i=c(21),j=d.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?i.getLayoutParams(a):{},f=b.getTheme();e.merge(a,f.get(this.mainType)),e.merge(a,this.getDefaultOption()),c&&i.mergeLayoutParam(a,d,c)},mergeOption:function(a){e.merge(this.option,a,!0);var b=this.layoutMode;b&&i.mergeLayoutParam(this.option,a,b)},optionUpdated:function(){},getDefaultOption:function(){var a,b,c,d,f;if(!this.hasOwnProperty("__defaultOption")){for(a=[],b=this.constructor;b;)c=b.prototype.defaultOption,c&&a.push(c),b=b.superClass;for(d={},f=a.length-1;f>=0;f--)d=e.merge(d,a[f],!0);this.__defaultOption=d}return this.__defaultOption}});h.enableClassExtend(j,function(a,b,c,d){e.extend(this,d),this.uid=g.getUID("componentModel")}),h.enableClassManagement(j,{registerWhenExtend:!0}),g.enableSubTypeDefaulter(j),g.enableTopologicalTravel(j,k),e.mixin(j,c(22)),a.exports=j},function(a,b,c){var d=c(3),e=c(9),f=e.parseClassType,g=0,h={},i="_";h.getUID=function(a){return[a||"",g++,Math.random()].join(i)},h.enableSubTypeDefaulter=function(a){var b={};return a.registerSubTypeDefaulter=function(a,c){a=f(a),b[a.main]=c},a.determineSubType=function(c,d){var g,e=d.type;return e||(g=f(c).main,a.hasSubTypes(c)&&b[g]&&(e=b[g](d))),e},a},h.enableTopologicalTravel=function(a,b){function c(a){var c={},g=[];return d.each(a,function(h){var i=e(c,h),j=i.originalDeps=b(h),k=f(j,a);i.entryCount=k.length,0===i.entryCount&&g.push(h),d.each(k,function(a){d.indexOf(i.predecessor,a)<0&&i.predecessor.push(a);var b=e(c,a);d.indexOf(b.successor,a)<0&&b.successor.push(h)})}),{graph:c,noEntryList:g}}function e(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function f(a,b){var c=[];return d.each(a,function(a){d.indexOf(b,a)>=0&&c.push(a)}),c}a.topologicalTravel=function(a,b,e,f){function n(a){h[a].entryCount--,0===h[a].entryCount&&i.push(a)}function o(a){j[a]=!0,n(a)}var g,h,i,j,k,l,m;if(a.length){for(g=c(b),h=g.graph,i=g.noEntryList,j={},d.each(a,function(a){j[a]=!0});i.length;)k=i.pop(),l=h[k],m=!!j[k],m&&(e.call(f,k,l.originalDeps.slice()),delete j[k]),d.each(l.successor,m?o:n);d.each(j,function(){throw new Error("Circle dependency may exists")})}}},a.exports=h},function(a,b,c){"use strict";function l(a,b,c,d,e){var h,f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0),h=0,b.eachChild(function(i,j){var o,p,q,r,k=i.position,l=i.getBoundingRect(),m=b.childAt(j+1),n=m&&m.getBoundingRect();"horizontal"===a?(q=l.width+(n?-n.x+l.x:0),o=f+q,o>d||i.newline?(f=0,o=q,g+=h+c,h=l.height):h=Math.max(h,l.height)):(r=l.height+(n?-n.y+l.y:0),p=g+r,p>e||i.newline?(f+=h+c,g=0,p=r,h=l.width):h=Math.max(h,l.width)),i.newline||(k[0]=f,k[1]=g,"horizontal"===a?f=o+c:g=p+c)})}var d=c(3),e=c(15),f=c(7),g=c(6),h=f.parsePercent,i=d.each,j={},k=["left","right","top","bottom","width","height"];j.box=l,j.vbox=d.curry(l,"vertical"),j.hbox=d.curry(l,"horizontal"),j.getAvailableSize=function(a,b,c){var d=b.width,e=b.height,f=h(a.x,d),i=h(a.y,e),j=h(a.x2,d),k=h(a.y2,e);return(isNaN(f)||isNaN(parseFloat(a.x)))&&(f=0),(isNaN(j)||isNaN(parseFloat(a.x2)))&&(j=d),(isNaN(i)||isNaN(parseFloat(a.y)))&&(i=0),(isNaN(k)||isNaN(parseFloat(a.y2)))&&(k=e),c=g.normalizeCssArray(c||0),{width:Math.max(j-f-c[1]-c[3],0),height:Math.max(k-i-c[0]-c[2],0)}},j.getLayoutRect=function(a,b,c){var d,f,i,j,k,l,m,n,o,p,q,r;switch(c=g.normalizeCssArray(c||0),d=b.width,f=b.height,i=h(a.left,d),j=h(a.top,f),k=h(a.right,d),l=h(a.bottom,f),m=h(a.width,d),n=h(a.height,f),o=c[2]+c[0],p=c[1]+c[3],q=a.aspect,isNaN(m)&&(m=d-k-p-i),isNaN(n)&&(n=f-l-o-j),isNaN(m)&&isNaN(n)&&(q>d/f?m=.8*d:n=.8*f),null!=q&&(isNaN(m)&&(m=q*n),isNaN(n)&&(n=m/q)),isNaN(i)&&(i=d-k-m-p),isNaN(j)&&(j=f-l-n-o),a.left||a.right){case"center":i=d/2-m/2-c[3];break;case"right":i=d-m-p}switch(a.top||a.bottom){case"middle":case"center":j=f/2-n/2-c[0];break;case"bottom":j=f-n-o}return i=i||0,j=j||0,isNaN(m)&&(m=d-i-(k||0)),isNaN(n)&&(n=f-j-(l||0)),r=new e(i+c[3],j+c[0],m,n),r.margin=c,r},j.positionGroup=function(a,b,c,e){var f=a.getBoundingRect();b=d.extend(d.clone(b),{width:f.width,height:f.height}),b=j.getLayoutRect(b,c,e),a.position=[b.x-f.x,b.y-f.y]},j.mergeLayoutParam=function(a,b,c){function j(d){var m,n,e={},f=0,g={},h=0,j=c.ignoreSize?1:2;if(i(d,function(b){g[b]=a[b]}),i(d,function(a){k(b,a)&&(e[a]=g[a]=b[a]),l(e,a)&&f++,l(g,a)&&h++}),h!==j&&f){if(f>=j)return e;for(m=0;m<d.length;m++)if(n=d[m],!k(e,n)&&k(a,n)){e[n]=a[n];break}return e}return g}function k(a,b){return a.hasOwnProperty(b)}function l(a,b){return null!=a[b]&&"auto"!==a[b]}function m(a,b,c){i(a,function(a){b[a]=c[a]})}var e,f,g,h;!d.isObject(c)&&(c={}),e=["width","left","right"],f=["height","top","bottom"],g=j(e),h=j(f),m(e,a,g),m(f,a,h)},j.getLayoutParams=function(a){return j.copyLayoutParams({},a)},j.copyLayoutParams=function(a,b){return b&&a&&i(k,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a},a.exports=j},function(a){a.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(a){var c="";"undefined"!=typeof navigator&&(c=navigator.platform||""),a.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:c.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}},function(a,b,c){"use strict";function f(a){d.each(e,function(b){this[b]=d.bind(a[b],a)},this)}var d=c(3),e=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];a.exports=f},function(a){"use strict";function d(){this._coordinateSystems=[]}var c={};d.prototype={constructor:d,create:function(a,b){var e,f,d=[];for(e in c)f=c[e].create(a,b),f&&(d=d.concat(f));this._coordinateSystems=d},update:function(a,b){var d,c=this._coordinateSystems;for(d=0;d<c.length;d++)c[d].update&&c[d].update(a,b)}},d.register=function(a,b){c[a]=b},d.get=function(a){return c[a]},a.exports=d},function(a,b,c){function l(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newOptionBackup}function m(a,b){var f,h,j,c=[],e=[],i=a.timeline;return a.baseOption&&(h=a.baseOption),(i||a.options)&&(h=h||{},c=(a.options||[]).slice()),a.media&&(h=h||{},j=a.media,g(j,function(a){a&&a.option&&(a.query?e.push(a):f||(f=a))})),h||(h=a),h.timeline||(h.timeline=i),g([h].concat(c).concat(d.map(e,function(a){return a.option})),function(a){g(b,function(b){b(a)})}),{baseOption:h,timelineOptions:c,mediaDefault:f,mediaList:e}}function n(a,b,c){var e={width:b,height:c,aspectratio:b/c},f=!0;return d.each(a,function(a,b){var d,g,c=b.match(k);c&&c[1]&&c[2]&&(d=c[1],g=c[2].toLowerCase(),o(e[g],a,d)||(f=!1))}),f}function o(a,b,c){return"min"===c?a>=b:"max"===c?b>=a:a===b}function p(a,b){return a.join(",")===b.join(",")}function q(a,b){b=b||{},g(b,function(b,c){var d,g;null!=b&&(d=a[c],f.hasClass(c)?(b=e.normalizeToArray(b),d=e.normalizeToArray(d),g=e.mappingToExists(d,b),a[c]=i(g,function(a){return a.option&&a.exist?j(a.exist,a.option,!0):a.exist||a.option})):a[c]=j(d,b,!0))})}var d=c(3),e=c(5),f=c(19),g=d.each,h=d.clone,i=d.map,j=d.merge,k=/^(min|max)?(.+)$/;l.prototype={constructor:l,setOption:function(a,b){var c,d;a=h(a,!0),c=this._optionBackup,d=this._newOptionBackup=m.call(this,a,b),c?(q(c.baseOption,d.baseOption),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(a){var b=a?this._optionBackup:this._newOptionBackup;return this._timelineOptions=i(b.timelineOptions,h),this._mediaList=i(b.mediaList,h),this._mediaDefault=h(b.mediaDefault),this._currentMediaIndices=[],h(b.baseOption)},getTimelineOption:function(a){var b,d,c=this._timelineOptions;return c.length&&(d=a.getComponent("timeline"),d&&(b=h(c[d.getCurrentIndex()],!0))),b},getMediaOption:function(){var j,k,b=this._api.getWidth(),c=this._api.getHeight(),d=this._mediaList,e=this._mediaDefault,f=[],g=[];if(!d.length&&!e)return g;for(j=0,k=d.length;k>j;j++)n(d[j].query,b,c)&&f.push(j);return!f.length&&e&&(f=[-1]),f.length&&!p(f,this._currentMediaIndices)&&(g=i(f,function(a){return h(-1===a?e.option:d[a].option)})),this._currentMediaIndices=f,g}},a.exports=l},function(a,b,c){"use strict";var d=c(3),e=c(6),f=c(5),g=c(19),h=e.encodeHTML,i=e.addCommas,j=g.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(a,b,c){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(a,c),this._dataBeforeProcessed=this.getInitialData(a,c),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(a,b){var c,e;for(d.merge(a,b.getTheme().get(this.subType)),d.merge(a,this.getDefaultOption()),f.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"]),c=a.data||[],e=0;e<c.length;e++)c[e]&&c[e].label&&f.defaultEmphasis(c[e].label,["position","show","textStyle","distance","formatter"])},mergeOption:function(a,b){a=d.merge(this.option,a,!0);var c=this.getInitialData(a,b);c&&(this._data=c,this._dataBeforeProcessed=c.cloneShallow())},getInitialData:function(){},getData:function(){return this._data},setData:function(a){this._data=a},getRawData:function(){return this._dataBeforeProcessed},getRawDataArray:function(){return this.option.data},coordDimToDataDim:function(a){return[a]},dataDimToCoordDim:function(a){return a},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b){var c=this._data,e=this.getRawValue(a),f=d.isArray(e)?d.map(e,i).join(", "):i(e),g=c.getName(a),j=c.getItemVisual(a,"color"),k='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+j+'"></span>';return b?k+h(this.name)+" : "+f:h(this.name)+"<br />"+k+(g?h(g)+" : "+f:f)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()}});d.mixin(j,f.dataFormatMixin),a.exports=j},function(a,b,c){var h,d=c(29),e=c(20),f=c(9),g=function(){this.group=new d,this.uid=e.getUID("viewComponent")};g.prototype={constructor:g,init:function(){},render:function(){},dispose:function(){}},h=g.prototype,h.updateView=h.updateLayout=h.updateVisual=function(){},f.enableClassExtend(g),f.enableClassManagement(g,{registerWhenExtend:!0}),a.exports=g},function(a,b,c){var d=c(3),e=c(30),f=c(15),g=function(a){a=a||{},e.call(this,a);for(var b in a)this[b]=a[b];this._children=[],this.__storage=null,this.__dirty=!0};g.prototype={constructor:g,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){var c,b=this._children;for(c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){var c,d;return a&&a!==this&&a.parent!==this&&b&&b.parent===this&&(c=this._children,d=c.indexOf(b),d>=0&&(c.splice(d,0,a),this._doAdd(a))),this},_doAdd:function(a){var b,c;a.parent&&a.parent.remove(a),a.parent=this,b=this.__storage,c=this.__zr,b&&b!==a.__storage&&(b.addToMap(a),a instanceof g&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,e=this._children,f=d.indexOf(e,a);return 0>f?this:(e.splice(f,1),a.parent=null,c&&(c.delFromMap(a.id),a instanceof g&&a.delChildrenFromStorage(c)),b&&b.refresh(),this)},removeAll:function(){var c,d,a=this._children,b=this.__storage;for(d=0;d<a.length;d++)c=a[d],b&&(b.delFromMap(c.id),c instanceof g&&c.delChildrenFromStorage(b)),c.parent=null;return a.length=0,this},eachChild:function(a,b){var d,e,c=this._children;for(d=0;d<c.length;d++)e=c[d],a.call(b,e,d);return this},traverse:function(a,b){var c,d;for(c=0;c<this._children.length;c++)d=this._children[c],a.call(b,d),"group"===d.type&&d.traverse(a,b);return this},addChildrenToStorage:function(a){var b,c;for(b=0;b<this._children.length;b++)c=this._children[b],a.addToMap(c),c instanceof g&&c.addChildrenToStorage(a)},delChildrenFromStorage:function(a){var b,c;for(b=0;b<this._children.length;b++)c=this._children[b],a.delFromMap(c.id),c instanceof g&&c.delChildrenFromStorage(a)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){var g,h,i,j,b=null,c=new f(0,0,0,0),d=a||this._children,e=[];for(g=0;g<d.length;g++)h=d[g],h.ignore||h.invisible||(i=h.getBoundingRect(),j=h.getLocalTransform(e),j?(c.copy(i),c.applyTransform(j),b=b||c.clone(),b.union(c)):(b=b||i.clone(),b.union(i)));return b||c}},d.inherits(g,e),a.exports=g},function(a,b,c){"use strict";var d=c(31),e=c(32),f=c(33),g=c(34),h=c(3),i=function(a){f.call(this,a),e.call(this,a),g.call(this,a),this.id=a.id||d()};i.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(h.isObject(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty()},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(a){var b,c;if(this.__zr=a,b=this.animators)for(c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){var b,c;if(this.__zr=null,b=this.animators)for(c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}},h.mixin(i,g),h.mixin(i,f),h.mixin(i,e),a.exports=i},function(a){var c=2311;a.exports=function(){return"zr_"+c++}},function(a,b,c){var d=Array.prototype.slice,e=c(3),f=e.indexOf,g=function(){this._$handlers={}};g.prototype={constructor:g,one:function(a,b,c){var d=this._$handlers;return b&&a?(d[a]||(d[a]=[]),f(d[a],a)>=0?this:(d[a].push({h:b,one:!0,ctx:c||this}),this)):this},on:function(a,b,c){var d=this._$handlers;return b&&a?(d[a]||(d[a]=[]),d[a].push({h:b,one:!1,ctx:c||this}),this):this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var d,e,f,c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(d=[],e=0,f=c[a].length;f>e;e++)c[a][e]["h"]!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){var b,c,e,f,g;if(this._$handlers[a])for(b=arguments,c=b.length,c>3&&(b=d.call(b,1)),e=this._$handlers[a],f=e.length,g=0;f>g;){switch(c){case 1:e[g]["h"].call(e[g]["ctx"]);break;case 2:e[g]["h"].call(e[g]["ctx"],b[1]);break;case 3:e[g]["h"].call(e[g]["ctx"],b[1],b[2]);break;default:e[g]["h"].apply(e[g]["ctx"],b)}e[g]["one"]?(e.splice(g,1),f--):g++}return this},triggerWithContext:function(a){var b,c,e,f,g,h;if(this._$handlers[a])for(b=arguments,c=b.length,c>4&&(b=d.call(b,1,b.length-1)),e=b[b.length-1],f=this._$handlers[a],g=f.length,h=0;g>h;){switch(c){case 1:f[h]["h"].call(e);break;case 2:f[h]["h"].call(e,b[1]);break;case 3:f[h]["h"].call(e,b[1],b[2]);break;default:f[h]["h"].apply(e,b)}f[h]["one"]?(f.splice(h,1),g--):h++}return this}},a.exports=g},function(a,b,c){"use strict";function h(a){return a>g||-g>a}var k,d=c(17),e=c(16),f=d.identity,g=5e-5,i=function(a){a=a||{},a.position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},j=i.prototype;j.transform=null,j.needLocalTransform=function(){return h(this.rotation)||h(this.position[0])||h(this.position[1])||h(this.scale[0]-1)||h(this.scale[1]-1)},j.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),e=this.transform;return c||b?(e=e||d.create(),c?this.getLocalTransform(e):f(e),b&&(c?d.mul(e,a.transform,e):d.copy(e,a.transform)),this.transform=e,this.invTransform=this.invTransform||d.create(),d.invert(this.invTransform,e),void 0):(e&&f(e),void 0)},j.getLocalTransform=function(a){var b,c,e,g;return a=a||[],f(a),b=this.origin,c=this.scale,e=this.rotation,g=this.position,b&&(a[4]-=b[0],a[5]-=b[1]),d.scale(a,a,c),e&&d.rotate(a,a,e),b&&(a[4]+=b[0],a[5]+=b[1]),a[4]+=g[0],a[5]+=g[1],a},j.setTransform=function(a){var b=this.transform;b&&a.transform(b[0],b[1],b[2],b[3],b[4],b[5])},k=[],j.decomposeTransform=function(){var a,b,c,e,f,g;this.transform&&(a=this.parent,b=this.transform,a&&a.transform&&(d.mul(k,a.invTransform,b),b=k),c=b[0]*b[0]+b[1]*b[1],e=b[2]*b[2]+b[3]*b[3],f=this.position,g=this.scale,h(c-1)&&(c=Math.sqrt(c)),h(e-1)&&(e=Math.sqrt(e)),b[0]<0&&(c=-c),b[3]<0&&(e=-e),f[0]=b[4],f[1]=b[5],g[0]=c,g[1]=e,this.rotation=Math.atan2(-b[1]/e,b[0]/c))},j.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&e.applyTransform(c,c,d),c},j.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&e.applyTransform(c,c,d),c},a.exports=i},function(a,b,c){"use strict";var d=c(35),e=c(3),f=e.isString,g=e.isFunction,h=e.isObject,i=c(39),j=function(){this.animators=[]};j.prototype={constructor:j,animate:function(a,b){var c,j,k,l,m,n,o,f=!1,g=this,h=this.__zr;if(a){for(j=a.split("."),k=g,f="shape"===j[0],l=0,m=j.length;m>l;l++)k&&(k=k[j[l]]);k&&(c=k)}else c=g;return c?(n=g.animators,o=new d(c,b),o.during(function(){g.dirty(f)}).done(function(){n.splice(e.indexOf(n,o),1)}),n.push(o),h&&h.animation.addAnimator(o),o):(i('Property "'+a+'" is not existed in element '+g.id),void 0)},stopAnimation:function(a){var d,b=this.animators,c=b.length;for(d=0;c>d;d++)b[d].stop(a);return b.length=0,this},animateTo:function(a,b,c,d,e){function j(){i--,i||e&&e()}var h,i,k;for(f(c)?(e=d,d=c,c=0):g(d)?(e=d,d="linear",c=0):g(c)?(e=c,c=0):g(b)?(e=b,b=500):b||(b=500),this.stopAnimation(),this._animateToShallow("",this,a,b,c,d,e),h=this.animators.slice(),i=h.length,i||e&&e(),k=0;k<h.length;k++)h[k].done(j).start(d)},_animateToShallow:function(a,b,c,d,f){var j,k,g={},i=0;for(j in c)null!=b[j]?h(c[j])&&!e.isArrayLike(c[j])?this._animateToShallow(a?a+"."+j:j,b[j],c[j],d,f):(g[j]=c[j],i++):null!=c[j]&&(a?(k={},k[a]={},k[a][j]=c[j],this.attr(k)):this.attr(j,c[j]));return i>0&&this.animate(a,!1).when(null==d?500:d,g).delay(f||0),this}},a.exports=j},function(a,b,c){function i(a,b){return a[b]}function j(a,b,c){a[b]=c}function k(a,b,c){return(b-a)*c+a}function l(a,b,c){return c>.5?b:a}function m(a,b,c,d,e){var g,h,i,f=a.length;if(1==e)for(g=0;f>g;g++)d[g]=k(a[g],b[g],c);else for(h=a[0].length,g=0;f>g;g++)for(i=0;h>i;i++)d[g][i]=k(a[g][i],b[g][i],c)}function n(a,b,c){var f,g,d=a.length,e=b.length;if(d!==e)if(f=d>e)a.length=e;else for(g=d;e>g;g++)a.push(1===c?b[g]:h.call(b[g]))}function o(a,b,c){var d,e,f,g;if(a===b)return!0;if(d=a.length,d!==b.length)return!1;if(1===c){for(e=0;d>e;e++)if(a[e]!==b[e])return!1}else for(f=a[0].length,e=0;d>e;e++)for(g=0;f>g;g++)if(a[e][g]!==b[e][g])return!1;return!0}function p(a,b,c,d,e,f,g,h,i){var k,l,m,j=a.length;if(1==i)for(k=0;j>k;k++)h[k]=q(a[k],b[k],c[k],d[k],e,f,g);else for(l=a[0].length,k=0;j>k;k++)for(m=0;l>m;m++)h[k][m]=q(a[k][m],b[k][m],c[k][m],d[k][m],e,f,g)}function q(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function r(a){var b,c,d;if(g(a)){if(b=a.length,g(a[0])){for(c=[],d=0;b>d;d++)c.push(h.call(a[d]));return c}return h.call(a)}return a}function s(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function t(a,b,c,f,h){var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,i=a._getter,j=a._setter,r="spline"===b,t=f.length;if(t){for(u=f[0].value,v=g(u),w=!1,x=!1,y=v&&g(u[0])?2:1,f.sort(function(a,b){return a.time-b.time}),z=f[t-1].time,A=[],B=[],C=f[0].value,D=!0,E=0;t>E;E++)A.push(f[E].time/z),F=f[E].value,v&&o(F,C,y)||!v&&F===C||(D=!1),C=F,"string"==typeof F&&(G=e.parse(F),G?(F=G,w=!0):x=!0),B.push(F);if(!D){if(v){for(H=B[t-1],E=0;t-1>E;E++)n(B[E],H,y);n(i(a._target,h),H,y)}return I=0,J=0,w&&(Q=[0,0,0,0]),R=function(a,b){var c,d,e;if(J>b){for(K=Math.min(I+1,t-1),c=K;c>=0&&!(A[c]<=b);c--);c=Math.min(c,t-2)}else{for(c=I;t>c&&!(A[c]>b);c++);c=Math.min(c-1,t-2)}if(I=c,J=b,d=A[c+1]-A[c],0!==d)if(L=(b-A[c])/d,r)if(N=B[c],M=B[0===c?c:c-1],O=B[c>t-2?t-1:c+1],P=B[c>t-3?t-1:c+2],v)p(M,N,O,P,L,L*L,L*L*L,i(a,h),y);else{if(w)e=p(M,N,O,P,L,L*L,L*L*L,Q,1),e=s(Q);else{if(x)return l(N,O,L);e=q(M,N,O,P,L,L*L,L*L*L)}j(a,h,e)}else if(v)m(B[c],B[c+1],L,i(a,h),y);else{if(w)m(B[c],B[c+1],L,Q,1),e=s(Q);else{if(x)return l(B[c],B[c+1],L);e=k(B[c],B[c+1],L)}j(a,h,e)}},S=new d({target:a._target,life:z,loop:a._loop,delay:a._delay,onframe:R,ondestroy:c}),b&&"spline"!==b&&(S.easing=b),S}}}var d=c(36),e=c(38),f=c(3),g=f.isArrayLike,h=Array.prototype.slice,u=function(a,b,c,d){this._tracks={},this._target=a,this._loop=b||!1,this._getter=c||i,this._setter=d||j,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};u.prototype={when:function(a,b){var d,e,c=this._tracks;for(d in b){if(!c[d]){if(c[d]=[],e=this._getter(this._target,d),null==e)continue;0!==a&&c[d].push({time:0,value:r(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){return this._onframeList.push(a),this},_doneCallback:function(){var a,b,c;for(this._tracks={},this._clipList.length=0,a=this._doneList,b=a.length,c=0;b>c;c++)a[c].call(this)},start:function(a){var e,f,g,h,b=this,c=0,d=function(){c--,c||b._doneCallback()};for(f in this._tracks)g=t(this,a,d,this._tracks[f],f),g&&(this._clipList.push(g),c++,this.animation&&this.animation.addClip(g),e=g);return e&&(h=e.onframe,e.onframe=function(a,c){h(a,c);for(var d=0;d<b._onframeList.length;d++)b._onframeList[d](a,c)}),c||this._doneCallback(),this},stop:function(a){var d,e,b=this._clipList,c=this.animation;for(d=0;d<b.length;d++)e=b[d],a&&e.onframe(this._target,1),c&&c.removeClip(e);b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}},a.exports=u},function(a,b,c){function e(a){this._target=a.target,this._life=a.life||1e3,this._delay=a.delay||0,this._initialized=!1,this.loop=null==a.loop?!1:a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart}var d=c(37);e.prototype={constructor:e,step:function(a){var b,c,e,f;return this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0),b=(a-this._startTime)/this._life,0>b?void 0:(b=Math.min(b,1),c=this.easing,e="string"==typeof c?d[c]:c,f="function"==typeof e?e(b):b,this.fire("frame",f),1==b?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null)},restart:function(){var a=(new Date).getTime(),b=(a-this._startTime)%this._life;this._startTime=(new Date).getTime()-b+this.gap,this._needsRemove=!1},fire:function(a,b){a="on"+a,this[a]&&this[a](this._target,b)}},a.exports=e},function(a){var c={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/d)))},elasticOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/d)+1)},elasticInOut:function(a){var b,c=.1,d=.4;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=d/4):b=d*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?-.5*c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/d):.5*c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/d)+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?.5*a*a*((b+1)*a-b):.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-c.bounceOut(1-a)},bounceOut:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>a?.5*c.bounceIn(2*a):.5*c.bounceOut(2*a-1)+.5}};a.exports=c},function(a){function d(a){return a=Math.round(a),0>a?0:a>255?255:a}function e(a){return a=Math.round(a),0>a?0:a>360?360:a}function f(a){return 0>a?0:a>1?1:a}function g(a){return a.length&&"%"===a.charAt(a.length-1)?d(255*(parseFloat(a)/100)):d(parseInt(a,10))}function h(a){return a.length&&"%"===a.charAt(a.length-1)?f(parseFloat(a)/100):f(parseFloat(a))}function i(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function j(a,b,c){return a+(b-a)*c}function k(a){var b,d,e,f,i,j,k;if(a){if(a+="",b=a.replace(/ /g,"").toLowerCase(),b in c)return c[b].slice();if("#"!==b.charAt(0)){if(e=b.indexOf("("),f=b.indexOf(")"),-1!==e&&f+1===b.length)switch(i=b.substr(0,e),j=b.substr(e+1,f-(e+1)).split(","),k=1,i){case"rgba":if(4!==j.length)return;k=h(j.pop());case"rgb":if(3!==j.length)return;return[g(j[0]),g(j[1]),g(j[2]),k];case"hsla":if(4!==j.length)return;return j[3]=h(j[3]),l(j);case"hsl":if(3!==j.length)return;return l(j);default:return}}else{if(4===b.length){if(d=parseInt(b.substr(1),16),!(d>=0&&4095>=d))return;return[(3840&d)>>4|(3840&d)>>8,240&d|(240&d)>>4,15&d|(15&d)<<4,1]}if(7===b.length){if(d=parseInt(b.substr(1),16),!(d>=0&&16777215>=d))return;return[(16711680&d)>>16,(65280&d)>>8,255&d,1]}}}}function l(a){var b=(parseFloat(a[0])%360+360)%360/360,c=h(a[1]),e=h(a[2]),f=.5>=e?e*(c+1):e+c-e*c,g=2*e-f,j=[d(255*i(g,f,b+1/3)),d(255*i(g,f,b)),d(255*i(g,f,b-1/3))];return 4===a.length&&(j[3]=a[3]),j}function m(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;if(a)return b=a[0]/255,c=a[1]/255,d=a[2]/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=f-e,h=(f+e)/2,0===g?(i=0,j=0):(j=.5>h?g/(f+e):g/(2-f-e),k=((f-b)/6+g/2)/g,l=((f-c)/6+g/2)/g,m=((f-d)/6+g/2)/g,b===f?i=m-l:c===f?i=1/3+k-m:d===f&&(i=2/3+l-k),0>i&&(i+=1),i>1&&(i-=1)),n=[360*i,j,h],null!=a[3]&&n.push(a[3]),n}function n(a,b){var d,c=k(a);if(c){for(d=0;3>d;d++)c[d]=0>b?0|c[d]*(1-b):0|(255-c[d])*b+c[d];return u(c,4===c.length?"rgba":"rgb")
}}function o(a){var c=k(a);return c?((1<<24)+(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1):void 0}function p(a,b,c){var e,f,g,h,i,k;if(b&&b.length&&a>=0&&1>=a)return c=c||[0,0,0,0],e=a*(b.length-1),f=Math.floor(e),g=Math.ceil(e),h=b[f],i=b[g],k=e-f,c[0]=d(j(h[0],i[0],k)),c[1]=d(j(h[1],i[1],k)),c[2]=d(j(h[2],i[2],k)),c[3]=d(j(h[3],i[3],k)),c}function q(a,b,c){var e,g,h,i,l,m,n;if(b&&b.length&&a>=0&&1>=a)return e=a*(b.length-1),g=Math.floor(e),h=Math.ceil(e),i=k(b[g]),l=k(b[h]),m=e-g,n=u([d(j(i[0],l[0],m)),d(j(i[1],l[1],m)),d(j(i[2],l[2],m)),f(j(i[3],l[3],m))],"rgba"),c?{color:n,leftIndex:g,rightIndex:h,value:e}:n}function r(a,b){var c,d,e,f,g,h,i;if(!(2!==a.length||a[1]<a[0])){for(c=q(a[0],b,!0),d=q(a[1],b,!0),e=[{color:c.color,offset:0}],f=d.value-c.value,g=Math.max(c.value,c.rightIndex),h=Math.min(d.value,d.leftIndex),i=g;f>0&&h>=i;i++)e.push({color:b[i],offset:(i-c.value)/f});return e.push({color:d.color,offset:1}),e}}function s(a,b,c,d){return a=k(a),a?(a=m(a),null!=b&&(a[0]=e(b)),null!=c&&(a[1]=h(c)),null!=d&&(a[2]=h(d)),u(l(a),"rgba")):void 0}function t(a,b){return a=k(a),a&&null!=b?(a[3]=f(b),u(a,"rgba")):void 0}function u(a,b){return("rgb"===b||"hsv"===b||"hsl"===b)&&(a=a.slice(0,3)),b+"("+a.join(",")+")"}var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};a.exports={parse:k,lift:n,toHex:o,fastMapToColor:p,mapToColor:q,mapIntervalToColor:r,modifyHSL:s,modifyAlpha:t,stringify:u}},function(a,b,c){var d=c(40);a.exports=function(){var a;if(0!==d.debugMode)if(1==d.debugMode)for(a in arguments)throw new Error(arguments[a]);else if(d.debugMode>1)for(a in arguments)console.log(arguments[a])}},function(a){var d,c=1;"undefined"!=typeof window&&(c=Math.max(window.devicePixelRatio||1,1)),d={debugMode:0,devicePixelRatio:c},a.exports=d},function(a,b,c){function g(){this.group=new d,this.uid=e.getUID("viewChart")}function i(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)i(a.childAt(c),b)}function j(a,b,c){var d,e;null!=b.dataIndex?(d=a.getItemGraphicEl(b.dataIndex),i(d,c)):b.name?(e=a.indexOfName(b.name),d=a.getItemGraphicEl(e),i(d,c)):a.eachItemGraphicEl(function(a){i(a,c)})}var h,d=c(29),e=c(20),f=c(9);g.prototype={type:"chart",init:function(){},render:function(){},highlight:function(a,b,c,d){j(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){j(a.getData(),d,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}},h=g.prototype,h.updateView=h.updateLayout=h.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},f.enableClassExtend(g),f.enableClassManagement(g,{registerWhenExtend:!0}),a.exports=g},function(a,b,c){"use strict";function m(a){var b,c,d,e,f,g;if(!a.__isHover){if(a.__hoverStlDirty){b=a.style.stroke,c=a.style.fill,d=a.__hoverStl,e=h.lift,d.fill=d.fill||c&&(c instanceof k?c:e(c,-.1)),d.stroke=d.stroke||b&&(b instanceof k?b:e(b,-.1)),f={};for(g in d)d.hasOwnProperty(g)&&(f[g]=a.style[g]);a.__normalStl=f,a.__hoverStlDirty=!1}a.setStyle(a.__hoverStl),a.z2+=1,a.__isHover=!0}}function n(a){if(a.__isHover){var b=a.__normalStl;b&&a.setStyle(b),a.z2-=1,a.__isHover=!1}}function o(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&m(a)}):m(a)}function p(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&n(a)}):n(a)}function q(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0}function r(){!this.__isEmphasis&&o(this)}function s(){!this.__isEmphasis&&p(this)}function t(){this.__isEmphasis=!0,o(this)}function u(){this.__isEmphasis=!1,p(this)}function v(a,b,c,d,e){var f=a?"Update":"",g=d&&d.getShallow("animationDuration"+f),h=d&&d.getShallow("animationEasing"+f);d&&d.getShallow("animation")?b.animateTo(c,g,h,e):(b.attr(c),e&&e())}var d=c(3),e=c(43),f=Math.round,g=c(44),h=c(38),i=c(17),j=c(16),k=c(4),l={};l.Group=c(29),l.Image=c(59),l.Text=c(62),l.Circle=c(63),l.Sector=c(64),l.Ring=c(65),l.Polygon=c(66),l.Polyline=c(70),l.Rect=c(71),l.Line=c(72),l.BezierCurve=c(73),l.Arc=c(74),l.LinearGradient=c(75),l.RadialGradient=c(76),l.BoundingRect=c(15),l.extendShape=function(a){return g.extend(a)},l.extendPath=function(a,b){return e.extendFromString(a,b)},l.makePath=function(a,b,c,d){var h,i,j,k,l,f=e.createFromString(a,b),g=f.getBoundingRect();return c&&(h=g.width/g.height,"center"===d&&(i=c.height*h,i<=c.width?j=c.height:(i=c.width,j=i/h),k=c.x+c.width/2,l=c.y+c.height/2,c.x=k-i/2,c.y=l-j/2,c.width=i,c.height=j),this.resizePath(f,c)),f},l.mergePath=e.mergePath,l.resizePath=function(a,b){var c,d;a.applyTransform&&(c=a.getBoundingRect(),d=c.calculateTransform(b),a.applyTransform(d))},l.subPixelOptimizeLine=function(a){var b=l.subPixelOptimize,c=a.shape,d=a.style.lineWidth;return f(2*c.x1)===f(2*c.x2)&&(c.x1=c.x2=b(c.x1,d,!0)),f(2*c.y1)===f(2*c.y2)&&(c.y1=c.y2=b(c.y1,d,!0)),a},l.subPixelOptimizeRect=function(a){var b=l.subPixelOptimize,c=a.shape,d=a.style.lineWidth,e=c.x,f=c.y,g=c.width,h=c.height;return c.x=b(c.x,d,!0),c.y=b(c.y,d,!0),c.width=Math.max(b(e+g,d,!1)-c.x,0===g?0:1),c.height=Math.max(b(f+h,d,!1)-c.y,0===h?0:1),a},l.subPixelOptimize=function(a,b,c){var d=f(2*a);return 0===(d+f(b))%2?d/2:(d+(c?1:-1))/2},l.setHoverStyle=function(a,b){"group"===a.type?a.traverse(function(a){"group"!==a.type&&q(a,b)}):q(a,b),a.on("mouseover",r).on("mouseout",s),a.on("emphasis",t).on("normal",u)},l.setText=function(a,b,c){var e=b.getShallow("position")||"inside",f=e.indexOf("inside")>=0?"white":c,g=b.getModel("textStyle");d.extend(a,{textDistance:b.getShallow("distance")||5,textFont:g.getFont(),textPosition:e,textFill:g.getTextColor()||f})},l.updateProps=d.curry(v,!0),l.initProps=d.curry(v,!1),l.getTransform=function(a,b){for(var c=i.identity([]);a&&a!==b;)i.mul(c,a.getLocalTransform(),c),a=a.parent;return c},l.applyTransform=function(a,b,c){return c&&(b=i.invert([],b)),j.applyTransform([],a,b)},l.transformDirection=function(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return f=l.applyTransform(f,b,c),Math.abs(f[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"},a.exports=l},function(a,b,c){function p(a,b,c,d,e,f,g,h,m,p,q){var v,w,x,y,z,A,B,C,D,r=m*(l/180),s=k(r)*(a-c)/2+j(r)*(b-d)/2,t=-1*j(r)*(a-c)/2+k(r)*(b-d)/2,u=s*s/(g*g)+t*t/(h*h);u>1&&(g*=i(u),h*=i(u)),v=(e===f?-1:1)*i((g*g*h*h-g*g*t*t-h*h*s*s)/(g*g*t*t+h*h*s*s))||0,w=v*g*t/h,x=v*-h*s/g,y=(a+c)/2+k(r)*w-j(r)*x,z=(b+d)/2+j(r)*w+k(r)*x,A=o([1,0],[(s-w)/g,(t-x)/h]),B=[(s-w)/g,(t-x)/h],C=[(-1*s-w)/g,(-1*t-x)/h],D=o(B,C),n(B,C)<=-1&&(D=l),n(B,C)>=1&&(D=0),0===f&&D>0&&(D-=2*l),1===f&&0>D&&(D+=2*l),q.addData(p,y,z,g,h,A,D,r,f)}function q(a){var b,c,d,f,g,i,j,k,l,m,n,o,q,r,s,t,u,v,w,x,y,z,A,B,C;if(!a)return[];for(b=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),c=0;c<h.length;c++)b=b.replace(new RegExp(h[c],"g"),"|"+h[c]);for(d=b.split("|"),f=0,g=0,i=new e,j=e.CMD,c=1;c<d.length;c++){for(l=d[c],m=l.charAt(0),n=0,o=l.slice(1).replace(/e,-/g,"e-").split(","),o.length>0&&""===o[0]&&o.shift(),r=0;r<o.length;r++)o[r]=parseFloat(o[r]);for(;n<o.length&&!isNaN(o[n])&&!isNaN(o[0]);)switch(z=f,A=g,m){case"l":f+=o[n++],g+=o[n++],q=j.L,i.addData(q,f,g);break;case"L":f=o[n++],g=o[n++],q=j.L,i.addData(q,f,g);break;case"m":f+=o[n++],g+=o[n++],q=j.M,i.addData(q,f,g),m="l";break;case"M":f=o[n++],g=o[n++],q=j.M,i.addData(q,f,g),m="L";break;case"h":f+=o[n++],q=j.L,i.addData(q,f,g);break;case"H":f=o[n++],q=j.L,i.addData(q,f,g);break;case"v":g+=o[n++],q=j.L,i.addData(q,f,g);break;case"V":g=o[n++],q=j.L,i.addData(q,f,g);break;case"C":q=j.C,i.addData(q,o[n++],o[n++],o[n++],o[n++],o[n++],o[n++]),f=o[n-2],g=o[n-1];break;case"c":q=j.C,i.addData(q,o[n++]+f,o[n++]+g,o[n++]+f,o[n++]+g,o[n++]+f,o[n++]+g),f+=o[n-2],g+=o[n-1];break;case"S":s=f,t=g,B=i.len(),C=i.data,k===j.C&&(s+=f-C[B-4],t+=g-C[B-3]),q=j.C,z=o[n++],A=o[n++],f=o[n++],g=o[n++],i.addData(q,s,t,z,A,f,g);break;case"s":s=f,t=g,B=i.len(),C=i.data,k===j.C&&(s+=f-C[B-4],t+=g-C[B-3]),q=j.C,z=f+o[n++],A=g+o[n++],f+=o[n++],g+=o[n++],i.addData(q,s,t,z,A,f,g);break;case"Q":z=o[n++],A=o[n++],f=o[n++],g=o[n++],q=j.Q,i.addData(q,z,A,f,g);break;case"q":z=o[n++]+f,A=o[n++]+g,f+=o[n++],g+=o[n++],q=j.Q,i.addData(q,z,A,f,g);break;case"T":s=f,t=g,B=i.len(),C=i.data,k===j.Q&&(s+=f-C[B-4],t+=g-C[B-3]),f=o[n++],g=o[n++],q=j.Q,i.addData(q,s,t,f,g);break;case"t":s=f,t=g,B=i.len(),C=i.data,k===j.Q&&(s+=f-C[B-4],t+=g-C[B-3]),f+=o[n++],g+=o[n++],q=j.Q,i.addData(q,s,t,f,g);break;case"A":u=o[n++],v=o[n++],w=o[n++],x=o[n++],y=o[n++],z=f,A=g,f=o[n++],g=o[n++],q=j.A,p(z,A,f,g,x,y,u,v,w,q,i);break;case"a":u=o[n++],v=o[n++],w=o[n++],x=o[n++],y=o[n++],z=f,A=g,f+=o[n++],g+=o[n++],q=j.A,p(z,A,f,g,x,y,u,v,w,q,i)}("z"===m||"Z"===m)&&(q=j.Z,i.addData(q)),k=q}return i.toStatic(),i}function r(a,b){var d,c=q(a);return b=b||{},b.buildPath=function(a){a.setData(c.data),d&&f(a,d);var b=a.getContext();b&&a.rebuildPath(b)},b.applyTransform=function(a){d||(d=g.create()),g.mul(d,a,d)},b}var d=c(44),e=c(48),f=c(58),g=c(17),h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],i=Math.sqrt,j=Math.sin,k=Math.cos,l=Math.PI,m=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},n=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(m(a)*m(b))},o=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(n(a,b))};a.exports={createFromString:function(a,b){return new d(r(a,b))},extendFromString:function(a,b){return d.extend(r(a,b))},mergePath:function(a,b){var f,g,h,c=[],e=a.length;for(g=0;e>g;g++)f=a[g],f.__dirty&&f.buildPath(f.path,f.shape),c.push(f.path);return h=new d(b),h.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)},h}}},function(a,b,c){function i(a){var b=a.fill;return null!=b&&"none"!==b}function j(a){var b=a.stroke;return null!=b&&"none"!==b&&a.lineWidth>0}function l(a){d.call(this,a),this.path=new f}var d=c(45),e=c(3),f=c(48),g=c(51),h=c(4),k=Math.abs;l.prototype={constructor:l,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a){var b,c,d,e,f,g,k;a.save(),b=this.style,c=this.path,d=j(b),e=i(b),this.__dirtyPath&&(e&&b.fill instanceof h&&b.fill.updateCanvasGradient(this,a),d&&b.stroke instanceof h&&b.stroke.updateCanvasGradient(this,a)),b.bind(a,this),this.setTransform(a),f=b.lineDash,g=b.lineDashOffset,k=!!a.setLineDash,this.__dirtyPath||f&&!k&&d?(c=this.path.beginPath(a),f&&!k&&(c.setLineDash(f),c.setLineDashOffset(g)),this.buildPath(c,this.shape),this.__dirtyPath=!1):(a.beginPath(),this.path.rebuildPath(a)),e&&c.fill(a),f&&k&&(a.setLineDash(f),a.lineDashOffset=g),d&&c.stroke(a),null!=b.text&&this.drawRectText(a,this.getBoundingRect()),a.restore()},buildPath:function(){},getBoundingRect:function(){var d,e,f,g,a=this._rect,b=this.style,c=!a;return c&&(d=this.path,this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape)),a=d.getBoundingRect()),this._rect=a,j(b)?(e=this._rectWithStroke,(this.__dirty||c)&&(e=this._rectWithStroke||(this._rectWithStroke=a.clone()),e.copy(a),f=b.lineWidth,g=b.strokeNoScale?this.getLineScale():1,i(b)||(f=Math.max(f,this.strokeContainThreshold)),g>1e-10&&(e.width+=f/g,e.height+=f/g,e.x-=f/g/2,e.y-=f/g/2)),e):a},contain:function(a,b){var f,h,k,c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){if(f=this.path.data,j(e)&&(h=e.lineWidth,k=e.strokeNoScale?this.getLineScale():1,k>1e-10&&(i(e)||(h=Math.max(h,this.strokeContainThreshold)),g.containStroke(f,h/k,a,b))))return!0;if(i(e))return g.contain(f,a,b)}return!1},dirty:function(a){0===arguments.length&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?this.setShape(b):d.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var d,c=this.shape;if(c){if(e.isObject(a))for(d in a)c[d]=a[d];else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&k(a[0]-1)>1e-10&&k(a[3]-1)>1e-10?Math.sqrt(k(a[0]*a[3]-a[2]*a[1])):1}},l.extend=function(a){var c,b=function(b){var c,d,e;if(l.call(this,b),a.style&&this.style.extendFrom(a.style,!1),c=a.shape){this.shape=this.shape||{},d=this.shape;for(e in c)!d.hasOwnProperty(e)&&c.hasOwnProperty(e)&&(d[e]=c[e])}a.init&&a.init.call(this,b)};e.inherits(b,l);for(c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b},e.inherits(l,d),a.exports=l},function(a,b,c){function h(a){a=a||{},f.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new e(a.style),this._rect=null,this.__clipPaths=[]}var d=c(3),e=c(46),f=c(30),g=c(47);h.prototype={constructor:h,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect();return d.contain(c[0],c[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?f.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this}},d.inherits(h,f),d.mixin(h,g),a.exports=h},function(a){var e,f,g,c=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],d=function(a){this.extendFrom(a)};for(d.prototype={constructor:d,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(a,b){var f,g,h,d=this.fill,e=this.stroke;for(f=0;f<c.length;f++)g=c[f],null!=this[g]&&(a[g]=this[g]);null!=e&&(h=this.lineWidth,a.lineWidth=h/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1)),null!=d&&(a.fillStyle=d.canvasGradient?d.canvasGradient:d),null!=e&&(a.strokeStyle=e.canvasGradient?e.canvasGradient:e),null!=this.opacity&&(a.globalAlpha=this.opacity)},extendFrom:function(a,b){var c,d;if(a){c=this;for(d in a)!a.hasOwnProperty(d)||!b&&c.hasOwnProperty(d)||(c[d]=a[d])}},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a}},e=d.prototype,g=0;g<c.length;g++)f=c[g],f in e||(e[f]=null);a.exports=d},function(a,b,c){function h(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function i(a,b){a.transform(b[0],b[1],b[2],b[3],b[4],b[5])}var d=c(14),e=c(15),f=new e,g=function(){};g.prototype={constructor:g,drawRectText:function(a,b,c){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,e=this.style,g=e.text;if(null!=g&&(g+=""),g){if(l=e.textPosition,m=e.textDistance,n=e.textAlign,o=e.textFont||e.font,p=e.textBaseline,q=e.textVerticalAlign,c=c||d.getBoundingRect(g,o,n,p),r=this.transform,s=this.invTransform,r&&(f.copy(b),f.applyTransform(r),b=f,i(a,s)),l instanceof Array?(j=b.x+h(l[0],b.width),k=b.y+h(l[1],b.height),n=n||"left",p=p||"top"):(t=d.adjustTextPositionOnRect(l,b,c,m),j=t.x,k=t.y,n=n||t.textAlign,p=p||t.textBaseline),a.textAlign=n,q){switch(q){case"middle":k-=c.height/2;break;case"bottom":k-=c.height}a.textBaseline="top"}else a.textBaseline=p;for(u=e.textFill,v=e.textStroke,u&&(a.fillStyle=u),v&&(a.strokeStyle=v),a.font=o,a.shadowColor=e.textShadowColor,a.shadowBlur=e.textShadowBlur,a.shadowOffsetX=e.textShadowOffsetX,a.shadowOffsetY=e.textShadowOffsetY,w=g.split("\n"),x=0;x<w.length;x++)u&&a.fillText(w[x],j,k),v&&a.strokeText(w[x],j,k),k+=c.lineHeight;r&&i(a,r)}}},a.exports=g},function(a,b,c){"use strict";var d=c(49),e=c(16),f=c(50),g=c(15),h={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},i=[],j=[],k=[],l=[],m=Math.min,n=Math.max,o=Math.cos,p=Math.sin,q=Math.sqrt,r="undefined"!=typeof Float32Array,s=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0};s.prototype={constructor:s,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(h.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){return this.addData(h.L,a,b),this._ctx&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),this._xi=a,this._yi=b,this},bezierCurveTo:function(a,b,c,d,e,f){return this.addData(h.C,a,b,c,d,e,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f)),this._xi=e,this._yi=f,this},quadraticCurveTo:function(a,b,c,d){return this.addData(h.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,this._yi=d,this},arc:function(a,b,c,d,e,f){return this.addData(h.A,a,b,c,c,d,e-d,0,f?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=o(e)*c+a,this._xi=p(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(h.R,a,b,c,d),this},closePath:function(){var a,b,c;return this.addData(h.Z),a=this._ctx,b=this._x0,c=this._y0,a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){var b,c;if(a instanceof Array){for(this._lineDash=a,this._dashIdx=0,b=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var c,b=a.length;for(this.data&&this.data.length==b||!r||(this.data=new Float32Array(b)),c=0;b>c;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){var b,c,d,e,f,g;for(a instanceof Array||(a=[a]),b=a.length,c=0,d=this._len,e=0;b>e;e++)c+=a[e].len();for(r&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c)),e=0;b>e;e++)for(f=a[e].data,g=0;g<f.length;g++)this.data[d++]=f[g];this._len=d},addData:function(a){var c,b=this.data;for(this._len+arguments.length>b.length&&(this._expandData(),b=this.data),c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a},_expandData:function(){var a,b;if(!(this.data instanceof Array)){for(a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var p,s,c=this._dashSum,d=this._dashOffset,e=this._lineDash,f=this._ctx,g=this._xi,h=this._yi,i=a-g,j=b-h,k=q(i*i+j*j),l=g,o=h,r=e.length;for(i/=k,j/=k,0>d&&(d=c+d),d%=c,l-=d*i,o-=d*j;i>=0&&a>=l||0>i&&l>a;)s=this._dashIdx,p=e[s],l+=i*p,o+=j*p,this._dashIdx=(s+1)%r,i>0&&g>l||0>i&&l>g||f[s%2?"moveTo":"lineTo"](i>=0?m(l,a):n(l,a),j>=0?m(o,b):n(o,b));i=l-a,j=o-b,this._dashOffset=-q(i*i+j*j)},_dashedBezierTo:function(a,b,c,e,f,g){var n,o,p,v,w,h=this._dashSum,i=this._dashOffset,j=this._lineDash,k=this._ctx,l=this._xi,m=this._yi,r=d.cubicAt,s=0,t=this._dashIdx,u=j.length,x=0;for(0>i&&(i=h+i),i%=h,n=0;1>n;n+=.1)o=r(l,a,c,f,n+.1)-r(l,a,c,f,n),p=r(m,b,e,g,n+.1)-r(m,b,e,g,n),s+=q(o*o+p*p);for(;u>t&&(x+=j[t],!(x>i));t++);for(n=(x-i)/s;1>=n;)v=r(l,a,c,f,n),w=r(m,b,e,g,n),t%2?k.moveTo(v,w):k.lineTo(v,w),n+=j[t]/s,t=(t+1)%u;0!==t%2&&k.lineTo(f,g),o=f-v,p=g-w,this._dashOffset=-q(o*o+p*p)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3,d=(d+2*b)/3,a=(this._xi+2*a)/3,b=(this._yi+2*b)/3,this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,r&&(this.data=new Float32Array(a)))},getBoundingRect:function(){var a,b,c,d,m,n,q,r,s,t,u,v,w,y,z,A;for(i[0]=i[1]=k[0]=k[1]=Number.MAX_VALUE,j[0]=j[1]=l[0]=l[1]=-Number.MAX_VALUE,a=this.data,b=0,c=0,d=0,m=0,n=0;n<a.length;){switch(q=a[n++],1==n&&(b=a[n],c=a[n+1],d=b,m=c),q){case h.M:d=a[n++],m=a[n++],b=d,c=m,k[0]=d,k[1]=m,l[0]=d,l[1]=m;break;case h.L:f.fromLine(b,c,a[n],a[n+1],k,l),b=a[n++],c=a[n++];break;case h.C:f.fromCubic(b,c,a[n++],a[n++],a[n++],a[n++],a[n],a[n+1],k,l),b=a[n++],c=a[n++];break;case h.Q:f.fromQuadratic(b,c,a[n++],a[n++],a[n],a[n+1],k,l),b=a[n++],c=a[n++];break;case h.A:r=a[n++],s=a[n++],t=a[n++],u=a[n++],v=a[n++],w=a[n++]+v,a[n++],y=1-a[n++],1==n&&(d=o(v)*t+r,m=p(v)*u+s),f.fromArc(r,s,t,u,v,w,y,k,l),b=o(w)*t+r,c=p(w)*u+s;break;case h.R:d=b=a[n++],m=c=a[n++],z=a[n++],A=a[n++],f.fromLine(d,m,d+z,m+A,k,l);break;case h.Z:b=d,c=m}e.min(i,i,k),e.max(j,j,l)}return 0===n&&(i[0]=i[1]=j[0]=j[1]=0),new g(i[0],i[1],j[0]-i[0],j[1]-i[1])},rebuildPath:function(a){var c,d,e,f,g,i,j,k,l,m,n,o,p,q,b=this.data;for(c=0;c<this._len;)switch(d=b[c++]){case h.M:a.moveTo(b[c++],b[c++]);break;case h.L:a.lineTo(b[c++],b[c++]);break;case h.C:a.bezierCurveTo(b[c++],b[c++],b[c++],b[c++],b[c++],b[c++]);break;case h.Q:a.quadraticCurveTo(b[c++],b[c++],b[c++],b[c++]);break;case h.A:e=b[c++],f=b[c++],g=b[c++],i=b[c++],j=b[c++],k=b[c++],l=b[c++],m=b[c++],n=g>i?g:i,o=g>i?1:g/i,p=g>i?i/g:1,q=Math.abs(g-i)>.001,q?(a.translate(e,f),a.rotate(l),a.scale(o,p),a.arc(0,0,n,j,j+k,1-m),a.scale(1/o,1/p),a.rotate(-l),a.translate(-e,-f)):a.arc(e,f,n,j,j+k,1-m);break;case h.R:a.rect(b[c++],b[c++],b[c++],b[c++]);break;case h.Z:a.closePath()}}},s.CMD=h,a.exports=s},function(a,b,c){"use strict";function p(a){return a>-i&&i>a}function q(a){return a>i||-i>a}function r(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function s(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function t(a,b,c,d,e,f){var t,u,v,w,x,y,z,A,B,C,D,E,i=d+3*(b-c)-a,j=3*(c-2*b+a),m=3*(b-a),n=a-e,o=j*j-3*i*m,q=j*m-9*i*n,r=m*m-3*j*n,s=0;return p(o)&&p(q)?p(j)?f[0]=0:(t=-m/j,t>=0&&1>=t&&(f[s++]=t)):(u=q*q-4*o*r,p(u)?(v=q/o,t=-j/i+v,w=-v/2,t>=0&&1>=t&&(f[s++]=t),w>=0&&1>=w&&(f[s++]=w)):u>0?(x=h(u),y=o*j+1.5*i*(-q+x),z=o*j+1.5*i*(-q-x),y=0>y?-g(-y,l):g(y,l),z=0>z?-g(-z,l):g(z,l),t=(-j-(y+z))/(3*i),t>=0&&1>=t&&(f[s++]=t)):(A=(2*o*j-3*i*q)/(2*h(o*o*o)),B=Math.acos(A)/3,C=h(o),D=Math.cos(B),t=(-j-2*C*D)/(3*i),w=(-j+C*(D+k*Math.sin(B)))/(3*i),E=(-j+C*(D-k*Math.sin(B)))/(3*i),t>=0&&1>=t&&(f[s++]=t),w>=0&&1>=w&&(f[s++]=w),E>=0&&1>=E&&(f[s++]=E))),s}function u(a,b,c,d,e){var k,l,m,n,f=6*c-12*b+6*a,g=9*b+3*d-3*a-9*c,i=3*b-3*a,j=0;return p(g)?q(f)&&(k=-i/f,k>=0&&1>=k&&(e[j++]=k)):(l=f*f-4*g*i,p(l)?e[0]=-f/(2*g):l>0&&(m=h(l),k=(-f+m)/(2*g),n=(-f-m)/(2*g),k>=0&&1>=k&&(e[j++]=k),n>=0&&1>=n&&(e[j++]=n))),j}function v(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function w(a,b,c,d,e,g,i,k,l,p,q){var s,v,w,x,y,z,A,t=.005,u=1/0;for(m[0]=l,m[1]=p,z=0;1>z;z+=.05)n[0]=r(a,c,e,i,z),n[1]=r(b,d,g,k,z),x=f(m,n),u>x&&(s=z,u=x);for(u=1/0,A=0;32>A&&!(j>t);A++)v=s-t,w=s+t,n[0]=r(a,c,e,i,v),n[1]=r(b,d,g,k,v),x=f(n,m),v>=0&&u>x?(s=v,u=x):(o[0]=r(a,c,e,i,w),o[1]=r(b,d,g,k,w),y=f(o,m),1>=w&&u>y?(s=w,u=y):t*=.5);return q&&(q[0]=r(a,c,e,i,s),q[1]=r(b,d,g,k,s)),h(u)}function x(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function y(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function z(a,b,c,d,e){var k,l,m,n,f=a-2*b+c,g=2*(b-a),i=a-d,j=0;return p(f)?q(g)&&(k=-i/g,k>=0&&1>=k&&(e[j++]=k)):(l=g*g-4*f*i,p(l)?(k=-g/(2*f),k>=0&&1>=k&&(e[j++]=k)):l>0&&(m=h(l),k=(-g+m)/(2*f),n=(-g-m)/(2*f),k>=0&&1>=k&&(e[j++]=k),n>=0&&1>=n&&(e[j++]=n))),j}function A(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function B(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function C(a,b,c,d,e,g,i,k,l){var p,s,t,u,v,w,y,q=.005,r=1/0;for(m[0]=i,m[1]=k,s=0;1>s;s+=.05)n[0]=x(a,c,e,s),n[1]=x(b,d,g,s),t=f(m,n),r>t&&(p=s,r=t);for(r=1/0,u=0;32>u&&!(j>q);u++)v=p-q,w=p+q,n[0]=x(a,c,e,v),n[1]=x(b,d,g,v),t=f(n,m),v>=0&&r>t?(p=v,r=t):(o[0]=x(a,c,e,w),o[1]=x(b,d,g,w),y=f(o,m),1>=w&&r>y?(p=w,r=y):q*=.5);return l&&(l[0]=x(a,c,e,p),l[1]=x(b,d,g,p)),h(r)}var d=c(16),e=d.create,f=d.distSquare,g=Math.pow,h=Math.sqrt,i=1e-8,j=1e-4,k=h(3),l=1/3,m=e(),n=e(),o=e();a.exports={cubicAt:r,cubicDerivativeAt:s,cubicRootAt:t,cubicExtrema:u,cubicSubdivide:v,cubicProjectPoint:w,quadraticAt:x,quadraticDerivativeAt:y,quadraticRootAt:z,quadraticExtremum:A,quadraticSubdivide:B,quadraticProjectPoint:C}},function(a,b,c){var o,p,d=c(16),e=c(49),f={},g=Math.min,h=Math.max,i=Math.sin,j=Math.cos,k=d.create(),l=d.create(),m=d.create(),n=2*Math.PI;f.fromPoints=function(a,b,c){var d,e,f,i,j,k;if(0!==a.length){for(d=a[0],e=d[0],f=d[0],i=d[1],j=d[1],k=1;k<a.length;k++)d=a[k],e=g(e,d[0]),f=h(f,d[0]),i=g(i,d[1]),j=h(j,d[1]);b[0]=e,b[1]=i,c[0]=f,c[1]=j}},f.fromLine=function(a,b,c,d,e,f){e[0]=g(a,c),e[1]=g(b,d),f[0]=h(a,c),f[1]=h(b,d)},o=[],p=[],f.fromCubic=function(a,b,c,d,f,i,j,k,l,m){var r,t,u,n=e.cubicExtrema,q=e.cubicAt,s=n(a,c,f,j,o);for(l[0]=1/0,l[1]=1/0,m[0]=-1/0,m[1]=-1/0,r=0;s>r;r++)t=q(a,c,f,j,o[r]),l[0]=g(t,l[0]),m[0]=h(t,m[0]);for(s=n(b,d,i,k,p),r=0;s>r;r++)u=q(b,d,i,k,p[r]),l[1]=g(u,l[1]),m[1]=h(u,m[1]);l[0]=g(a,l[0]),m[0]=h(a,m[0]),l[0]=g(j,l[0]),m[0]=h(j,m[0]),l[1]=g(b,l[1]),m[1]=h(b,m[1]),l[1]=g(k,l[1]),m[1]=h(k,m[1])},f.fromQuadratic=function(a,b,c,d,f,i,j,k){var l=e.quadraticExtremum,m=e.quadraticAt,n=h(g(l(a,c,f),1),0),o=h(g(l(b,d,i),1),0),p=m(a,c,f,n),q=m(b,d,i,o);j[0]=g(a,f,p),j[1]=g(b,i,q),k[0]=h(a,f,p),k[1]=h(b,i,q)},f.fromArc=function(a,b,c,e,f,g,h,o,p){var t,u,q=d.min,r=d.max,s=Math.abs(f-g);if(1e-4>s%n&&s>1e-4)return o[0]=a-c,o[1]=b-e,p[0]=a+c,p[1]=b+e,void 0;for(k[0]=j(f)*c+a,k[1]=i(f)*e+b,l[0]=j(g)*c+a,l[1]=i(g)*e+b,q(o,k,l),r(p,k,l),f%=n,0>f&&(f+=n),g%=n,0>g&&(g+=n),f>g&&!h?g+=n:g>f&&h&&(f+=n),h&&(t=g,g=f,f=t),u=0;g>u;u+=Math.PI/2)u>f&&(m[0]=j(u)*c+a,m[1]=i(u)*e+b,q(o,m,o),r(p,m,p))},a.exports=f},function(a,b,c){"use strict";function o(a,b){return Math.abs(a-b)<n}function r(){var a=q[0];q[0]=q[1],q[1]=a}function s(a,b,c,d,e,f,g,h,i,k){var l,m,n,o,s,t,u,v;if(k>b&&k>d&&k>f&&k>h||b>k&&d>k&&f>k&&h>k)return 0;if(l=j.cubicRootAt(b,d,f,h,k,p),0===l)return 0;for(m=0,n=-1,t=0;l>t;t++)u=p[t],v=j.cubicAt(a,c,e,g,u),i>v||(0>n&&(n=j.cubicExtrema(b,d,f,h,q),q[1]<q[0]&&n>1&&r(),o=j.cubicAt(b,d,f,h,q[0]),n>1&&(s=j.cubicAt(b,d,f,h,q[1]))),m+=2==n?u<q[0]?b>o?1:-1:u<q[1]?o>s?1:-1:s>h?1:-1:u<q[0]?b>o?1:-1:o>h?1:-1);return m}function t(a,b,c,d,e,f,g,h){var i,k,l,m,n,o;if(h>b&&h>d&&h>f||b>h&&d>h&&f>h)return 0;if(i=j.quadraticRootAt(b,d,f,h,p),0===i)return 0;if(k=j.quadraticExtremum(b,d,f),k>=0&&1>=k){for(l=0,m=j.quadraticAt(b,d,f,k),n=0;i>n;n++)o=j.quadraticAt(a,c,e,p[n]),g>o||(l+=p[n]<k?b>m?1:-1:m>f?1:-1);return l}return o=j.quadraticAt(a,c,e,p[0]),g>o?0:b>f?1:-1}function u(a,b,c,d,e,f,g,h){var j,k,l,n,o,q,r;if(h-=b,h>c||-c>h)return 0;if(j=Math.sqrt(c*c-h*h),p[0]=-j,p[1]=j,k=Math.abs(d-e),1e-4>k)return 0;if(1e-4>k%m)return d=0,e=m,l=f?1:-1,g>=p[0]+a&&g<=p[1]+a?l:0;for(f?(j=d,d=i(e),e=i(j)):(d=i(d),e=i(e)),d>e&&(e+=m),n=0,o=0;2>o;o++)q=p[o],q+a>g&&(r=Math.atan2(h,q),l=f?1:-1,0>r&&(r=m+r),(r>=d&&e>=r||r+m>=d&&e>=r+m)&&(r>Math.PI/2&&r<1.5*Math.PI&&(l=-l),n+=l));return n}function v(a,b,c,e,i){var r,v,w,x,y,z,A,B,D,E,F,G,H,I,j=0,m=0,n=0,p=0,q=0;for(r=0;r<a.length;){if(v=a[r++],v===d.M&&r>1&&(c||(j+=k(m,n,p,q,e,i)),0!==j))return!0;switch(1==r&&(m=a[r],n=a[r+1],p=m,q=n),v){case d.M:p=a[r++],q=a[r++],m=p,n=q;break;case d.L:if(c){if(l(m,n,a[r],a[r+1],b,e,i))return!0}else j+=k(m,n,a[r],a[r+1],e,i)||0;m=a[r++],n=a[r++];break;case d.C:if(c){if(f.containStroke(m,n,a[r++],a[r++],a[r++],a[r++],a[r],a[r+1],b,e,i))return!0}else j+=s(m,n,a[r++],a[r++],a[r++],a[r++],a[r],a[r+1],e,i)||0;m=a[r++],n=a[r++];break;case d.Q:if(c){if(g.containStroke(m,n,a[r++],a[r++],a[r],a[r+1],b,e,i))return!0}else j+=t(m,n,a[r++],a[r++],a[r],a[r+1],e,i)||0;m=a[r++],n=a[r++];break;case d.A:if(w=a[r++],x=a[r++],y=a[r++],z=a[r++],A=a[r++],B=a[r++],a[r++],D=1-a[r++],E=Math.cos(A)*y+w,F=Math.sin(A)*z+x,r>1?j+=k(m,n,E,F,e,i):(p=E,q=F),G=(e-w)*z/y+w,c){if(h.containStroke(w,x,z,A,A+B,D,b,G,i))return!0}else j+=u(w,x,z,A,A+B,D,G,i);m=Math.cos(A+B)*y+w,n=Math.sin(A+B)*z+x;break;case d.R:if(p=m=a[r++],q=n=a[r++],H=a[r++],I=a[r++],E=p+H,F=q+I,c){if(l(p,q,E,q,b,e,i)||l(E,q,E,F,b,e,i)||l(E,F,p,F,b,e,i)||l(p,F,E,F,b,e,i))return!0}else j+=k(E,q,E,F,e,i),j+=k(p,F,p,q,e,i);
break;case d.Z:if(c){if(l(m,n,p,q,b,e,i))return!0}else if(j+=k(m,n,p,q,e,i),0!==j)return!0;m=p,n=q}}return c||o(n,q)||(j+=k(m,n,p,q,e,i)||0),0!==j}var d=c(48).CMD,e=c(52),f=c(53),g=c(54),h=c(55),i=c(56).normalizeRadian,j=c(49),k=c(57),l=e.containStroke,m=2*Math.PI,n=1e-4,p=[-1,-1,-1],q=[-1,-1];a.exports={contain:function(a,b,c){return v(a,0,!1,b,c)},containStroke:function(a,b,c,d){return v(a,b,!0,c,d)}}},function(a){a.exports={containStroke:function(a,b,c,d,e,f,g){var h,i,j,k,l;return 0===e?!1:(h=e,i=0,j=a,g>b+h&&g>d+h||b-h>g&&d-h>g||f>a+h&&f>c+h||a-h>f&&c-h>f?!1:a===c?Math.abs(f-a)<=h/2:(i=(b-d)/(a-c),j=(a*d-c*b)/(a-c),k=i*f-g+j,l=k*k/(i*i+1),h/2*h/2>=l))}}},function(a,b,c){var d=c(49);a.exports={containStroke:function(a,b,c,e,f,g,h,i,j,k,l){var m,n;return 0===j?!1:(m=j,l>b+m&&l>e+m&&l>g+m&&l>i+m||b-m>l&&e-m>l&&g-m>l&&i-m>l||k>a+m&&k>c+m&&k>f+m&&k>h+m||a-m>k&&c-m>k&&f-m>k&&h-m>k?!1:(n=d.cubicProjectPoint(a,b,c,e,f,g,h,i,k,l,null),m/2>=n))}}},function(a,b,c){var d=c(49);a.exports={containStroke:function(a,b,c,e,f,g,h,i,j){var k,l;return 0===h?!1:(k=h,j>b+k&&j>e+k&&j>g+k||b-k>j&&e-k>j&&g-k>j||i>a+k&&i>c+k&&i>f+k||a-k>i&&c-k>i&&f-k>i?!1:(l=d.quadraticProjectPoint(a,b,c,e,f,g,i,j,null),k/2>=l))}}},function(a,b,c){var d=c(56).normalizeRadian,e=2*Math.PI;a.exports={containStroke:function(a,b,c,f,g,h,i,j,k){var l,m,n,o;return 0===i?!1:(l=i,j-=a,k-=b,m=Math.sqrt(j*j+k*k),m-l>c||c>m+l?!1:Math.abs(f-g)%e<1e-4?!0:(h?(n=f,f=d(g),g=d(n)):(f=d(f),g=d(g)),f>g&&(g+=e),o=Math.atan2(k,j),0>o&&(o+=e),o>=f&&g>=o||o+e>=f&&g>=o+e))}}},function(a){var c=2*Math.PI;a.exports={normalizeRadian:function(a){return a%=c,0>a&&(a+=c),a}}},function(a){a.exports=function(a,b,c,d,e,f){var g,h,i;return f>b&&f>d||b>f&&d>f?0:d===b?0:(g=b>d?1:-1,h=(f-b)/(d-b),i=h*(c-a)+a,i>e?g:0)}},function(a,b,c){function j(a,b){var e,j,k,l,m,n,u,v,w,x,y,c=a.data,o=d.M,p=d.C,q=d.L,r=d.R,s=d.A,t=d.Q;for(k=0,l=0;k<c.length;){switch(e=c[k++],l=k,j=0,e){case o:j=1;break;case q:j=1;break;case p:j=3;break;case t:j=2;break;case s:u=b[4],v=b[5],w=h(b[0]*b[0]+b[1]*b[1]),x=h(b[2]*b[2]+b[3]*b[3]),y=i(-b[1]/x,b[0]/w),c[k++]+=u,c[k++]+=v,c[k++]*=w,c[k++]*=x,c[k++]+=y,c[k++]+=y,k+=2,l=k;break;case r:n[0]=c[k++],n[1]=c[k++],f(n,n,b),c[l++]=n[0],c[l++]=n[1],n[0]+=c[k++],n[1]+=c[k++],f(n,n,b),c[l++]=n[0],c[l++]=n[1]}for(m=0;j>m;m++)n=g[m],n[0]=c[k++],n[1]=c[k++],f(n,n,b),c[l++]=n[0],c[l++]=n[1]}}var d=c(48).CMD,e=c(16),f=e.applyTransform,g=[[],[],[]],h=Math.sqrt,i=Math.atan2;a.exports=j},function(a,b,c){function j(a){d.call(this,a)}var d=c(45),e=c(15),f=c(3),g=c(60),h=c(61),i=new h(50);j.prototype={constructor:j,type:"image",brush:function(a){var d,e,f,h,j,k,l,m,n,o,b=this.style,c=b.image;if(d="string"==typeof c?this._image:c,!d&&c){if(e=i.get(c),!e)return d=new Image,d.onload=function(){d.onload=null;for(var a=0;a<e.pending.length;a++)e.pending[a].dirty()},e={image:d,pending:[this]},d.src=c,i.put(c,e),this._image=d,void 0;if(d=e.image,this._image=d,!d.width||!d.height)return e.pending.push(this),void 0}if(d){if(f=b.width||d.width,h=b.height||d.height,j=b.x||0,k=b.y||0,!d.width||!d.height)return;a.save(),b.bind(a),this.setTransform(a),b.r&&(a.beginPath(),g.buildPath(a,b),a.clip()),b.sWidth&&b.sHeight?(l=b.sx||0,m=b.sy||0,a.drawImage(d,l,m,b.sWidth,b.sHeight,j,k,f,h)):b.sx&&b.sy?(l=b.sx,m=b.sy,n=f-l,o=h-m,a.drawImage(d,l,m,n,o,j,k,f,h)):a.drawImage(d,j,k,f,h),null==b.width&&(b.width=f),null==b.height&&(b.height=h),null!=b.text&&this.drawRectText(a,this.getBoundingRect()),a.restore()}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new e(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},f.inherits(j,d),a.exports=j},function(a){a.exports={buildPath:function(a,b){var h,i,j,k,l,c=b.x,d=b.y,e=b.width,f=b.height,g=b.r;0>e&&(c+=e,e=-e),0>f&&(d+=f,f=-f),"number"==typeof g?h=i=j=k=g:g instanceof Array?1===g.length?h=i=j=k=g[0]:2===g.length?(h=j=g[0],i=k=g[1]):3===g.length?(h=g[0],i=k=g[1],j=g[2]):(h=g[0],i=g[1],j=g[2],k=g[3]):h=i=j=k=0,h+i>e&&(l=h+i,h*=e/l,i*=e/l),j+k>e&&(l=j+k,j*=e/l,k*=e/l),i+j>f&&(l=i+j,i*=f/l,j*=f/l),h+k>f&&(l=h+k,h*=f/l,k*=f/l),a.moveTo(c+h,d),a.lineTo(c+e-i,d),0!==i&&a.quadraticCurveTo(c+e,d,c+e,d+i),a.lineTo(c+e,d+f-j),0!==j&&a.quadraticCurveTo(c+e,d+f,c+e-j,d+f),a.lineTo(c+k,d+f),0!==k&&a.quadraticCurveTo(c,d+f,c,d+f-k),a.lineTo(c,d+h),0!==h&&a.quadraticCurveTo(c,d,c+h,d)}}},function(a){var e,f,g,c=function(){this.head=null,this.tail=null,this._len=0},d=c.prototype;d.insert=function(a){var b=new e(a);return this.insertEntry(b),b},d.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,this.tail=a):this.head=this.tail=a,this._len++},d.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},d.len=function(){return this._len},e=function(a){this.value=a,this.next,this.prev},f=function(a){this._list=new c,this._map={},this._maxSize=a||10},g=f.prototype,g.put=function(a,b){var e,f,g,c=this._list,d=this._map;null==d[a]&&(e=c.len(),e>=this._maxSize&&e>0&&(f=c.head,c.remove(f),delete d[f.key]),g=c.insert(b),g.key=a,d[a]=g)},g.get=function(a){var b=this._map[a],c=this._list;return null!=b?(b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value):void 0},g.clear=function(){this._list.clear(),this._map={}},a.exports=f},function(a,b,c){var d=c(45),e=c(3),f=c(14),g=function(a){d.call(this,a)};g.prototype={constructor:g,type:"text",brush:function(a){var i,j,k,l,b=this.style,c=b.x||0,d=b.y||0,e=b.text,g=b.fill,h=b.stroke;if(null!=e&&(e+=""),e){if(a.save(),this.style.bind(a),this.setTransform(a),g&&(a.fillStyle=g),h&&(a.strokeStyle=h),a.font=b.textFont||b.font,a.textAlign=b.textAlign,b.textVerticalAlign)switch(i=f.getBoundingRect(e,a.font,b.textAlign,"top"),a.textBaseline="top",b.textVerticalAlign){case"middle":d-=i.height/2;break;case"bottom":d-=i.height}else a.textBaseline=b.textBaseline;for(j=f.measureText("国",a.font).width,k=e.split("\n"),l=0;l<k.length;l++)g&&a.fillText(k[l],c,d),h&&a.strokeText(k[l],c,d),d+=j;a.restore()}},getBoundingRect:function(){var a,b,c;if(!this._rect){switch(a=this.style,b=a.textVerticalAlign,c=f.getBoundingRect(a.text+"",a.textFont||a.font,a.textAlign,b?"top":a.textBaseline),b){case"middle":c.y-=c.height/2;break;case"bottom":c.y-=c.height}c.x+=a.x||0,c.y+=a.y||0,this._rect=c}return this._rect}},e.inherits(g,d),a.exports=g},function(a,b,c){"use strict";a.exports=c(44).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b){a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}})},function(a,b,c){a.exports=c(44).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,i=b.clockwise,j=Math.cos(g),k=Math.sin(g);a.moveTo(j*e+c,k*e+d),a.lineTo(j*f+c,k*f+d),a.arc(c,d,f,g,h,!i),a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d),0!==e&&a.arc(c,d,e,h,g,i),a.closePath()}})},function(a,b,c){a.exports=c(44).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d),a.arc(c,d,b.r,0,e,!1),a.moveTo(c+b.r0,d),a.arc(c,d,b.r0,0,e,!0)}})},function(a,b,c){var d=c(67);a.exports=c(44).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){d.buildPath(a,b,!0)}})},function(a,b,c){var d=c(68),e=c(69);a.exports={buildPath:function(a,b,c){var h,i,j,k,l,m,n,f=b.points,g=b.smooth;if(f&&f.length>=2){if(g&&"spline"!==g)for(h=e(f,g,c,b.smoothConstraint),a.moveTo(f[0][0],f[0][1]),i=f.length,j=0;(c?i:i-1)>j;j++)k=h[2*j],l=h[2*j+1],m=f[(j+1)%i],a.bezierCurveTo(k[0],k[1],l[0],l[1],m[0],m[1]);else for("spline"===g&&(f=d(f,c)),a.moveTo(f[0][0],f[0][1]),j=1,n=f.length;n>j;j++)a.lineTo(f[j][0],f[j][1]);c&&a.closePath()}}}},function(a,b,c){function e(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}var d=c(16);a.exports=function(a,b){var h,i,j,k,l,m,n,o,p,q,r,c=a.length,f=[],g=0;for(h=1;c>h;h++)g+=d.distance(a[h-1],a[h]);for(i=g/2,i=c>i?c:i,h=0;i>h;h++)j=h/(i-1)*(b?c:c-1),k=Math.floor(j),l=j-k,n=a[k%c],b?(m=a[(k-1+c)%c],o=a[(k+1)%c],p=a[(k+2)%c]):(m=a[0===k?k:k-1],o=a[k>c-2?c-1:k+1],p=a[k>c-3?c-1:k+2]),q=l*l,r=l*q,f.push([e(m[0],n[0],o[0],p[0],l,q,r),e(m[1],n[1],o[1],p[1],l,q,r)]);return f}},function(a,b,c){var d=c(16),e=d.min,f=d.max,g=d.scale,h=d.distance,i=d.add;a.exports=function(a,b,c,j){var o,p,q,r,s,t,u,v,w,x,y,z,k=[],l=[],m=[],n=[];if(j){for(q=[1/0,1/0],r=[-1/0,-1/0],s=0,t=a.length;t>s;s++)e(q,q,a[s]),f(r,r,a[s]);e(q,q,j[0]),f(r,r,j[1])}for(s=0,t=a.length;t>s;s++){if(u=a[s],c)o=a[s?s-1:t-1],p=a[(s+1)%t];else{if(0===s||s===t-1){k.push(d.clone(a[s]));continue}o=a[s-1],p=a[s+1]}d.sub(l,p,o),g(l,l,b),v=h(u,o),w=h(u,p),x=v+w,0!==x&&(v/=x,w/=x),g(m,l,-v),g(n,l,w),y=i([],u,m),z=i([],u,n),j&&(f(y,y,q),e(y,y,r),f(z,z,q),e(z,z,r)),k.push(y),k.push(z)}return c&&k.push(k.shift()),k}},function(a,b,c){var d=c(67);a.exports=c(44).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){d.buildPath(a,b,!1)}})},function(a,b,c){var d=c(60);a.exports=c(44).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,e=b.y,f=b.width,g=b.height;b.r?d.buildPath(a,b):a.rect(c,e,f,g),a.closePath()}})},function(a,b,c){a.exports=c(44).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),1>g&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}})},function(a,b,c){"use strict";var d=c(49),e=d.quadraticSubdivide,f=d.cubicSubdivide,g=d.quadraticAt,h=d.cubicAt,i=[];a.exports=c(44).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,g=b.x2,h=b.y2,j=b.cpx1,k=b.cpy1,l=b.cpx2,m=b.cpy2,n=b.percent;0!==n&&(a.moveTo(c,d),null==l||null==m?(1>n&&(e(c,j,g,n,i),j=i[1],g=i[2],e(d,k,h,n,i),k=i[1],h=i[2]),a.quadraticCurveTo(j,k,g,h)):(1>n&&(f(c,j,l,g,n,i),j=i[1],l=i[2],g=i[3],f(d,k,m,h,n,i),k=i[1],m=i[2],h=i[3]),a.bezierCurveTo(j,k,l,m,g,h)))},pointAt:function(a){var b=this.shape,c=b.cpx2,d=b.cpy2;return null===c||null===d?[g(b.x1,b.cpx1,b.x2,a),g(b.y1,b.cpy1,b.y2,a)]:[h(b.x1,b.cpx1,b.cpx1,b.x2,a),h(b.y1,b.cpy1,b.cpy1,b.y2,a)]}})},function(a,b,c){a.exports=c(44).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)}})},function(a,b,c){"use strict";var d=c(3),e=c(4),f=function(a,b,c,d,f){this.x=null==a?0:a,this.y=null==b?0:b,this.x2=null==c?1:c,this.y2=null==d?0:d,e.call(this,f)};f.prototype={constructor:f,type:"linear",updateCanvasGradient:function(a,b){var j,c=a.getBoundingRect(),d=this.x*c.width+c.x,e=this.x2*c.width+c.x,f=this.y*c.height+c.y,g=this.y2*c.height+c.y,h=b.createLinearGradient(d,f,e,g),i=this.colorStops;for(j=0;j<i.length;j++)h.addColorStop(i[j].offset,i[j].color);this.canvasGradient=h}},d.inherits(f,e),a.exports=f},function(a,b,c){"use strict";var d=c(3),e=c(4),f=function(a,b,c,d){this.x=null==a?.5:a,this.y=null==b?.5:b,this.r=null==c?.5:c,e.call(this,d)};f.prototype={constructor:f,type:"radial",updateCanvasGradient:function(a,b){var l,c=a.getBoundingRect(),d=c.width,e=c.height,f=Math.min(d,e),g=this.x*d+c.x,h=this.y*e+c.y,i=this.r*f,j=b.createRadialGradient(g,h,0,g,h,i),k=this.colorStops;for(l=0;l<k.length;l++)j.addColorStop(k[l].offset,k[l].color);this.canvasGradient=j}},d.inherits(f,e),a.exports=f},function(a,b,c){function m(a){delete k[a]}var n,d=c(31),e=c(78),f=c(79),g=c(83),h=c(84),i=!e.canvasSupported,j={canvas:c(85)},k={},l={};l.version="3.0.8",l.init=function(a,b){var c=new n(d(),a,b);return k[c.id]=c,c},l.dispose=function(a){if(a)a.dispose();else{for(var b in k)k[b].dispose();k={}}return l},l.getInstance=function(a){return k[a]},l.registerPainter=function(a,b){j[a]=b},n=function(a,b,c){var d,k,l,m,n,o;if(c=c||{},this.dom=b,this.id=a,d=this,k=new g,l=c.renderer,i){if(!j.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");l="vml"}else l&&j[l]||(l="canvas");m=new j[l](b,k,c),this.storage=k,this.painter=m,e.node||(this.handler=new f(m.getViewportRoot(),k,m)),this.animation=new h({stage:{update:function(){d._needsRefresh&&d.refreshImmediately()}}}),this.animation.start(),this._needsRefresh,n=k.delFromMap,o=k.addToMap,k.delFromMap=function(a){var b=k.get(a);n.call(k,a),b&&b.removeSelfFromZr(d)},k.addToMap=function(a){o.call(k,a),a.addSelfToZr(d)}},n.prototype={constructor:n,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},toDataURL:function(a,b,c){return this.painter.toDataURL(a,b,c)},pathToImage:function(a,b,c){var e=d();return this.painter.pathToImage(e,a,b,c)},setDefaultCursorStyle:function(a){this.handler.setDefaultCursorStyle(a)},on:function(a,b,c){this.handler&&this.handler.on(a,b,c)},off:function(a,b){this.handler&&this.handler.off(a,b)},trigger:function(a,b){this.handler&&this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,m(this.id)}},a.exports=l},function(a){function d(a){var b={},c={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),i=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),j=i&&a.match(/TouchPad/),k=a.match(/Kindle\/([\d.]+)/),l=a.match(/Silk\/([\d._]+)/),m=a.match(/(BlackBerry).*Version\/([\d.]+)/),n=a.match(/(BB10).*Version\/([\d.]+)/),o=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),p=a.match(/PlayBook/),q=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),r=a.match(/Firefox\/([\d.]+)/),s=d&&a.match(/Mobile\//)&&!q,t=a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!q,u=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),v=a.match(/Edge\/([\d.]+)/);return(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),h&&!g&&(b.ios=b.iphone=!0,b.version=h[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),g&&(b.ios=b.ipod=!0,b.version=g[3]?g[3].replace(/_/g,"."):null),i&&(b.webos=!0,b.version=i[2]),j&&(b.touchpad=!0),m&&(b.blackberry=!0,b.version=m[2]),n&&(b.bb10=!0,b.version=n[2]),o&&(b.rimtabletos=!0,b.version=o[2]),p&&(c.playbook=!0),k&&(b.kindle=!0,b.version=k[1]),l&&(c.silk=!0,c.version=l[1]),!l&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),q&&(c.chrome=!0,c.version=q[1]),r&&(c.firefox=!0,c.version=r[1]),u&&(c.ie=!0,c.version=u[1]),s&&(a.match(/Safari/)||b.ios)&&(c.safari=!0),t&&(c.webview=!0),u&&(c.ie=!0,c.version=u[1]),v&&(c.edge=!0,c.version=v[1]),b.tablet=!!(f||p||e&&!a.match(/Mobile/)||r&&a.match(/Tablet/)||u&&!a.match(/Phone/)&&a.match(/Touch/)),b.phone=!(b.tablet||b.ipod||!(e||h||i||m||n||q&&a.match(/Android/)||q&&a.match(/CriOS\/([\d.]+)/)||r&&a.match(/Mobile/)||u&&a.match(/Touch/))),{browser:c,os:b,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!c.ie&&!c.edge,pointerEventsSupported:"onpointerdown"in window&&(c.edge||c.ie&&c.version>=10)}}var c={};c="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:d(navigator.userAgent),a.exports=c},function(a,b,c){"use strict";function q(a,b,c){return{type:a,event:c,target:b,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta}}function s(a,b,c){var e,f,d=a._gestureMgr;"start"===c&&d.clear(),e=d.recognize(b,a.findHover(b.zrX,b.zrY,null)),"end"===c&&d.clear(),e&&(f=e.type,b.gestureEvent=f,a._dispatchProxy(e.target,f,e.event))}function t(a){function e(a,b){return function(){return b._touching?void 0:a.apply(b,arguments)}}var c,d,b=k.concat(l);for(c=0;c<b.length;c++)d=b[c],a._handlers[d]=f.bind(r[d],a);for(c=0;c<j.length;c++)d=j[c],a._handlers[d]=e(r[d],a)}function v(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d=a;d;){if(d.silent||d.clipPath&&!d.clipPath.contain(b,c))return!1;d=d.parent}return!0}return!1}function w(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function x(){return!1}function y(){return d.touchEventsSupported}function z(a){return"mousewheel"===a&&d.browser.firefox?"DOMMouseScroll":a}var k,l,m,n,o,p,r,u,d=c(78),e=c(80),f=c(3),g=c(81),h=c(82),i=c(32),j=["click","dblclick","mousewheel","mouseout"];!x()&&j.push("mouseup","mousedown","mousemove"),k=["touchstart","touchend","touchmove"],l=["pointerdown","pointerup","pointermove"],m=300,n=e.addEventListener,o=e.removeEventListener,p=e.normalizeEvent,r={mousemove:function(a){var b,c,d,e;a=p(this.root,a),b=a.zrX,c=a.zrY,d=this.findHover(b,c,null),e=this._hovered,this._hovered=d,this.root.style.cursor=d?d.cursor:this._defaultCursorStyle,e&&d!==e&&e.__zr&&this._dispatchProxy(e,"mouseout",a),this._dispatchProxy(d,"mousemove",a),d&&d!==e&&this._dispatchProxy(d,"mouseover",a)},mouseout:function(a){a=p(this.root,a);var b=a.toElement||a.relatedTarget;if(b!=this.root)for(;b&&9!=b.nodeType;){if(b===this.root)return;b=b.parentNode}this._dispatchProxy(this._hovered,"mouseout",a),this.trigger("globalout",{event:a})},touchstart:function(a){a=p(this.root,a),this._lastTouchMoment=new Date,s(this,a,"start"),r.mousemove.call(this,a),r.mousedown.call(this,a),w(this)},touchmove:function(a){a=p(this.root,a),s(this,a,"change"),r.mousemove.call(this,a),w(this)},touchend:function(a){a=p(this.root,a),s(this,a,"end"),r.mouseup.call(this,a),+new Date-this._lastTouchMoment<m&&r.click.call(this,a),w(this)}},f.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(a){r[a]=function(b){b=p(this.root,b);var c=this.findHover(b.zrX,b.zrY,null);this._dispatchProxy(c,a,b)}}),u=function(a,b,c){function d(b,c){f.each(b,function(b){n(a,z(b),c._handlers[b])},c)}i.call(this),this.root=a,this.storage=b,this.painter=c,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new h,this._handlers=[],this._touching=!1,this._touchTimer,t(this),x()?d(l,this):y()&&d(k,this),d(j,this),g.call(this)},u.prototype={constructor:u,resize:function(){this._hovered=null},dispatch:function(a,b){var c=this._handlers[a];c&&c.call(this,b)},dispose:function(){var c,d,a=this.root,b=j.concat(k);for(c=0;c<b.length;c++)d=b[c],o(a,z(d),this._handlers[d]);this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(a){this._defaultCursorStyle=a},_dispatchProxy:function(a,b,c){for(var d="on"+b,e=q(b,a,c),f=a;f&&(f[d]&&(e.cancelBubble=f[d].call(f,e)),f.trigger(b,e),f=f.parent,!e.cancelBubble););e.cancelBubble||(this.trigger(b,e),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[d]&&a[d].call(a,e),a.trigger&&a.trigger(b,e)}))},findHover:function(a,b,c){var e,d=this.storage.getDisplayList();for(e=d.length-1;e>=0;e--)if(!d[e].silent&&d[e]!==c&&!d[e].ignore&&v(d[e],a,b))return d[e]}},f.mixin(u,i),f.mixin(u,g),a.exports=u},function(a,b,c){"use strict";function f(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function g(a,b){var c,d,e,g,h;return b=b||window.event,null!=b.zrX?b:(c=b.type,d=c&&c.indexOf("touch")>=0,d?(g="touchend"!=c?b.targetTouches[0]:b.changedTouches[0],g&&(h=f(a),b.zrX=g.clientX-h.left,b.zrY=g.clientY-h.top)):(e=f(a),b.zrX=b.clientX-e.left,b.zrY=b.clientY-e.top,b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3),b)}function h(a,b,c){e?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function i(a,b,c){e?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}var d=c(32),e="undefined"!=typeof window&&!!window.addEventListener,j=e?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0};a.exports={normalizeEvent:g,addEventListener:h,removeEventListener:i,stop:j,Dispatcher:d}},function(a){function c(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}c.prototype={constructor:c,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this._dispatchProxy(b,"dragstart",a.event))},_drag:function(a){var c,d,e,f,g,h,b=this._draggingTarget;b&&(c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y,this._x=c,this._y=d,b.drift(e,f,a),this._dispatchProxy(b,"drag",a.event),g=this.findHover(c,d,b),h=this._dropTarget,this._dropTarget=g,b!==g&&(h&&g!==h&&this._dispatchProxy(h,"dragleave",a.event),g&&g!==h&&this._dispatchProxy(g,"dragenter",a.event)))},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this._dispatchProxy(b,"dragend",a.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",a.event),this._draggingTarget=null,this._dropTarget=null}},a.exports=c},function(a){"use strict";function d(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function e(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var f,c=function(){this._track=[]};c.prototype={constructor:c,recognize:function(a,b){return this._doTrack(a,b),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b){var d,e,f,g,c=a.touches;if(c){for(d={points:[],touches:[],target:b,event:a},e=0,f=c.length;f>e;e++)g=c[e],d.points.push([g.clientX,g.clientY]),d.touches.push(g);this._track.push(d)}},_recognize:function(a){var b,c;for(b in f)if(f.hasOwnProperty(b)&&(c=f[b](this._track,a)))return c}},f={pinch:function(a,b){var f,g,h,i,c=a.length;if(c)return f=(a[c-1]||{}).points,g=(a[c-2]||{}).points||f,g&&g.length>1&&f&&f.length>1?(h=d(f)/d(g),!isFinite(h)&&(h=1),b.pinchScale=h,i=e(f),b.pinchX=i[0],b.pinchY=i[1],{type:"pinch",target:a[0].target,event:b}):void 0}},a.exports=c},function(a,b,c){"use strict";function f(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2===b.z2?a.__renderidx-b.__renderidx:a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}var d=c(3),e=c(29),g=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};g.prototype={constructor:g,getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(a){var b,c,d,e;for(this._displayListLen=0,b=this._roots,c=this._displayList,d=0,e=b.length;e>d;d++)this._updateAndAddDisplayable(b[d],null,a);for(c.length=this._displayListLen,d=0,e=c.length;e>d;d++)c[d].__renderidx=d;c.sort(f)},_updateAndAddDisplayable:function(a,b,c){var d,e,f,g;if(!a.ignore||c)if(a.beforeUpdate(),a.update(),a.afterUpdate(),d=a.clipPath,d&&(d.parent=a,d.updateTransform(),b?(b=b.slice(),b.push(d)):b=[d]),"group"==a.type){for(e=a._children,f=0;f<e.length;f++)g=e[f],g.__dirty=a.__dirty||g.__dirty,this._updateAndAddDisplayable(g,b,c);a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a},addRoot:function(a){this._elements[a.id]||(a instanceof e&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},delRoot:function(a){var b,c,f,g,h;if(null==a){for(b=0;b<this._roots.length;b++)c=this._roots[b],c instanceof e&&c.delChildrenFromStorage(this);return this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0,void 0}if(a instanceof Array)for(b=0,f=a.length;f>b;b++)this.delRoot(a[b]);else g="string"==typeof a?this._elements[a]:a,h=d.indexOf(this._roots,g),h>=0&&(this.delFromMap(g.id),this._roots.splice(h,1),g instanceof e&&g.delChildrenFromStorage(this))},addToMap:function(a){return a instanceof e&&(a.__storage=this),a.dirty(),this._elements[a.id]=a,this},get:function(a){return this._elements[a]},delFromMap:function(a){var b=this._elements,c=b[a];return c&&(delete b[a],c instanceof e&&(c.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},a.exports=g},function(a,b,c){"use strict";var d=c(3),e=c(80).Dispatcher,f="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},g=c(35),h=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time=0,e.call(this)};h.prototype={constructor:h,addClip:function(a){this._clips.push(a)},addAnimator:function(a){var b,c;for(a.animation=this,b=a.getClips(),c=0;c<b.length;c++)this.addClip(b[c])},removeClip:function(a){var b=d.indexOf(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){var c,b=a.getClips();for(c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){var g,h,i,a=(new Date).getTime(),b=a-this._time,c=this._clips,d=c.length,e=[],f=[];for(g=0;d>g;g++)h=c[g],i=h.step(a),i&&(e.push(i),f.push(h));for(g=0;d>g;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;for(d=e.length,g=0;d>g;g++)f[g].fire(e[g]);this._time=a,this.onframe(b),this.trigger("frame",b),this.stage.update&&this.stage.update()},start:function(){function b(){a._running&&(f(b),a._update())}var a=this;this._running=!0,this._time=(new Date).getTime(),f(b)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(a,b){b=b||{};var c=new g(a,b.loop,b.getter,b.setter);return c}},d.mixin(h,e),a.exports=h},function(a,b,c){"use strict";function i(a){return parseInt(a,10)}function j(a){return a?a.isBuildin?!0:"function"!=typeof a.resize||"function"!=typeof a.refresh?!1:!0:!1}function k(a){a.__unusedCount++}function l(a){a.__dirty=!1,1==a.__unusedCount&&a.clear()}function o(a,b,c){return m.copy(a.getBoundingRect()),a.transform&&m.applyTransform(a.transform),n.width=b,n.height=c,!m.intersect(n)}function p(a,b){if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0}function q(a,b){var c,d,e,f;for(c=0;c<a.length;c++)d=a[c],d.transform&&(e=d.transform,b.transform(e[0],e[1],e[2],e[3],e[4],e[5])),f=d.path,f.beginPath(b),d.buildPath(f,d.shape),b.clip(),d.transform&&(e=d.invTransform,b.transform(e[0],e[1],e[2],e[3],e[4],e[5]))}var d=c(40),e=c(3),f=c(39),g=c(15),h=c(86),m=new g(0,0,0,0),n=new g(0,0,0,0),r=function(a,b,c){var f,g,i,j,k,l,e=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();c=c||{},this.dpr=c.devicePixelRatio||d.devicePixelRatio,this._singleCanvas=e,this.root=a,f=a.style,f&&(f["-webkit-tap-highlight-color"]="transparent",f["-webkit-user-select"]="none",f["user-select"]="none",f["-webkit-touch-callout"]="none",a.innerHTML=""),this.storage=b,e?(g=a.width,i=a.height,this._width=g,this._height=i,l=new h(a,this,1),l.initContext(),this._layers={0:l},this._zlevelList=[0]):(g=this._getWidth(),i=this._getHeight(),this._width=g,this._height=i,j=document.createElement("div"),this._domRoot=j,k=j.style,k.position="relative",k.overflow="hidden",k.width=this._width+"px",k.height=this._height+"px",a.appendChild(j),this._layers={},this._zlevelList=[]),this._layerConfig={},this.pathToImage=this._createPathToImage()};r.prototype={constructor:r,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(a){var d,e,f,b=this.storage.getDisplayList(!0),c=this._zlevelList;for(this._paintList(b,a),d=0;d<c.length;d++)e=c[d],f=this._layers[e],!f.isBuildin&&f.refresh&&f.refresh();return this},_paintList:function(a,b){var c,d,e,g,h,i,j,m,n,r,s;for(null==b&&(b=!1),this._updateLayerStatus(a),g=this._width,h=this._height,this.eachBuildinLayer(k),i=null,j=0,m=a.length;m>j;j++)n=a[j],r=this._singleCanvas?0:n.zlevel,d!==r&&(d=r,c=this.getLayer(d),c.isBuildin||f("ZLevel "+d+" has been used by unkown layer "+c.id),e=c.ctx,c.__unusedCount=0,(c.__dirty||b)&&c.clear()),!c.__dirty&&!b||n.invisible||0===n.style.opacity||!n.scale[0]||!n.scale[1]||n.culling&&o(n,g,h)||(s=n.__clipPaths,p(s,i)&&(i&&e.restore(),s&&(e.save(),q(s,e)),i=s),n.beforeBrush&&n.beforeBrush(e),n.brush(e,!1),n.afterBrush&&n.afterBrush(e)),n.__dirty=!1;i&&e.restore(),this.eachBuildinLayer(l)},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var b=this._layers[a];return b||(b=new h("zr_"+a,this,this.dpr),b.isBuildin=!0,this._layerConfig[a]&&e.merge(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(a,b){var k,c=this._layers,d=this._zlevelList,e=d.length,g=null,h=-1,i=this._domRoot;if(c[a])return f("ZLevel "+a+" has been used already"),void 0;if(!j(b))return f("Layer of zlevel "+a+" is not valid"),void 0;if(e>0&&a>d[0]){for(h=0;e-1>h&&!(d[h]<a&&d[h+1]>a);h++);g=c[d[h]]}d.splice(h+1,0,a),g?(k=g.dom,k.nextSibling?i.insertBefore(b.dom,k.nextSibling):i.appendChild(b.dom)):i.firstChild?i.insertBefore(b.dom,i.firstChild):i.appendChild(b.dom),c[a]=b},eachLayer:function(a,b){var d,e,c=this._zlevelList;for(e=0;e<c.length;e++)d=c[e],a.call(b,this._layers[d],d)},eachBuildinLayer:function(a,b){var d,e,f,c=this._zlevelList;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.isBuildin&&a.call(b,d,e)},eachOtherLayer:function(a,b){var d,e,f,c=this._zlevelList;for(f=0;f<c.length;f++)e=c[f],d=this._layers[e],d.isBuildin||a.call(b,d,e)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var d,e,f,g,h,b=this._layers,c={};for(this.eachBuildinLayer(function(a,b){c[b]=a.elCount,a.elCount=0}),d=0,e=a.length;e>d;d++)if(f=a[d],g=this._singleCanvas?0:f.zlevel,h=b[g]){if(h.elCount++,h.__dirty)continue;h.__dirty=f.__dirty}this.eachBuildinLayer(function(a,b){c[b]!==a.elCount&&(a.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(a,b){var c,d;b&&(c=this._layerConfig,c[a]?e.merge(c[a],b,!0):c[a]=b,d=this._layers[a],d&&e.merge(d,c[a],!0))},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(e.indexOf(c,a),1))},resize:function(a,b){var d,c=this._domRoot;if(c.style.display="none",a=a||this._getWidth(),b=b||this._getHeight(),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px",c.style.height=b+"px";for(d in this._layers)this._layers[d].resize(a,b);this.refresh(!0)}return this._width=a,this._height=b,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){var b,c,d,e,f;if(a=a||{},this._singleCanvas)return this._layers[0].dom;for(b=new h("image",this,a.pixelRatio||this.dpr),b.initContext(),c=b.ctx,b.clearColor=a.backgroundColor,b.clear(),d=this.storage.getDisplayList(!0),e=0;e<d.length;e++)f=d[e],f.invisible||(f.beforeBrush&&f.beforeBrush(c),f.brush(c,!1),f.afterBrush&&f.afterBrush(c));return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return 0|(a.clientWidth||i(b.width)||i(a.style.width))-(i(b.paddingLeft)||0)-(i(b.paddingRight)||0)},_getHeight:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return 0|(a.clientHeight||i(b.height)||i(a.style.height))-(i(b.paddingTop)||0)-(i(b.paddingBottom)||0)
},_pathToImage:function(a,b,d,e,f){var i,j,k,g=document.createElement("canvas"),h=g.getContext("2d");return g.width=d*f,g.height=e*f,h.clearRect(0,0,d*f,e*f),i={position:b.position,rotation:b.rotation,scale:b.scale},b.position=[0,0,0],b.rotation=0,b.scale=[1,1],b&&b.brush(h),j=c(59),k=new j({id:a,style:{x:0,y:0,image:g}}),null!=i.position&&(k.position=b.position=i.position),null!=i.rotation&&(k.rotation=b.rotation=i.rotation),null!=i.scale&&(k.scale=b.scale=i.scale),k},_createPathToImage:function(){var a=this;return function(b,c,d,e){return a._pathToImage(b,c,d,e,a.dpr)}}},a.exports=r},function(a,b,c){function f(){return!1}function g(a,b,c,d){var e=document.createElement(b),f=c.getWidth(),g=c.getHeight(),h=e.style;return h.position="absolute",h.left=0,h.top=0,h.width=f+"px",h.height=g+"px",e.width=f*d,e.height=g*d,e.setAttribute("data-zr-dom-id",a),e}var d=c(3),e=c(40),h=function(a,b,c){var h,i;c=c||e.devicePixelRatio,"string"==typeof a?h=g(a,"canvas",b,c):d.isObject(a)&&(h=a,a=h.id),this.id=a,this.dom=h,i=h.style,i&&(h.onselectstart=f,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=b,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=c};h.prototype={constructor:h,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var a=this.dpr;1!=a&&this.ctx.scale(a,a)},createBackBuffer:function(){var a=this.dpr;this.domBack=g("back-"+this.id,"canvas",this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e.width=a+"px",e.height=b+"px",d.width=a*c,d.height=b*c,1!=c&&this.ctx.scale(c,c),f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var j,b=this.dom,c=this.ctx,d=b.width,e=b.height,f=this.clearColor,g=this.motionBlur&&!a,h=this.lastFrameAlpha,i=this.dpr;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/i,e/i)),c.clearRect(0,0,d/i,e/i),f&&(c.save(),c.fillStyle=this.clearColor,c.fillRect(0,0,d/i,e/i),c.restore()),g&&(j=this.domBack,c.save(),c.globalAlpha=h,c.drawImage(j,0,0,d/i,e/i),c.restore())}},a.exports=h},function(a,b,c){var d=c(42),e=c(3),f=Math.PI;a.exports=function(a,b){var c,g,h,i;return b=b||{},e.defaults(b,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0}),c=new d.Rect({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4}),g=new d.Arc({shape:{startAngle:-f/2,endAngle:-f/2+.1,r:10},style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),h=new d.Rect({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001}),g.animateShape(!0).when(1e3,{endAngle:3*f/2}).start("circularInOut"),g.animateShape(!0).when(1e3,{startAngle:3*f/2}).delay(300).start("circularInOut"),i=new d.Group,i.add(g),i.add(h),i.add(c),i.resize=function(){var e,b=a.getWidth()/2,d=a.getHeight()/2;g.setShape({cx:b,cy:d}),e=g.shape.r,h.setShape({x:b-e,y:d-e,width:2*e,height:2*e}),c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},i.resize(),i}},function(a,b,c){var d=c(4);a.exports=function(a,b,c){function e(a){var e=[b,"normal","color"],f=c.get("color"),g=a.getData(),h=a.get(e)||f[a.seriesIndex%f.length];g.setVisual("color",h),c.isSeriesFiltered(a)||("function"!=typeof h||h instanceof d||g.each(function(b){g.setItemVisual(b,"color",h(a.getDataParams(b)))}),g.each(function(a){var b=g.getItemModel(a),c=b.get(e,!0);null!=c&&g.setItemVisual(a,"color",c)}))}a?c.eachSeriesByType(a,e):c.eachSeries(e)}},function(a,b,c){function f(a,b){var c,d;for(b=b.split(","),c=a,d=0;d<b.length&&(c=c&&c[b[d]],null!=c);d++);return c}function g(a,b,c,d){var e,f,g;for(b=b.split(","),e=a,g=0;g<b.length-1;g++)f=b[g],null==e[f]&&(e[f]={}),e=e[f];(d||null==e[b[g]])&&(e[b[g]]=c)}function h(a){l(i,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}var d=c(3),e=c(90),i=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],j=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],k=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],l=d.each;a.exports=function(a){l(a.series,function(a){var b,c,i;if(d.isObject(a))for(b=a.type,e(a),("pie"===b||"gauge"===b)&&null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b&&(c=f(a,"pointer.color"),null!=c&&g(a,"itemStyle.normal.color",c)),i=0;i<k.length;i++)if(k[i]===a.type){h(a);break}}),a.dataRange&&(a.visualMap=a.dataRange),l(j,function(b){var c=a[b];c&&(d.isArray(c)||(c=[c]),l(c,function(a){h(a)}))})}},function(a,b,c){function f(a){var b=a&&a.itemStyle;b&&d.each(e,function(c){var e=b.normal,f=b.emphasis;e&&e[c]&&(a[c]=a[c]||{},a[c].normal?d.merge(a[c].normal,e[c]):a[c].normal=e[c],e[c]=null),f&&f[c]&&(a[c]=a[c]||{},a[c].emphasis?d.merge(a[c].emphasis,f[c]):a[c].emphasis=f[c],f[c]=null)})}var d=c(3),e=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];a.exports=function(a){var b,c,e,g,h,i;if(a&&(f(a),f(a.markPoint),f(a.markLine),b=a.data)){for(c=0;c<b.length;c++)f(b[c]);if(e=a.markPoint,e&&e.data)for(g=e.data,c=0;c<g.length;c++)f(g[c]);if(h=a.markLine,h&&h.data)for(i=h.data,c=0;c<i.length;c++)d.isArray(i[c])?(f(i[c][0]),f(i[c][1])):f(i[c])}}},function(a,b,c){var d=c(3),e=c(1);c(92),c(97),e.registerVisualCoding("chart",d.curry(c(103),"line","circle","line")),e.registerLayout(d.curry(c(104),"line")),e.registerProcessor("statistic",d.curry(c(105),"line")),c(106)},function(a,b,c){"use strict";var d=c(93),e=c(27);a.exports=e.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return d(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},symbol:"emptyCircle",symbolSize:4,showSymbol:!0,animationEasing:"linear"}})},function(a,b,c){"use strict";function k(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}function l(a){var b=k(a);return null!=b&&!f.isArray(i(b))}function m(a,b,c){var g,k,m,n,o,r,s,t,u,v,w;return a=a||[],g=b.get("coordinateSystem"),k=p[g],m=h.get(g),n=k&&k(a,b,c),o=n&&n.dimensions,o||(o=m&&m.dimensions||["x","y"],o=e(o,a,o.concat(["value"]))),r=n&&n.categoryAxisModel,t="ordinal"===o[0].type?0:"ordinal"===o[1].type?1:-1,u=new d(o,b),v=q(n,a),w=r&&l(a)?function(a,b,c,d){return d===t?c:j(i(a),o[d])}:function(a,b,c,d){var e=i(a),g=j(e&&e[d],o[d]);return t===d&&"string"==typeof g&&(s=s||r.getCategories(),g=f.indexOf(s,g),0>g&&!isNaN(g)&&(g=+g)),g},u.initData(a,v,w),u}function n(a){return"category"!==a&&"time"!==a}function o(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function q(a,b){var d,e,g,c=[];if(a&&a.categoryAxisModel&&(d=a.categoryAxisModel.getCategories()))if(e=b.length,f.isArray(b[0])&&b[0].length>1)for(c=[],g=0;e>g;g++)c[g]=d[b[g][a.categoryIndex||0]];else c=d.slice(0);return c}var d=c(94),e=c(96),f=c(3),g=c(5),h=c(25),i=g.getDataItemValue,j=g.converDataValue,p={cartesian2d:function(a,b,c){var d=c.getComponent("xAxis",b.get("xAxisIndex")),f=c.getComponent("yAxis",b.get("yAxisIndex")),g=d.get("type"),h=f.get("type"),i=[{name:"x",type:o(g),stackable:n(g)},{name:"y",type:o(h),stackable:n(h)}],j="category"===g;return e(i,a,["x","y","z"]),{dimensions:i,categoryIndex:j?0:1,categoryAxisModel:j?d:"category"===h?f:null}},polar:function(a,b,c){var d=b.get("polarIndex")||0,f=function(a){return a.get("polarIndex")===d},g=c.findComponents({mainType:"angleAxis",filter:f})[0],h=c.findComponents({mainType:"radiusAxis",filter:f})[0],i=h.get("type"),j=g.get("type"),k=[{name:"radius",type:o(i),stackable:n(i)},{name:"angle",type:o(j),stackable:n(j)}],l="category"===j;return e(k,a,["radius","angle","value"]),{dimensions:k,categoryIndex:l?1:0,categoryAxisModel:l?g:"category"===i?h:null}},geo:function(a){return{dimensions:e([{name:"lng"},{name:"lat"}],a,["lng","lat","value"])}}};a.exports=m},function(a,b,c){!function(b){function r(a){return k.isArray(a)||(a=[a]),a}function s(a,b){var e,f,g,h,i,c=a.dimensions,d=new p(k.map(c,a.getDimensionInfo,a),a.hostModel);for(o(d,a,a._wrappedMethods),e=d._storage={},f=a._storage,g=0;g<c.length;g++)h=c[g],i=f[h],e[h]=k.indexOf(b,h)>=0?new i.constructor(f[h].length):f[h];return d}var t,d="undefined",e="undefined"==typeof window?b:window,f=typeof e.Float64Array===d?Array:e.Float64Array,g=typeof e.Int32Array===d?Array:e.Int32Array,h={"float":f,"int":g,ordinal:Array,number:Array,time:Array},i=c(8),j=c(95),k=c(3),l=c(5),m=k.isObject,n=["stackedOn","_nameList","_idList","_rawData"],o=function(a,b,c){k.each(n.concat(c||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])})},p=function(a,b){var c,d,e,f,g;for(a=a||["x","y"],c={},d=[],e=0;e<a.length;e++)g={},"string"==typeof a[e]?(f=a[e],g={name:f,stackable:!1,type:"number"}):(g=a[e],f=g.name,g.type=g.type||"number"),d.push(f),c[f]=g;this.dimensions=d,this._dimensionInfos=c,this.hostModel=b,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},q=p.prototype;q.type="list",q.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},q.getDimensionInfo=function(a){return k.clone(this._dimensionInfos[this.getDimension(a)])},q.initData=function(a,b,c){var d,e,f,g,i,j,m,n,o,p,q,r,s,t,u,v,w;for(a=a||[],this._rawData=a,d=this._storage={},e=this.indices=[],f=this.dimensions,g=a.length,i=this._dimensionInfos,j=[],m={},b=b||[],n=0;n<f.length;n++)o=i[f[n]],p=h[o.type],d[f[n]]=new p(g);for(c=c||function(a,b,c,d){var e=l.getDataItemValue(a);return l.converDataValue(k.isArray(e)?e[d]:e,i[b])},q=0;q<a.length;q++){for(r=a[q],s=0;s<f.length;s++)t=f[s],u=d[t],u[q]=c(r,t,q,s);e.push(q)}for(n=0;n<a.length;n++)v="",b[n]||(b[n]=a[n].name,v=a[n].id),w=b[n]||"",!v&&w&&(m[w]=m[w]||0,v=w,m[w]>0&&(v+="__ec__"+m[w]),m[w]++),v&&(j[n]=v);this._nameList=b,this._idList=j},q.count=function(){return this.indices.length},q.get=function(a,b,c){var f,g,h,i,d=this._storage,e=this.indices[b];if(null==e)return 0/0;if(f=d[a]&&d[a][e],c&&(g=this._dimensionInfos[a],g&&g.stackable))for(h=this.stackedOn;h;)i=h.get(a,b),(f>=0&&i>0||0>=f&&0>i)&&(f+=i),h=h.stackedOn;return f},q.getValues=function(a,b,c){var e,f,d=[];for(k.isArray(a)||(c=b,b=a,a=this.dimensions),e=0,f=a.length;f>e;e++)d.push(this.get(a[e],b,c));return d},q.hasValue=function(a){var d,e,b=this.dimensions,c=this._dimensionInfos;for(d=0,e=b.length;e>d;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0},q.getDataExtent=function(a,b){var e,f,g,h,i,j,c=this._storage[a],d=this.getDimensionInfo(a);if(b=d&&d.stackable&&b,e=(this._extent||(this._extent={}))[a+!!b])return e;if(c){for(g=1/0,h=-1/0,i=0,j=this.count();j>i;i++)f=this.get(a,i,b),g>f&&(g=f),f>h&&(h=f);return this._extent[a+b]=[g,h]}return[1/0,-1/0]},q.getSum=function(a,b){var e,f,g,c=this._storage[a],d=0;if(c)for(e=0,f=this.count();f>e;e++)g=this.get(a,e,b),isNaN(g)||(d+=g);return d},q.indexOf=function(a,b){var f,g,h,c=this._storage,d=c[a],e=this.indices;if(d)for(f=0,g=e.length;g>f;f++)if(h=e[f],d[h]===b)return f;return-1},q.indexOfName=function(a){var d,e,f,b=this.indices,c=this._nameList;for(d=0,e=b.length;e>d;d++)if(f=b[d],c[f]===a)return d;return-1},q.indexOfNearest=function(a,b,c){var f,g,h,i,j,k,d=this._storage,e=d[a];if(e){for(f=Number.MAX_VALUE,g=-1,h=0,i=this.count();i>h;h++)j=b-this.get(a,h,c),k=Math.abs(j),(f>k||k===f&&j>0)&&(f=k,g=h);return g}return-1},q.getRawIndex=function(a){var b=this.indices[a];return null==b?-1:b},q.getName=function(a){return this._nameList[this.indices[a]]||""},q.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""},q.each=function(a,b,c,d){var e,f,g,h,i;for("function"==typeof a&&(d=c,c=b,b=a,a=[]),a=k.map(r(a),this.getDimension,this),e=[],f=a.length,g=this.indices,d=d||this,h=0;h<g.length;h++)if(0===f)b.call(d,h);else if(1===f)b.call(d,this.get(a[0],h,c),h);else{for(i=0;f>i;i++)e[i]=this.get(a[i],h,c);e[i]=h,b.apply(d,e)}},q.filterSelf=function(a,b,c,d){var e,f,g,h,i,j,l;for("function"==typeof a&&(d=c,c=b,b=a,a=[]),a=k.map(r(a),this.getDimension,this),e=[],f=[],g=a.length,h=this.indices,d=d||this,i=0;i<h.length;i++){if(1===g)j=b.call(d,this.get(a[0],i,c),i);else{for(l=0;g>l;l++)f[l]=this.get(a[l],i,c);f[l]=i,j=b.apply(d,f)}j&&e.push(h[i])}return this.indices=e,this._extent={},this},q.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c,d),e},q.map=function(a,b,c,d){var e,f,g,h;return a=k.map(r(a),this.getDimension,this),e=s(this,a),f=e.indices=this.indices,g=e._storage,h=[],this.each(a,function(){var e,i,j,k,c=arguments[arguments.length-1],d=b&&b.apply(this,arguments);if(null!=d)for("number"==typeof d&&(h[0]=d,d=h),e=0;e<d.length;e++)i=a[e],j=g[i],k=f[c],j&&(j[k]=d[e])},c,d),e},q.downSample=function(a,b,c,d){var o,p,q,r,e=s(this,[a]),f=this._storage,g=e._storage,h=this.indices,i=e.indices=[],j=[],k=[],l=Math.floor(1/b),m=g[a],n=this.count();for(o=0;o<f[a].length;o++)g[a][o]=f[a][o];for(o=0;n>o;o+=l){for(l>n-o&&(l=n-o,j.length=l),p=0;l>p;p++)q=h[o+p],j[p]=m[q],k[p]=q;r=c(j),q=k[d(j,r)||0],m[q]=r,i.push(q)}return e},q.getItemModel=function(a){var b=this.hostModel;return a=this.indices[a],new i(this._rawData[a],b,b.ecModel)},q.diff=function(a){var b=this._idList,c=a&&a._idList;return new j(a?a.indices:[],this.indices,function(a){return c[a]||a+""},function(a){return b[a]||a+""})},q.getVisual=function(a){var b=this._visual;return b&&b[a]},q.setVisual=function(a,b){if(m(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b},q.setLayout=function(a,b){if(m(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b},q.getLayout=function(a){return this._layout[a]},q.getItemLayout=function(a){return this._itemLayouts[a]},q.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?k.extend(this._itemLayouts[a]||{},b):b},q.getItemVisual=function(a,b,c){var d=this._itemVisuals[a],e=d&&d[b];return null!=e||c?e:this.getVisual(b)},q.setItemVisual=function(a,b,c){var e,d=this._itemVisuals[a]||{};if(this._itemVisuals[a]=d,m(b))for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);else d[b]=c},t=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex},q.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(t,b)),this._graphicEls[a]=b},q.getItemGraphicEl=function(a){return this._graphicEls[a]},q.eachItemGraphicEl=function(a,b){k.each(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},q.cloneShallow=function(){var a=k.map(this.dimensions,this.getDimensionInfo,this),b=new p(a,this.hostModel);return b._storage=this._storage,o(b,this,this._wrappedMethods),b.indices=this.indices.slice(),b},q.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this._wrappedMethods=this._wrappedMethods||[],this._wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.call(this,a)})},a.exports=p}.call(b,function(){return this}())},function(a){"use strict";function c(a){return a}function d(a,b,d,e){this._old=a,this._new=b,this._oldKeyGetter=d||c,this._newKeyGetter=e||c}function e(a,b,c){var d,e,f;for(d=0;d<a.length;d++)e=c(a[d]),f=b[e],null==f?b[e]=d:(f.length||(b[e]=f=[f]),f.push(d))}d.prototype={constructor:d,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var h,i,j,k,a=this._old,b=this._new,c=this._oldKeyGetter,d=this._newKeyGetter,f={},g={};for(e(a,f,c),e(b,g,d),h=0;h<a.length;h++)i=c(a[h]),j=g[i],null!=j?(k=j.length,k?(1===k&&(g[i]=null),j=j.unshift()):g[i]=null,this._update&&this._update(j,h)):this._remove&&this._remove(h);for(i in g)if(g.hasOwnProperty(i)){if(j=g[i],null==j)continue;if(j.length)for(h=0,k=j.length;k>h;h++)this._add&&this._add(j[h]);else this._add&&this._add(j)}}},a.exports=d},function(a,b,c){function e(a,b,c,e){var h,i,j,k;if(!b)return a;for(h=g(b[0]),i=d.isArray(h)&&h.length||1,c=c||[],e=e||"extra",j=0;i>j;j++)a[j]||(k=c[j]||e+(j-c.length),a[j]=f(b,j)?{type:"ordinal",name:k}:k);return a}function f(a,b){var c,e,f;for(c=0,e=a.length;e>c;c++){if(f=g(a[c]),!d.isArray(f))return!1;if(f=f[b],null!=f&&isFinite(f))return!1;if(d.isString(f)&&"-"!==f)return!0}return!1}function g(a){return d.isArray(a)?a:d.isObject(a)?a.value:a}var d=c(3);a.exports=e},function(a,b,c){"use strict";function k(a,b){var c,d,e;if(a.length===b.length){for(c=0;c<a.length;c++)if(d=a[c],e=b[c],d[0]!==e[0]||d[1]!==e[1])return;return!0}}function l(a){return"number"==typeof a?a:a?.3:0}function m(a){var c,d,b=a.getGlobalExtent();return a.onBand&&(c=a.getBandWidth()/2-1,d=b[1]>b[0]?1:-1,b[0]+=d*c,b[1]-=d*c),b}function n(a){return a>=0?1:-1}function o(a,b){var c=a.getBaseAxis(),d=a.getOtherAxis(c),e=c.onZero?0:d.scale.getExtent()[0],f=d.dim,g="x"===f||"radius"===f?1:0;return b.mapArray([f],function(d,h){for(var i,k,j=b.stackedOn;j&&n(j.get(f,h))===n(d);){i=j;break}return k=[],k[g]=b.get(c.dim,h),k[1-g]=i?i.get(f,h,!0):e,a.dataToPoint(k)},!0)}function p(a,b){return null!=b.dataIndex?b.dataIndex:null!=b.name?a.indexOfName(b.name):void 0}function q(a,b,c){var l,d=m(a.getAxis("x")),e=m(a.getAxis("y")),f=a.getBaseAxis().isHorizontal(),g=d[0],i=e[0],j=d[1]-g,k=e[1]-i;return c.get("clipOverflow")||(f?(i-=k,k*=3):(g-=j,j*=3)),l=new h.Rect({shape:{x:g,y:i,width:j,height:k}}),b&&(l.shape[f?"width":"height"]=0,h.initProps(l,{shape:{width:j,height:k}},c)),l}function r(a,b,c){var d=a.getAngleAxis(),e=a.getRadiusAxis(),f=e.getExtent(),g=d.getExtent(),i=Math.PI/180,j=new h.Sector({shape:{cx:a.cx,cy:a.cy,r0:f[0],r:f[1],startAngle:-g[0]*i,endAngle:-g[1]*i,clockwise:d.inverse}});return b&&(j.shape.endAngle=-g[0]*i,h.initProps(j,{shape:{endAngle:-g[1]*i}},c)),j}function s(a,b,c){return"polar"===a.type?r(a,b,c):q(a,b,c)}var d=c(3),e=c(98),f=c(99),g=c(101),h=c(42),i=c(102),j=c(41);a.exports=j.extend({type:"line",init:function(){var a=new h.Group,b=new e;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(a,b,c){var A,B,C,D,e=a.coordinateSystem,f=this.group,g=a.getData(),h=a.getModel("lineStyle.normal"),i=a.getModel("areaStyle.normal"),j=g.mapArray(g.getItemLayout,!0),m="polar"===e.type,n=this._coordSys,p=this._symbolDraw,q=this._polyline,r=this._polygon,t=this._lineGroup,u=a.get("animation"),v=!i.isEmpty(),w=o(e,g),x=a.get("showSymbol"),y=x&&!m&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(g,e),z=this._data;z&&z.eachItemGraphicEl(function(a,b){a.__temp&&(f.remove(a),z.setItemGraphicEl(b,null))}),x||p.remove(),f.add(t),q&&n.type===e.type?(v&&!r?r=this._newPolygon(j,w,e,u):r&&!v&&(t.remove(r),r=this._polygon=null),t.setClipPath(s(e,!1,a)),x&&p.updateData(g,y),g.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),k(this._stackedOnPoints,w)&&k(this._points,j)||(u?this._updateAnimation(g,w,e,c):(q.setShape({points:j}),r&&r.setShape({points:j,stackedOnPoints:w})))):(x&&p.updateData(g,y),q=this._newPolyline(j,e,u),v&&(r=this._newPolygon(j,w,e,u)),t.setClipPath(s(e,!0,a))),q.setStyle(d.defaults(h.getLineStyle(),{stroke:g.getVisual("color"),lineJoin:"bevel"})),A=a.get("smooth"),A=l(a.get("smooth")),q.setShape({smooth:A,smoothMonotone:a.get("smoothMonotone")}),r&&(B=g.stackedOn,C=0,r.style.opacity=.7,r.setStyle(d.defaults(i.getAreaStyle(),{fill:g.getVisual("color"),lineJoin:"bevel"})),B&&(D=B.hostModel,C=l(D.get("smooth"))),r.setShape({smooth:A,stackedOnSmooth:C,smoothMonotone:a.get("smoothMonotone")})),this._data=g,this._coordSys=e,this._stackedOnPoints=w,this._points=j},highlight:function(a,b,c,d){var h,i,e=a.getData(),g=p(e,d);null!=g&&g>=0?(h=e.getItemGraphicEl(g),h||(i=e.getItemLayout(g),h=new f(e,g,c),h.position=i,h.setZ(a.get("zlevel"),a.get("z")),h.ignore=isNaN(i[0])||isNaN(i[1]),h.__temp=!0,e.setItemGraphicEl(g,h),h.stopSymbolAnimation(!0),this.group.add(h)),h.highlight()):j.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var g,e=a.getData(),f=p(e,d);null!=f&&f>=0?(g=e.getItemGraphicEl(f),g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())):j.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new i.Polyline({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new i.Polygon({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_getSymbolIgnoreFunc:function(a,b){var c=b.getAxesByScale("ordinal")[0];return c&&c.isLabelIgnored?d.bind(c.isLabelIgnored,c):void 0},_updateAnimation:function(a,b,c){var k,l,m,n,o,e=this._polyline,f=this._polygon,i=a.hostModel,j=g(this._data,a,this._stackedOnPoints,b,this._coordSys,c);for(e.shape.points=j.current,h.updateProps(e,{shape:{points:j.next}},i),f&&(f.setShape({points:j.current,stackedOnPoints:j.stackedOnCurrent}),h.updateProps(f,{shape:{points:j.next,stackedOnPoints:j.stackedOnNext}},i)),k=[],l=j.status,m=0;m<l.length;m++)n=l[m].cmd,"="===n&&(o=a.getItemGraphicEl(l[m].idx1),o&&k.push({el:o,ptIdx:m}));e.animators&&e.animators.length&&e.animators[0].during(function(){var a,b;for(a=0;a<k.length;a++)b=k[a].el,b.attr("position",e.shape.points[k[a].ptIdx])})},remove:function(){var b=this.group,c=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(a,b,c){function f(a){this.group=new d.Group,this._symbolCtor=a||e}function h(a,b,c){var d=a.getItemLayout(b);return!(!d||isNaN(d[0])||isNaN(d[1])||c&&c(b)||"none"===a.getItemVisual(b,"symbol"))}var d=c(42),e=c(99),g=f.prototype;g.updateData=function(a,b){var c=this.group,e=a.hostModel,f=this._data,g=this._symbolCtor;a.diff(f).add(function(d){var f,e=a.getItemLayout(d);h(a,d,b)&&(f=new g(a,d),f.attr("position",e),a.setItemGraphicEl(d,f),c.add(f))}).update(function(i,j){var k=f.getItemGraphicEl(j),l=a.getItemLayout(i);return h(a,i,b)?(k?(k.updateData(a,i),d.updateProps(k,{position:l},e)):(k=new g(a,i),k.attr("position",l)),c.add(k),a.setItemGraphicEl(i,k),void 0):(c.remove(k),void 0)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute(),this._data=a},g.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){b.attr("position",a.getItemLayout(c))})},g.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll())},a.exports=f},function(a,b,c){function h(a){return d.isArray(a)||(a=[+a,+a]),a}function i(a,b){f.Group.call(this),this.updateData(a,b)}function k(a,b){this.parent.drift(a,b)}var l,m,n,o,d=c(3),e=c(100),f=c(42),g=c(7),j=i.prototype;j._createSymbol=function(a,b,c){var d,g,i,j;this.removeAll(),d=b.hostModel,g=b.getItemVisual(c,"color"),i=e.createSymbol(a,-.5,-.5,1,1,g),i.attr({style:{strokeNoScale:!0},z2:100,culling:!0,scale:[0,0]}),i.drift=k,j=h(b.getItemVisual(c,"symbolSize")),f.initProps(i,{scale:j},d),this._symbolType=a,this.add(i)},j.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},j.getScale=function(){return this.childAt(0).scale},j.highlight=function(){this.childAt(0).trigger("emphasis")},j.downplay=function(){this.childAt(0).trigger("normal")},j.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},j.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},j.updateData=function(a,b){var g,c=a.getItemVisual(b,"symbol")||"circle",d=a.hostModel,e=h(a.getItemVisual(b,"symbolSize"));c!==this._symbolType?this._createSymbol(c,a,b):(g=this.childAt(0),f.updateProps(g,{scale:e},d)),this._updateCommon(a,b,e),this._seriesModel=d},l=["itemStyle","normal"],m=["itemStyle","emphasis"],n=["label","normal"],o=["label","emphasis"],j._updateCommon=function(a,b,c){var s,t,u,v,w,x,y,z,A,B,C,e=this.childAt(0),i=a.hostModel,j=a.getItemModel(b),k=j.getModel(l),p=a.getItemVisual(b,"color"),q=e.style,r=j.getModel(m).getItemStyle();for(e.rotation=j.getShallow("symbolRotate")*Math.PI/180||0,s=j.getShallow("symbolOffset"),s&&(t=e.position,t[0]=g.parsePercent(s[0],c[0]),t[1]=g.parsePercent(s[1],c[1])),e.setColor(p),d.extend(q,k.getItemStyle(["color"])),u=a.getItemVisual(b,"opacity"),null!=u&&(q.opacity=u),v=j.getModel(n),w=j.getModel(o),x=a.dimensions.slice(),y=x.pop();"ordinal"===(z=a.getDimensionInfo(y).type)||"time"===z;)y=x.pop();v.get("show")?(f.setText(q,v,p),q.text=d.retrieve(i.getFormattedLabel(b,"normal"),a.get(y,b))):q.text="",w.getShallow("show")?(f.setText(r,w,p),r.text=d.retrieve(i.getFormattedLabel(b,"emphasis"),a.get(y,b))):r.text="",A=h(a.getItemVisual(b,"symbolSize")),e.off("mouseover").off("mouseout").off("emphasis").off("normal"),f.setHoverStyle(e,r),j.getShallow("hoverAnimation")&&(B=function(){var a=A[1]/A[0];this.animateTo({scale:[Math.max(1.1*A[0],A[0]+3),Math.max(1.1*A[1],A[1]+3*a)]},400,"elasticOut")},C=function(){this.animateTo({scale:A},400,"elasticOut")},e.on("mouseover",B).on("mouseout",C).on("emphasis",B).on("normal",C))},j.fadeOut=function(a){var b=this.childAt(0);b.style.text="",f.updateProps(b,{scale:[0,0]},this._seriesModel,a)},d.inherits(i,f.Group),a.exports=i},function(a,b,c){"use strict";var m,n,o,p,d=c(42),e=c(15),f=d.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),g=d.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),h=d.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var n,o,c=b.x,d=b.y,e=3*(b.width/5),f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j);a.arc(c,i,g,Math.PI-j,2*Math.PI+j),n=.6*g,o=.7*g,a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),i=d.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=2*(d/3);a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+3*(c/4)),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),j={line:d.Line,rect:d.Rect,roundRect:d.Rect,square:d.Rect,circle:d.Circle,diamond:g,pin:h,arrow:i,triangle:f},k={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},l={};for(m in j)l[m]=new j[m];n=d.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style,b=this.shape;"pin"===b.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b){var c=b.symbolType,d=l[c];"none"!==b.symbolType&&(d||(c="rect",d=l[c]),k[c](b.x,b.y,b.width,b.height,d.shape),d.buildPath(a,d.shape))}}),o=function(a){var b,c;"image"!==this.type&&(b=this.style,c=this.shape,c&&"line"===c.symbolType?b.stroke=a:this.__isEmptyBrush?(b.stroke=a,b.fill="#fff"):(b.fill&&(b.fill=a),b.stroke&&(b.stroke=a)),this.dirty())},p={createSymbol:function(a,b,c,f,g,h){var j,i=0===a.indexOf("empty");return i&&(a=a.substr(5,1).toLowerCase()+a.substr(6)),j=0===a.indexOf("image://")?new d.Image({style:{image:a.slice(8),x:b,y:c,width:f,height:g}}):0===a.indexOf("path://")?d.makePath(a.slice(7),{},new e(b,c,f,g)):new n({shape:{symbolType:a,x:b,y:c,width:f,height:g}}),j.__isEmptyBrush=i,j.setColor=o,j.setColor(h),j}},a.exports=p},function(a){function c(a){return a>=0?1:-1}function d(a,b,d){for(var j,m,e=a.getBaseAxis(),f=a.getOtherAxis(e),g=e.onZero?0:f.scale.getExtent()[0],h=f.dim,i="x"===h||"radius"===h?1:0,k=b.stackedOn,l=b.get(h,d);k&&c(k.get(h,d))===c(l);){j=k;break}return m=[],m[i]=b.get(e.dim,d),m[1-i]=j?j.get(h,d,!0):g,a.dataToPoint(m)}function e(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}a.exports=function(a,b,c,f,g,h){var r,s,t,u,v,w,x,y,z,A,B,C,i=e(a,b),j=[],k=[],l=[],m=[],n=[],o=[],p=[],q=h.dimensions;for(r=0;r<i.length;r++){switch(s=i[r],t=!0,s.cmd){case"=":u=a.getItemLayout(s.idx),v=b.getItemLayout(s.idx1),(isNaN(u[0])||isNaN(u[1]))&&(u=v.slice()),j.push(u),k.push(v),l.push(c[s.idx]),m.push(f[s.idx1]),p.push(b.getRawIndex(s.idx1));break;case"+":w=s.idx,j.push(g.dataToPoint([b.get(q[0],w,!0),b.get(q[1],w,!0)])),k.push(b.getItemLayout(w).slice()),l.push(d(g,b,w)),m.push(f[w]),p.push(b.getRawIndex(w));break;case"-":w=s.idx,x=a.getRawIndex(w),x!==w?(j.push(a.getItemLayout(w)),k.push(h.dataToPoint([a.get(q[0],w,!0),a.get(q[1],w,!0)])),l.push(c[w]),m.push(d(h,a,w)),p.push(x)):t=!1}t&&(n.push(s),o.push(o.length))}for(o.sort(function(a,b){return p[a]-p[b]}),y=[],z=[],A=[],B=[],C=[],r=0;r<o.length;r++)w=o[r],y[r]=j[w],z[r]=k[w],A[r]=l[w],B[r]=m[w],C[r]=n[w];return{current:y,next:z,stackedOnCurrent:A,stackedOnNext:B,status:C}}},function(a,b,c){function m(a,b,c,d,m,n,o,p,q,r){var t,u,v,w,x,y,z,A,B,C,s=c;for(t=0;m>t&&(u=b[s],!(s>=d||0>s||isNaN(u[0])||isNaN(u[1])));t++)s===c?(a[n>0?"moveTo":"lineTo"](u[0],u[1]),i(k,u)):q>0?(v=s-n,w=s+n,x=.5,y=b[v],z=b[w],n>0&&(s===m-1||isNaN(z[0])||isNaN(z[1]))||0>=n&&(0===s||isNaN(z[0])||isNaN(z[1]))?i(l,u):((isNaN(z[0])||isNaN(z[1]))&&(z=u),e.sub(j,z,y),"x"===r||"y"===r?(C="x"===r?0:1,A=Math.abs(u[C]-y[C]),B=Math.abs(u[C]-z[C])):(A=e.dist(u,y),B=e.dist(u,z)),x=B/(B+A),h(l,u,j,-q*(1-x))),f(k,k,p),g(k,k,o),f(l,l,p),g(l,l,o),a.bezierCurveTo(k[0],k[1],l[0],l[1],u[0],u[1]),h(k,u,j,q*x)):a.lineTo(u[0],u[1]),s+=n;return t}function n(a,b){var e,f,c=[1/0,1/0],d=[-1/0,-1/0];if(b)for(e=0;e<a.length;e++)f=a[e],f[0]<c[0]&&(c[0]=f[0]),f[1]<c[1]&&(c[1]=f[1]),f[0]>d[0]&&(d[0]=f[0]),f[1]>d[1]&&(d[1]=f[1]);return{min:b?c:d,max:b?d:c}}var d=c(44),e=c(16),f=e.min,g=e.max,h=e.scaleAndAdd,i=e.copy,j=[],k=[],l=[];a.exports={Polyline:d.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null},style:{fill:null,stroke:"#000"},buildPath:function(a,b){for(var c=b.points,d=0,e=c.length,f=n(c,b.smoothConstraint);e>d;)d+=m(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone)+1}}),Polygon:d.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null},buildPath:function(a,b){for(var j,c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,h=n(c,b.smoothConstraint),i=n(d,b.smoothConstraint);f>e;)j=m(a,c,e,f,f,1,h.min,h.max,b.smooth,g),m(a,d,e+j-1,f,j,-1,i.min,i.max,b.stackedOnSmooth,g),e+=j+1,a.closePath()}})}},function(a){a.exports=function(a,b,c,d){d.eachRawSeriesByType(a,function(a){var e=a.getData(),f=a.get("symbol")||b,g=a.get("symbolSize");e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:g}),d.isSeriesFiltered(a)||("function"==typeof g&&e.each(function(b){var c=a.getRawValue(b),d=a.getDataParams(b);
e.setItemVisual(b,"symbolSize",g(c,d))}),e.each(function(a){var b=e.getItemModel(a),c=b.get("symbol",!0),d=b.get("symbolSize",!0);null!=c&&e.setItemVisual(a,"symbol",c),null!=d&&e.setItemVisual(a,"symbolSize",d)}))})}},function(a){a.exports=function(a,b){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem,d=c.dimensions;b.each(d,function(a,d,e){var f;f=isNaN(a)||isNaN(d)?[0/0,0/0]:c.dataToPoint([a,d]),b.setItemLayout(e,f)},!0)})}},function(a){var c={average:function(a){var d,b=0,c=0;for(d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?0/0:b/c},sum:function(a){var c,b=0;for(c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){var c,b=-1/0;for(c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return b},min:function(a){var c,b=1/0;for(c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return b},nearest:function(a){return a[0]}},d=function(a){return Math.round(a.length/2)};a.exports=function(a,b){b.eachSeriesByType(a,function(a){var g,h,i,j,k,l,b=a.getData(),e=a.get("sampling"),f=a.coordinateSystem;"cartesian2d"===f.type&&e&&(g=f.getBaseAxis(),h=f.getOtherAxis(g),i=g.getExtent(),j=i[1]-i[0],k=Math.round(b.count()/j),k>1&&("string"==typeof e?l=c[e]:"function"==typeof e&&(l=e),l&&(b=b.downSample(h.dim,1/k,l,d),a.setData(b))))},this)}},function(a,b,c){"use strict";var d=c(42),e=c(3);c(107),c(124),c(1).extendComponentView({type:"grid",render:function(a){this.group.removeAll(),a.get("show")&&this.group.add(new d.Rect({shape:a.coordinateSystem.getRect(),style:e.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0}))}})},function(a,b,c){function m(a,b,c){return c.getComponent("grid",a.get("gridIndex"))===b}function n(a){var d,g,h,b=a.model,c=b.getFormattedLabels(),e=1,f=c.length;for(f>40&&(e=Math.ceil(f/40)),g=0;f>g;g+=e)a.isLabelIgnored(g)||(h=b.getTextRect(c[g]),d?d.union(h):d=h);return d}function o(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this._model=a}function q(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}var p,e=c(21),f=c(108),g=c(3),h=c(114),i=c(116),j=g.each,k=f.ifAxisCrossZero,l=f.niceScaleExtent;c(119),p=o.prototype,p.type="grid",p.getRect=function(){return this._rect},p.update=function(a,b){function d(a){var d,e,b=c[a];for(d in b)if(e=b[d],e&&("category"===e.type||!k(e)))return!0;return!1}var c=this._axesMap;this._updateScale(a,this._model),j(c.x,function(a){l(a,a.model)}),j(c.y,function(a){l(a,a.model)}),j(c.x,function(a){d("y")&&(a.onZero=!1)}),j(c.y,function(a){d("x")&&(a.onZero=!1)}),this.resize(this._model,b)},p.resize=function(a,b){function f(){j(d,function(a){var b=a.isHorizontal(),d=b?[0,c.width]:[0,c.height],e=a.inverse?1:0;a.setExtent(d[e],d[1-e]),q(a,b?c.x:c.y)})}var d,c=e.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=c,d=this._axesList,f(),a.get("containLabel")&&(j(d,function(a){var b,d,e;a.model.get("axisLabel.inside")||(b=n(a),b&&(d=a.isHorizontal()?"height":"width",e=a.model.get("axisLabel.margin"),c[d]-=b[d]+e,"top"===a.position?c.y+=b.height+e:"left"===a.position&&(c.x+=b.width+e)))}),f())},p.getAxis=function(a,b){var d,c=this._axesMap[a];if(null!=c){if(null==b)for(d in c)return c[d];return c[b]}},p.getCartesian=function(a,b){var c="x"+a+"y"+b;return this._coordsMap[c]},p._initCartesian=function(a,b){function k(c){return function(h,j){var k,l,n;m(h,a,b)&&(k=h.get("position"),"x"===c?("top"!==k&&"bottom"!==k&&(k="bottom"),d[k]&&(k="top"===k?"bottom":"top")):("left"!==k&&"right"!==k&&(k="left"),d[k]&&(k="left"===k?"right":"left")),d[k]=!0,l=new i(c,f.createScaleByModel(h),[0,0],h.get("type"),k),n="category"===l.type,l.onBand=n&&h.get("boundaryGap"),l.inverse=h.get("inverse"),l.onZero=h.get("axisLine.onZero"),h.axis=l,l.model=h,l.index=j,this._axesList.push(l),e[c][j]=l,g[c]++)}}var d={left:!1,right:!1,top:!1,bottom:!1},e={x:{},y:{}},g={x:0,y:0};return b.eachComponent("xAxis",k("x"),this),b.eachComponent("yAxis",k("y"),this),g.x&&g.y?(this._axesMap=e,j(e.x,function(a,b){j(e.y,function(c,d){var e="x"+b+"y"+d,f=new h(e);f.grid=this,this._coordsMap[e]=f,this._coordsList.push(f),f.addAxis(a),f.addAxis(c)},this)},this),void 0):(this._axesMap={},this._axesList=[],void 0)},p._updateScale=function(a,b){function c(a,b,c){j(c.coordDimToDataDim(b.dim),function(c){b.scale.unionExtent(a.getDataExtent(c,"ordinal"!==b.scale.type))})}g.each(this._axesList,function(a){a.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(d){var e,f,g,h,i,j,k,l;if("cartesian2d"===d.get("coordinateSystem")){if(e=d.get("xAxisIndex"),f=d.get("yAxisIndex"),g=a.getComponent("xAxis",e),h=a.getComponent("yAxis",f),!m(g,b,a)||!m(h,b,a))return;i=this.getCartesian(e,f),j=d.getData(),k=i.getAxis("x"),l=i.getAxis("y"),"list"===j.type&&(c(j,k,d),c(j,l,d))}},this)},o.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var f=new o(d,a,b);f.name="grid_"+e,f.resize(d,b),d.coordinateSystem=f,c.push(f)}),a.eachSeries(function(b){var d,e,f;"cartesian2d"===b.get("coordinateSystem")&&(d=b.get("xAxisIndex"),e=a.getComponent("xAxis",d),f=c[e.get("gridIndex")],b.coordinateSystem=f.getCartesian(d,b.get("yAxisIndex")))}),c},o.dimensions=h.prototype.dimensions,c(25).register("cartesian2d",o),a.exports=o},function(a,b,c){var f,g,h,i,j,d=c(109),e=c(111);c(112),c(113),f=c(110),g=c(7),h=c(3),i=c(14),j={},j.getScaleExtent=function(a,b){var f,i,j,k,l,m,c=a.scale,d=c.getExtent(),e=d[1]-d[0];return"ordinal"===c.type?isFinite(e)?d:[0,0]:(f=b.getMin?b.getMin():b.get("min"),i=b.getMax?b.getMax():b.get("max"),j=b.getNeedCrossZero?b.getNeedCrossZero():!b.get("scale"),k=b.get("boundaryGap"),h.isArray(k)||(k=[k||0,k||0]),k[0]=g.parsePercent(k[0],1),k[1]=g.parsePercent(k[1],1),l=!0,m=!0,null==f&&(f=d[0]-k[0]*e,l=!1),null==i&&(i=d[1]+k[1]*e,m=!1),"dataMin"===f&&(f=d[0]),"dataMax"===i&&(i=d[1]),j&&(f>0&&i>0&&!l&&(f=0),0>f&&0>i&&!m&&(i=0)),[f,i])},j.niceScaleExtent=function(a,b){var g,c=a.scale,d=j.getScaleExtent(a,b),e=null!=(b.getMin?b.getMin():b.get("min")),f=null!=(b.getMax?b.getMax():b.get("max"));c.setExtent(d[0],d[1]),c.niceExtent(b.get("splitNumber"),e,f),g=b.get("interval"),null!=g&&c.setInterval&&c.setInterval(g)},j.createScaleByModel=function(a,b){if(b=b||a.get("type"))switch(b){case"category":return new d(a.getCategories(),[1/0,-1/0]);case"value":return new e;default:return(f.getClass(b)||e).create(a)}},j.ifAxisCrossZero=function(a){var b=a.scale.getExtent(),c=b[0],d=b[1];return!(c>0&&d>0||0>c&&0>d)},j.getAxisLabelInterval=function(a,b,c,d){var e,j,k,l,f=0,g=0,h=1;for(b.length>40&&(h=Math.round(b.length/40)),j=0;j<a.length;j+=h)k=a[j],l=i.getBoundingRect(b[j],c,"center","top"),l[d?"x":"y"]+=k,l[d?"width":"height"]*=1.5,e?e.intersect(l)?(g++,f=Math.max(f,g)):(e.union(l),g=0):e=l.clone();return 0===f&&h>1?h:f*h},j.getFormattedLabels=function(a,b){var c=a.scale,d=c.getTicksLabels(),e=c.getTicks();return"string"==typeof b?(b=function(a){return function(b){return a.replace("{value}",b)}}(b),h.map(d,b)):"function"==typeof b?h.map(e,function(d,e){return b("category"===a.type?c.getLabel(d):d,e)},this):d},a.exports=j},function(a,b,c){var d=c(3),e=c(110),f=e.prototype,g=e.extend({type:"ordinal",init:function(a,b){this._data=a,this._extent=b||[0,a.length-1]},parse:function(a){return"string"==typeof a?d.indexOf(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),f.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return f.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(f.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:d.noop,niceExtent:d.noop});g.create=function(){return new g},a.exports=g},function(a,b,c){function e(){this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var d=c(9),f=e.prototype;f.parse=function(a){return a},f.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},f.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])},f.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},f.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},f.getExtent=function(){return this._extent.slice()},f.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},f.getTicksLabels=function(){var c,a=[],b=this.getTicks();for(c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},d.enableClassExtend(e),d.enableClassManagement(e,{registerWhenExtend:!0}),a.exports=e},function(a,b,c){var d=c(7),e=c(6),f=c(110),g=Math.floor,h=Math.ceil,i=f.extend({type:"interval",_interval:0,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),i.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice()},getTicks:function(){var a,b,c,e,f,g;if(this._interval||this.niceTicks(),a=this._interval,b=this._extent,c=[],e=1e4,a){for(f=this._niceExtent,b[0]<f[0]&&c.push(b[0]),g=f[0];g<=f[1];)if(c.push(g),g=d.round(g+a),c.length>e)return[];b[1]>f[1]&&c.push(b[1])}return c},getTicksLabels:function(){var c,a=[],b=this.getTicks();for(c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},getLabel:function(a){return e.addCommas(a)},niceTicks:function(a){var b,c,e,f;a=a||5,b=this._extent,c=b[1]-b[0],isFinite(c)&&(0>c&&(c=-c,b.reverse()),e=d.nice(c/a,!0),f=[d.round(h(b[0]/e)*e),d.round(g(b[1]/e)*e)],this._interval=e,this._niceExtent=f)},niceExtent:function(a,b,c){var f,i,j,e=this._extent;e[0]===e[1]&&(0!==e[0]?(f=e[0]/2,e[0]-=f,e[1]+=f):e[1]=1),i=e[1]-e[0],isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(a),j=this._interval,b||(e[0]=d.round(g(e[0]/j)*j)),c||(e[1]=d.round(h(e[1]/j)*j))}});i.create=function(){return new i},a.exports=i},function(a,b,c){var n,d=c(3),e=c(7),f=c(6),g=c(111),h=g.prototype,i=Math.ceil,j=Math.floor,k=864e5,l=function(a,b,c,d){for(;d>c;){var e=c+d>>>1;a[e][2]<b?c=e+1:d=e}return c},m=g.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return f.formatTime(b[0],c)},niceExtent:function(a,b,c){var f,g,d=this._extent;d[0]===d[1]&&(d[0]-=k,d[1]+=k),d[1]===-1/0&&1/0===d[0]&&(f=new Date,d[1]=new Date(f.getFullYear(),f.getMonth(),f.getDate()),d[0]=d[1]-k),this.niceTicks(a,b,c),g=this._interval,b||(d[0]=e.round(j(d[0]/g)*g)),c||(d[1]=e.round(i(d[1]/g)*g))},niceTicks:function(a){var b,c,d,f,g,h,k,m,o,p;a=a||10,b=this._extent,c=b[1]-b[0],d=c/a,f=n.length,g=l(n,d,0,f),h=n[Math.min(g,f-1)],k=h[2],"year"===h[0]&&(m=c/k,o=e.nice(m/a,!0),k*=o),p=[i(b[0]/k)*k,j(b[1]/k)*k],this._stepLvl=h,this._interval=k,this._niceExtent=p},parse:function(a){return+e.parseDate(a)}});d.each(["contain","normalize"],function(a){m.prototype[a]=function(b){return h[a].call(this,this.parse(b))}}),n=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,k],["week",7,7*k],["month",1,31*k],["quarter",3,380*k/4],["half-year",6,380*k/2],["year",1,380*k]],m.create=function(){return new m},a.exports=m},function(a,b,c){var d=c(3),e=c(110),f=c(7),g=c(111),h=e.prototype,i=g.prototype,j=Math.floor,k=Math.ceil,l=Math.pow,m=10,n=Math.log,o=e.extend({type:"log",getTicks:function(){return d.map(i.getTicks.call(this),function(a){return f.round(l(m,a))})},getLabel:i.getLabel,scale:function(a){return a=h.scale.call(this,a),l(m,a)},setExtent:function(a,b){a=n(a)/n(m),b=n(b)/n(m),i.setExtent.call(this,a,b)},getExtent:function(){var a=h.getExtent.call(this);return a[0]=l(m,a[0]),a[1]=l(m,a[1]),a},unionExtent:function(a){a[0]=n(a[0])/n(m),a[1]=n(a[1])/n(m),h.unionExtent.call(this,a)},niceTicks:function(a){var b,c,d,e,g;a=a||10,b=this._extent,c=b[1]-b[0],1/0===c||0>=c||(d=l(10,j(n(c/a)/Math.LN10)),e=a/c*d,.5>=e&&(d*=10),g=[f.round(k(b[0]/d)*d),f.round(j(b[1]/d)*d)],this._interval=d,this._niceExtent=g)},niceExtent:i.niceExtent});d.each(["contain","normalize"],function(a){o.prototype[a]=function(b){return b=n(b)/n(m),h[a].call(this,b)}}),o.create=function(){return new o},a.exports=o},function(a,b,c){"use strict";function f(a){e.call(this,a)}var d=c(3),e=c(115);f.prototype={constructor:f,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,b){return a.mapArray(["x","y"],function(a,b){return this.dataToPoint([a,b])},b,this)},dataToPoint:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.toGlobalCoord(c.dataToCoord(a[0],b)),d.toGlobalCoord(d.dataToCoord(a[1],b))]},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.coordToData(c.toLocalCoord(a[0]),b),d.coordToData(d.toLocalCoord(a[1]),b)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},d.inherits(f,e),a.exports=f},function(a,b,c){"use strict";function e(a){return this._axes[a]}var d=c(3),f=function(a){this._axes={},this._dimList=[],this.name=a||""};f.prototype={constructor:f,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return d.map(this._dimList,e,this)},getAxesByScale:function(a){return a=a.toLowerCase(),d.filter(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){var e,f,g,c=this._dimList,d=a instanceof Array?[]:{};for(e=0;e<c.length;e++)f=c[e],g=this._axes[f],d[f]=g[b](a[f]);return d}},a.exports=f},function(a,b,c){var d=c(3),e=c(117),f=c(118),g=function(a,b,c,d,f){e.call(this,a,b,c),this.type=d||"value",this.position=f||"bottom"};g.prototype={constructor:g,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(){var a=this.getExtent();return a[0]=this.toGlobalCoord(a[0]),a[1]=this.toGlobalCoord(a[1]),a},getLabelInterval:function(){var a=this._labelInterval;return a||(a=this._labelInterval=f(this)),a},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},toLocalCoord:null,toGlobalCoord:null},d.inherits(g,e),a.exports=g},function(a,b,c){function g(a,b){var c=a[1]-a[0],d=b,e=c/d/2;a[0]+=e,a[1]-=e}var d=c(7),e=d.linearMap,f=c(3),h=[0,1],i=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1};i.prototype={constructor:i,contain:function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&d>=a},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){var a=this._extent.slice();return a},getPixelPrecision:function(a){return d.getPixelPrecision(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(a),this.onBand&&"ordinal"===d.type&&(c=c.slice(),g(c,d.count())),e(a,h,c,b)},coordToData:function(a,b){var f,c=this._extent,d=this.scale;return this.onBand&&"ordinal"===d.type&&(c=c.slice(),g(c,d.count())),f=e(a,c,h,b),this.scale.scale(f)},getTicksCoords:function(){var a,b,c;if(this.onBand){for(a=this.getBands(),b=[],c=0;c<a.length;c++)b.push(a[c][0]);return a[c-1]&&b.push(a[c-1][1]),b}return f.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){var a,b,c,d;if(this.onBand){for(a=this.getBands(),b=[],d=0;d<a.length;d++)c=a[d],b.push((c[0]+c[1])/2);return b}return f.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var g,a=this.getExtent(),b=[],c=this.scale.count(),d=a[0],e=a[1],f=e-d;for(g=0;c>g;g++)b.push([f*g/c+d,f*(g+1)/c+d]);return b},getBandWidth:function(){var d,a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+(this.onBand?1:0);return 0===c&&(c=1),d=Math.abs(a[1]-a[0]),Math.abs(d)/c}},a.exports=i},function(a,b,c){"use strict";var d=c(3),e=c(108);a.exports=function(a){var b=a.model,c=b.getModel("axisLabel"),f=c.get("interval");return"category"!==a.type||"auto"!==f?"auto"===f?0:f:e.getAxisLabelInterval(d.map(a.scale.getTicks(),a.dataToCoord,a),b.getFormattedLabels(),c.getModel("textStyle").getFont(),a.isHorizontal())}},function(a,b,c){"use strict";c(120);var d=c(19);a.exports=d.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(a,b,c){"use strict";function h(a,b){return b.type||(b.data?"category":"value")}var i,d=c(19),e=c(3),f=c(121),g=d.extend({type:"cartesian2dAxis",axis:null,init:function(){g.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){g.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){g.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},getMin:function(){var a=this.option;return null!=a.rangeStart?a.rangeStart:a.min},getMax:function(){var a=this.option;return null!=a.rangeEnd?a.rangeEnd:a.max},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});e.merge(g.prototype,c(123)),i={gridIndex:0},f("x",g,h,i),f("y",g,h,i),a.exports=g},function(a,b,c){var d=c(122),e=c(3),f=c(19),g=c(21),h=["value","category","time","log"];a.exports=function(a,b,c,i){e.each(h,function(f){b.extend({type:a+"Axis."+f,mergeDefaultAndTheme:function(b,d){var h=this.layoutMode,i=h?g.getLayoutParams(b):{},j=d.getTheme();e.merge(b,j.get(f+"Axis")),e.merge(b,this.getDefaultOption()),b.type=c(a,b),h&&g.mergeLayoutParam(b,i,h)},defaultOption:e.mergeAll([{},d[f+"Axis"],i],!0)})}),f.registerSubTypeDefaulter(a+"Axis",e.curry(c,a))}},function(a,b,c){var d=c(3),e={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,silent:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},f=d.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},e),g=d.defaults({boundaryGap:[0,0],splitNumber:5},e),h=d.defaults({scale:!0,min:"dataMin",max:"dataMax"},g),i=d.defaults({},g);i.scale=!0,a.exports={categoryAxis:f,valueAxis:g,timeAxis:h,logAxis:i}},function(a,b,c){function f(a){return d.isObject(a)&&null!=a.value?a.value:a}function g(){return"category"===this.get("type")&&d.map(this.get("data"),f)}function h(){return e.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var d=c(3),e=c(108);a.exports={getFormattedLabels:h,getCategories:g}},function(a,b,c){"use strict";c(120),c(125)},function(a,b,c){function l(a,b){function l(a){var d=c.getAxis(a);return d.toGlobalCoord(d.dataToCoord(0))}var m,n,o,c=a.coordinateSystem,d=b.axis,e={},f=d.position,g=d.onZero?"onZero":f,h=d.dim,i=c.getRect(),j=[i.x,i.x+i.width,i.y,i.y+i.height],k={x:{top:j[2],bottom:j[3]},y:{left:j[0],right:j[1]}};return k.x.onZero=Math.max(Math.min(l("y"),k.x.bottom),k.x.top),k.y.onZero=Math.max(Math.min(l("x"),k.y.right),k.y.left),e.position=["y"===h?k.y[g]:j[0],"x"===h?k.x[g]:j[3]],m={x:0,y:1},e.rotation=Math.PI/2*m[h],n={top:-1,bottom:1,left:-1,right:1},e.labelDirection=e.tickDirection=e.nameDirection=n[f],d.onZero&&(e.labelOffset=k[h][f]-k[h].onZero),b.getModel("axisTick").get("inside")&&(e.tickDirection=-e.tickDirection),b.getModel("axisLabel").get("inside")&&(e.labelDirection=-e.labelDirection),o=b.getModel("axisLabel").get("rotate"),e.labelRotation="top"===g?-o:o,e.labelInterval=d.getLabelInterval(),e.z2=1,e}var d=c(3),e=c(42),f=c(126),g=f.ifIgnoreOnTick,h=f.getInterval,i=["axisLine","axisLabel","axisTick","axisName"],j=["splitLine","splitArea"],k=c(1).extendComponentView({type:"axis",render:function(a,b){var c,e,g;this.group.removeAll(),a.get("show")&&(c=b.getComponent("grid",a.get("gridIndex")),e=l(c,a),g=new f(a,e),d.each(i,g.add,g),this.group.add(g.getGroup()),d.each(j,function(b){a.get(b+".show")&&this["_"+b](a,c,e.labelInterval)},this))},_splitLine:function(a,b,c){var n,o,p,q,r,s,t,u,v,w,x,f=a.axis,i=a.getModel("splitLine"),j=i.getModel("lineStyle"),k=j.get("width"),l=j.get("color"),m=h(i,c);for(l=d.isArray(l)?l:[l],n=b.coordinateSystem.getRect(),o=f.isHorizontal(),p=[],q=0,r=f.getTicksCoords(),s=[],t=[],u=0;u<r.length;u++)g(f,u,m)||(v=f.toGlobalCoord(r[u]),o?(s[0]=v,s[1]=n.y,t[0]=v,t[1]=n.y+n.height):(s[0]=n.x,s[1]=v,t[0]=n.x+n.width,t[1]=v),w=q++%l.length,p[w]=p[w]||[],p[w].push(new e.Line(e.subPixelOptimizeLine({shape:{x1:s[0],y1:s[1],x2:t[0],y2:t[1]},style:{lineWidth:k},silent:!0}))));for(x=j.getLineStyle(),u=0;u<p.length;u++)this.group.add(e.mergePath(p[u],{style:d.defaults({stroke:l[u%l.length]},x),silent:!0}))},_splitArea:function(a,b,c){var s,t,u,v,w,x,y,z,f=a.axis,i=a.getModel("splitArea"),j=i.getModel("areaStyle"),k=j.get("color"),l=b.coordinateSystem.getRect(),m=f.getTicksCoords(),n=f.toGlobalCoord(m[0]),o=f.toGlobalCoord(m[0]),p=[],q=0,r=h(i,c);for(k=d.isArray(k)?k:[k],s=1;s<m.length;s++)g(f,s,r)||(t=f.toGlobalCoord(m[s]),f.isHorizontal()?(u=n,v=l.y,w=t-u,x=l.height):(u=l.x,v=o,w=l.width,x=t-v),y=q++%k.length,p[y]=p[y]||[],p[y].push(new e.Rect({shape:{x:u,y:v,width:w,height:x},silent:!0})),n=u+w,o=v+x);for(z=j.getAreaStyle(),s=0;s<p.length;s++)this.group.add(e.mergePath(p[s],{style:d.defaults({fill:k[s%k.length]},z),silent:!0}))}});k.extend({type:"xAxis"}),k.extend({type:"yAxis"})},function(a,b,c){function k(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function n(a,b,c){var e,f,d=h(b-a.rotation);return i(d)?(f=c>0?"top":"bottom",e="center"):i(d-j)?(f=c>0?"bottom":"top",e="center"):(f="middle",e=d>0&&j>d?c>0?"right":"left":c>0?"left":"right"),{rotation:d,textAlign:e,verticalAlign:f}}function o(a,b,c){var e,f,d=h(-a.rotation),g=c[0]>c[1],k="start"===b&&!g||"start"!==b&&g;return i(d-j/2)?(f=k?"bottom":"top",e="center"):i(d-1.5*j)?(f=k?"top":"bottom",e="center"):(f="middle",e=1.5*j>d&&d>j/2?k?"left":"right":k?"right":"left"),{rotation:d,textAlign:e,verticalAlign:f}}var m,p,q,d=c(3),e=c(42),f=c(8),g=c(7),h=g.remRadian,i=g.isRadianAroundZero,j=Math.PI,l=function(a,b){this.opt=b,this.axisModel=a,d.defaults(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new e.Group({position:b.position.slice(),rotation:b.rotation})};l.prototype={constructor:l,hasBuilder:function(a){return!!m[a]},add:function(a){m[a].call(this)},getGroup:function(){return this.group}},m={axisLine:function(){var c,a=this.opt,b=this.axisModel;b.get("axisLine.show")&&(c=this.axisModel.axis.getExtent(),this.group.add(new e.Line({shape:{x1:c[0],y1:0,x2:c[1],y2:0},style:d.extend({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:a.strokeContainThreshold,silent:!!a.axisLineSilent,z2:1})))},axisTick:function(){var b,c,d,f,g,h,i,j,k,l,a=this.axisModel;if(a.get("axisTick.show")){for(b=a.axis,c=a.getModel("axisTick"),d=this.opt,f=c.getModel("lineStyle"),g=c.get("length"),h=q(c,d.labelInterval),i=b.getTicksCoords(),j=[],k=0;k<i.length;k++)p(b,k,h)||(l=i[k],j.push(new e.Line(e.subPixelOptimizeLine({shape:{x1:l,y1:0,x2:l,y2:d.tickDirection*g},style:{lineWidth:f.get("width")},silent:!0}))));this.group.add(e.mergePath(j,{style:f.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){function A(a,b){var c=a&&a.getBoundingRect().clone(),d=b&&b.getBoundingRect().clone();return c&&d?(c.applyTransform(a.getLocalTransform()),d.applyTransform(b.getLocalTransform()),c.intersect(d)):void 0}var b,c,d,g,h,i,l,m,o,q,r,s,t,u,v,w,x,y,z,B,C,D,E,a=this.axisModel;if(a.get("axisLabel.show")){for(b=this.opt,c=a.axis,d=a.getModel("axisLabel"),g=d.getModel("textStyle"),h=d.get("margin"),i=c.scale.getTicks(),l=a.getFormattedLabels(),m=b.labelRotation,null==m&&(m=d.get("rotate")||0),m=m*j/180,o=n(b,m,b.labelDirection),q=a.get("data"),r=[],s=a.get("silent"),t=0;t<i.length;t++)p(c,t,b.labelInterval)||(u=g,q&&q[t]&&q[t].textStyle&&(u=new f(q[t].textStyle,g,a.ecModel)),v=u.getTextColor(),w=c.dataToCoord(i[t]),x=[w,b.labelOffset+b.labelDirection*h],y=c.scale.getLabel(i[t]),z=new e.Text({style:{text:l[t],textAlign:u.get("align",!0)||o.textAlign,textVerticalAlign:u.get("baseline",!0)||o.verticalAlign,textFont:u.getFont(),fill:"function"==typeof v?v(y):v},position:x,rotation:o.rotation,silent:s,z2:10}),z.eventData=k(a),z.eventData.targetType="axisLabel",z.eventData.value=y,r.push(z),this.group.add(z));"category"!==c.type&&((a.getMin?a.getMin():a.get("min"))&&(B=r[0],C=r[1],A(B,C)&&(B.ignore=!0)),(a.getMax?a.getMax():a.get("max"))&&(D=r[r.length-1],E=r[r.length-2],A(E,D)&&(D.ignore=!0)))}},axisName:function(){var d,f,g,h,i,j,l,m,p,a=this.opt,b=this.axisModel,c=this.opt.axisName;null==c&&(c=b.get("name")),c&&(d=b.get("nameLocation"),f=a.nameDirection,g=b.getModel("nameTextStyle"),h=b.get("nameGap")||0,i=this.axisModel.axis.getExtent(),j=i[0]>i[1]?-1:1,l=["start"===d?i[0]-j*h:"end"===d?i[1]+j*h:(i[0]+i[1])/2,"middle"===d?a.labelOffset+f*h:0],m="middle"===d?n(a,a.rotation,f):o(a,d,i),p=new e.Text({style:{text:c,textFont:g.getFont(),fill:g.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:m.textAlign,textVerticalAlign:m.verticalAlign},position:l,rotation:m.rotation,silent:b.get("silent"),z2:1}),p.eventData=k(b),p.eventData.targetType="axisName",p.eventData.name=c,this.group.add(p))}},p=l.ifIgnoreOnTick=function(a,b,c){var d,e=a.scale;return"ordinal"===e.type&&("function"==typeof c?(d=e.getTicks()[b],!c(d,e.getLabel(d))):b%(c+1))},q=l.getInterval=function(a,b){var c=a.get("interval");return(null==c||"auto"==c)&&(c=b),c},a.exports=l},function(a,b,c){var e,f,d=c(3);c(107),c(128),c(129),e=c(131),f=c(1),f.registerLayout(d.curry(e,"bar")),f.registerVisualCoding("chart",function(a){a.eachSeriesByType("bar",function(a){var b=a.getData();b.setVisual("legendSymbol","roundRect")})}),c(106)},function(a,b,c){"use strict";var d=c(27),e=c(93);a.exports=d.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(a,b){return e(a.data,this,b)},getMarkerPosition:function(a){var c,d,e,f,g,b=this.coordinateSystem;return b?(c=b.dataToPoint(a),d=this.getData(),e=d.getLayout("offset"),f=d.getLayout("size"),g=b.getBaseAxis().isHorizontal()?0:1,c[g]+=e+f/2,c):[0/0,0/0]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})},function(a,b,c){"use strict";function f(a,b){var c=a.width>0?1:-1,d=a.height>0?1:-1;b=Math.min(b,Math.abs(a.width),Math.abs(a.height)),a.x+=c*b/2,a.y+=d*b/2,a.width-=c*b,a.height-=d*b}var d=c(3),e=c(42);d.extend(c(8).prototype,c(130)),a.exports=c(1).extendChartView({type:"bar",render:function(a,b,c){var d=a.get("coordinateSystem");return"cartesian2d"===d&&this._renderOnCartesian(a,b,c),this.group},_renderOnCartesian:function(a){function o(b,c){var j,k,o,p,g=h.getItemLayout(b),i=h.getItemModel(b).get(n)||0;return f(g,i),j=new e.Rect({shape:d.extend({},g)}),m&&(k=j.shape,o=l?"height":"width",p={},k[o]=0,p[o]=g[o],e[c?"updateProps":"initProps"](j,{shape:p},a)),j}var g=this.group,h=a.getData(),i=this._data,j=a.coordinateSystem,k=j.getBaseAxis(),l=k.isHorizontal(),m=a.get("animation"),n=["itemStyle","normal","barBorderWidth"];h.diff(i).add(function(a){if(h.hasValue(a)){var b=o(a);h.setItemGraphicEl(a,b),g.add(b)}}).update(function(b,c){var j,k,d=i.getItemGraphicEl(c);return h.hasValue(b)?(d||(d=o(b,!0)),j=h.getItemLayout(b),k=h.getItemModel(b).get(n)||0,f(j,k),e.updateProps(d,{shape:j},a),h.setItemGraphicEl(b,d),g.add(d),void 0):(g.remove(d),void 0)}).remove(function(b){var c=i.getItemGraphicEl(b);c&&(c.style.text="",e.updateProps(c,{shape:{width:0}},a,function(){g.remove(c)}))}).execute(),this._updateStyle(a,h,l),this._data=h},_updateStyle:function(a,b,c){function f(a,b,c,d,f){e.setText(a,b,c),a.text=d,"outside"===a.textPosition&&(a.textPosition=f)}b.eachItemGraphicEl(function(g,h){var o,p,q,r,i=b.getItemModel(h),j=b.getItemVisual(h,"color"),k=b.getItemVisual(h,"opacity"),l=b.getItemLayout(h),m=i.getModel("itemStyle.normal"),n=i.getModel("itemStyle.emphasis").getBarItemStyle();g.setShape("r",m.get("barBorderRadius")||0),g.setStyle(d.defaults({fill:j,opacity:k},m.getBarItemStyle())),o=c?l.height>0?"bottom":"top":l.width>0?"left":"right",p=i.getModel("label.normal"),q=i.getModel("label.emphasis"),r=g.style,p.get("show")?f(r,p,j,d.retrieve(a.getFormattedLabel(h,"normal"),a.getRawValue(h)),o):r.text="",q.get("show")?f(n,q,j,d.retrieve(a.getFormattedLabel(h,"emphasis"),a.getRawValue(h)),o):n.text="",e.setHoverStyle(g,n)})},remove:function(a){var c=this.group;a.get("animation")?this._data&&this._data.eachItemGraphicEl(function(b){b.style.text="",e.updateProps(b,{shape:{width:0}},a,function(){c.remove(b)})}):c.removeAll()}})},function(a,b,c){a.exports={getBarItemStyle:c(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(a,b,c){"use strict";function g(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function h(a){var e,c={};return d.each(a,function(a){var i,j,k,l,m,d=a.coordinateSystem,e=d.getBaseAxis(),f=c[e.index]||{remainedWidth:e.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:e,stacks:{}},h=f.stacks;c[e.index]=f,i=g(a),h[i]||f.autoWidthCount++,h[i]=h[i]||{width:0,maxWidth:0},j=a.get("barWidth"),k=a.get("barMaxWidth"),l=a.get("barGap"),m=a.get("barCategoryGap"),j&&!h[i].width&&(j=Math.min(f.remainedWidth,j),h[i].width=j,f.remainedWidth-=j),k&&(h[i].maxWidth=k),null!=l&&(f.gap=l),null!=m&&(f.categoryGap=m)}),e={},d.each(c,function(a,b){var c,g,h,i,j,k,l,m,n,o,p;e[b]={},c=a.stacks,g=a.axis,h=g.getBandWidth(),i=f(a.categoryGap,h),j=f(a.gap,1),k=a.remainedWidth,l=a.autoWidthCount,m=(k-i)/(l+(l-1)*j),m=Math.max(m,0),d.each(c,function(a){var c=a.maxWidth;!a.width&&c&&m>c&&(c=Math.min(c,k),k-=c,a.width=c,l--)}),m=(k-i)/(l+(l-1)*j),m=Math.max(m,0),n=0,d.each(c,function(a){a.width||(a.width=m),o=a,n+=a.width*(1+j)}),o&&(n-=o.width*j),p=-n/2,d.each(c,function(a,c){e[b][c]=e[b][c]||{offset:p,width:a.width},p+=a.width*(1+j)})}),e}function i(a,b){var e=h(d.filter(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),f={};b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem,d=c.getBaseAxis(),h=g(a),i=e[d.index][h],j=i.offset,k=i.width,l=c.getOtherAxis(d),m=a.get("barMinHeight")||0,n=d.onZero?l.toGlobalCoord(l.dataToCoord(0)):l.getGlobalExtent()[0],o=c.dataToPoints(b,!0);f[h]=f[h]||[],b.setLayout({offset:j,size:k}),b.each(l.dim,function(a,c){var d,e,g,i,p,q,r;
isNaN(a)||(f[h][c]||(f[h][c]={p:n,n:n}),d=a>=0?"p":"n",e=o[c],g=f[h][c][d],l.isHorizontal()?(i=g,p=e[1]+j,q=e[0]-g,r=k,Math.abs(q)<m&&(q=(0>q?-1:1)*m),f[h][c][d]+=q):(i=e[0]+j,p=g,q=k,r=e[1]-g,Math.abs(r)<m&&(r=(0>=r?-1:1)*m),f[h][c][d]+=r),b.setItemLayout(c,{x:i,y:p,width:q,height:r}))},!0)},this)}var d=c(3),e=c(7),f=e.parsePercent;a.exports=i},function(a,b,c){var d=c(3),e=c(1);c(133),c(135),c(136)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisualCoding("chart",d.curry(c(137),"pie")),e.registerLayout(d.curry(c(138),"pie")),e.registerProcessor("filter",d.curry(c(140),"pie"))},function(a,b,c){"use strict";var d=c(94),e=c(3),f=c(5),g=c(96),h=c(134),i=c(1).extendSeriesModel({type:"series.pie",init:function(a){i.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(),this._defaultLabelLine(a)},mergeOption:function(a){i.superCall(this,"mergeOption",a),this.updateSelectedMap()},getInitialData:function(a){var c=g(["value"],a.data),e=new d(c,this);return e.initData(a.data),e},getDataParams:function(a){var b=this._data,c=i.superCall(this,"getDataParams",a),d=b.getSum("value");return c.percent=d?+(100*(b.get("value",a)/d)).toFixed(2):0,c.$vars.push("percent"),c},_defaultLabelLine:function(a){var b,c;f.defaultEmphasis(a.labelLine,["show"]),b=a.labelLine.normal,c=a.labelLine.emphasis,b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});e.mixin(i,h),a.exports=i},function(a,b,c){var d=c(3);a.exports={updateSelectedMap:function(){var a=this.option;this._dataOptMap=d.reduce(a.data,function(a,b){return a[b.name]=b,a},{})},select:function(a){var b=this._dataOptMap,c=b[a],e=this.get("selectedMode");"single"===e&&d.each(b,function(a){a.selected=!1}),c&&(c.selected=!0)},unSelect:function(a){var b=this._dataOptMap[a];b&&(b.selected=!1)},toggleSelected:function(a){var b=this._dataOptMap[a];return null!=b?(this[b.selected?"unSelect":"select"](a),b.selected):void 0},isSelected:function(a){var b=this._dataOptMap[a];return b&&b.selected}}},function(a,b,c){function f(a,b,c,d){var e=b.getData(),f=this.dataIndex,h=e.getName(f),i=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:h,seriesId:b.id}),e.each(function(a){g(e.getItemGraphicEl(a),e.getItemLayout(a),b.isSelected(e.getName(a)),i,c)})}function g(a,b,c,d,e){var f=(b.startAngle+b.endAngle)/2,g=Math.cos(f),h=Math.sin(f),i=c?d:0,j=[g*i,h*i];e?a.animate().when(200,{position:j}).start("bounceOut"):a.attr("position",j)}function h(a,b){function g(){e.ignore=e.hoverIgnore,f.ignore=f.hoverIgnore}function h(){e.ignore=e.normalIgnore,f.ignore=f.normalIgnore}var c,e,f;d.Group.call(this),c=new d.Sector({z2:2}),e=new d.Polyline,f=new d.Text,this.add(c),this.add(e),this.add(f),this.updateData(a,b,!0),this.on("emphasis",g).on("normal",h).on("mouseover",g).on("mouseout",h)}function j(a,b,c,d,f){var g=d.getModel("textStyle"),h="inside"===f||"inner"===f;return{fill:g.getTextColor()||(h?"#fff":a.getItemVisual(b,"color")),textFont:g.getFont(),text:e.retrieve(a.hostModel.getFormattedLabel(b,c),a.getName(b))}}var k,d=c(42),e=c(3),i=h.prototype;i.updateData=function(a,b,c){function n(){f.stopAnimation(!0),f.animateTo({shape:{r:j.r+10}},300,"elasticOut")}function o(){f.stopAnimation(!0),f.animateTo({shape:{r:j.r}},300,"elasticOut")}var l,m,f=this.childAt(0),h=a.hostModel,i=a.getItemModel(b),j=a.getItemLayout(b),k=e.extend({},j);k.label=null,c?(f.setShape(k),f.shape.endAngle=j.startAngle,d.updateProps(f,{shape:{endAngle:j.endAngle}},h)):d.updateProps(f,{shape:k},h),l=i.getModel("itemStyle"),m=a.getItemVisual(b,"color"),f.setStyle(e.defaults({fill:m},l.getModel("normal").getItemStyle())),f.hoverStyle=l.getModel("emphasis").getItemStyle(),g(this,a.getItemLayout(b),i.get("selected"),h.get("selectedOffset"),h.get("animation")),f.off("mouseover").off("mouseout").off("emphasis").off("normal"),i.get("hoverAnimation")&&f.on("mouseover",n).on("mouseout",o).on("emphasis",n).on("normal",o),this._updateLabel(a,b),d.setHoverStyle(this)},i._updateLabel=function(a,b){var l,m,n,o,p,q,c=this.childAt(1),e=this.childAt(2),f=a.hostModel,g=a.getItemModel(b),h=a.getItemLayout(b),i=h.label,k=a.getItemVisual(b,"color");d.updateProps(c,{shape:{points:i.linePoints||[[i.x,i.y],[i.x,i.y],[i.x,i.y]]}},f),d.updateProps(e,{style:{x:i.x,y:i.y}},f),e.attr({style:{textVerticalAlign:i.verticalAlign,textAlign:i.textAlign,textFont:i.font},rotation:i.rotation,origin:[i.x,i.y],z2:10}),l=g.getModel("label.normal"),m=g.getModel("label.emphasis"),n=g.getModel("labelLine.normal"),o=g.getModel("labelLine.emphasis"),p=l.get("position")||m.get("position"),e.setStyle(j(a,b,"normal",l,p)),e.ignore=e.normalIgnore=!l.get("show"),e.hoverIgnore=!m.get("show"),c.ignore=c.normalIgnore=!n.get("show"),c.hoverIgnore=!o.get("show"),c.setStyle({stroke:k}),c.setStyle(n.getModel("lineStyle").getLineStyle()),e.hoverStyle=j(a,b,"emphasis",m,p),c.hoverStyle=o.getModel("lineStyle").getLineStyle(),q=n.get("smooth"),q&&q===!0&&(q=.4),c.setShape({smooth:q})},e.inherits(h,d.Group),k=c(41).extend({type:"pie",init:function(){var a=new d.Group;this._sectorGroup=a},render:function(a,b,c,d){var g,i,j,k,l,m,n,o,p,q;d&&d.from===this.uid||(g=a.getData(),i=this._data,j=this.group,k=b.get("animation"),l=!i,m=e.curry(f,this.uid,a,k,c),n=a.get("selectedMode"),g.diff(i).add(function(a){var b=new h(g,a);l&&b.eachChild(function(a){a.stopAnimation(!0)}),n&&b.on("click",m),g.setItemGraphicEl(a,b),j.add(b)}).update(function(a,b){var c=i.getItemGraphicEl(b);c.updateData(g,a),c.off("click"),n&&c.on("click",m),j.add(c),g.setItemGraphicEl(a,c)}).remove(function(a){var b=i.getItemGraphicEl(a);j.remove(b)}).execute(),k&&l&&g.count()>0&&(o=g.getItemLayout(0),p=Math.max(c.getWidth(),c.getHeight())/2,q=e.bind(j.removeClipPath,j),j.setClipPath(this._createClipPath(o.cx,o.cy,p,o.startAngle,o.clockwise,q,a))),this._data=g)},_createClipPath:function(a,b,c,e,f,g,h){var i=new d.Sector({shape:{cx:a,cy:b,r0:0,r:c,startAngle:e,endAngle:e,clockwise:f}});return d.initProps(i,{shape:{endAngle:e+2*(f?1:-1)*Math.PI}},h,g),i}}),a.exports=k},function(a,b,c){var d=c(1),e=c(3);a.exports=function(a,b){e.each(b,function(b){b.update="updateView",d.registerAction(b,function(c,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:c},function(a){a[b.method]&&a[b.method](c.name);var d=a.getData();d.each(function(b){var c=d.getName(b);e[c]=a.isSelected(c)||!1})}),{name:c.name,selected:e}})})}},function(a){a.exports=function(a,b){var c=b.get("color"),d=0;b.eachRawSeriesByType(a,function(a){var g,e=a.get("color",!0),f=a.getRawData();b.isSeriesFiltered(a)||(g=a.getData(),g.each(function(a){var j,k,b=g.getItemModel(a),h=g.getRawIndex(a),i=g.getItemVisual(a,"color",!0);i?f.setItemVisual(h,"color",i):(j=e?e[h%e.length]:c[(h+d)%c.length],k=b.get("itemStyle.normal.color")||j,f.setItemVisual(h,"color",k),g.setItemVisual(a,"color",k))})),d+=f.count()})}},function(a,b,c){var d=c(7),e=d.parsePercent,f=c(139),g=c(3),h=2*Math.PI,i=Math.PI/180;a.exports=function(a,b,c){b.eachSeriesByType(a,function(a){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,b=a.get("center"),j=a.get("radius");g.isArray(j)||(j=[0,j]),g.isArray(b)||(b=[b,b]),k=c.getWidth(),l=c.getHeight(),m=Math.min(k,l),n=e(b[0],k),o=e(b[1],l),p=e(j[0],m/2),q=e(j[1],m/2),r=a.getData(),s=-a.get("startAngle")*i,t=a.get("minAngle")*i,u=r.getSum("value"),v=2*(Math.PI/(u||r.count())),w=a.get("clockwise"),x=a.get("roseType"),y=r.getDataExtent("value"),y[0]=0,z=h,A=0,B=s,C=w?1:-1,r.each("value",function(a,b){var c,e,f;x?(c=this._rawData[b].radius,c||(c=d.linearMap(a,y,[p,q]))):c=q,e="area"!==x?0===u?v:a*v:h/(r.count()||1),t>e?(e=t,z-=t):A+=a,f=B+C*e,r.setItemLayout(b,{angle:e,startAngle:B,endAngle:f,clockwise:w,cx:n,cy:o,r0:p,r:c}),B=f},!0),h>z&&(.001>=z?(D=h/r.count(),r.each(function(a){var b=r.getItemLayout(a);b.startAngle=s+C*a*D,b.endAngle=s+C*(a+1)*D})):(v=z/A,B=s,r.each("value",function(a,b){var c=r.getItemLayout(b),d=c.angle===t?t:a*v;c.startAngle=B,c.endAngle=B+C*d,B+=d}))),f(a,q,k,l)})}},function(a,b,c){"use strict";function e(a,b,c,d,e,f,g){function h(b,c,d){for(var f=b;c>f;f++)if(a[f].y+=d,f>b&&c>f+1&&a[f+1].y>a[f].y+a[f].height)return i(f,d/2),void 0;i(c-1,d/2)}function i(b,c){for(var d=b;d>=0&&(a[d].y-=c,!(d>0&&a[d].y>a[d-1].y+a[d-1].height));d--);}function j(a,b,c,d,e,f){var h,i,j,k,l,m,g=f>0?b?Number.MAX_VALUE:0:b?Number.MAX_VALUE:0;for(h=0,i=a.length;i>h;h++)"center"!==a[h].position&&(j=Math.abs(a[h].y-d),k=a[h].len,l=a[h].len2,m=e+k>j?Math.sqrt((e+k+l)*(e+k+l)-j*j):Math.abs(a[h].x-c),b&&m>=g&&(m=g-10),!b&&g>=m&&(m=g+10),a[h].x=c+m*f,g=m)}var k,l,m,n,o,p;for(a.sort(function(a,b){return a.y-b.y}),k=0,m=a.length,n=[],o=[],p=0;m>p;p++)l=a[p].y-k,0>l&&h(p,m,-l,e),k=a[p].y+a[p].height;for(0>g-k&&i(m-1,k-g),p=0;m>p;p++)a[p].y>=c?o.push(a[p]):n.push(a[p]);j(n,!1,b,c,d,e),j(o,!0,b,c,d,e)}function f(a,b,c,d,f,g){var j,k,l,h=[],i=[];for(j=0;j<a.length;j++)a[j].x<b?h.push(a[j]):i.push(a[j]);for(e(i,b,c,d,1,f,g),e(h,b,c,d,-1,f,g),j=0;j<a.length;j++)k=a[j].linePoints,k&&(l=k[1][0]-k[2][0],k[2][0]=a[j].x<b?a[j].x+3:a[j].x-3,k[1][1]=k[2][1]=a[j].y,k[1][0]=k[2][0]+l)}var d=c(14);a.exports=function(a,b,c,e){var i,j,g=a.getData(),h=[],k=!1;g.each(function(c){var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,e=g.getItemLayout(c),f=g.getItemModel(c),l=f.getModel("label.normal"),m=l.get("position")||f.get("label.emphasis.position"),n=f.getModel("labelLine.normal"),o=n.get("length"),p=n.get("length2"),q=(e.startAngle+e.endAngle)/2,r=Math.cos(q),s=Math.sin(q);i=e.cx,j=e.cy,x="inside"===m||"inner"===m,"center"===m?(t=e.cx,u=e.cy,w="center"):(y=(x?(e.r+e.r0)/2*r:e.r*r)+i,z=(x?(e.r+e.r0)/2*s:e.r*s)+j,t=y+3*r,u=z+3*s,x||(A=y+r*(o+b-e.r),B=z+s*(o+b-e.r),C=A+(0>r?-1:1)*p,D=B,t=C+(0>r?-5:5),u=D,v=[[y,z],[A,B],[C,D]]),w=x?"center":r>0?"left":"right"),E=l.getModel("textStyle").getFont(),F=l.get("rotate")?0>r?-q+Math.PI:-q:0,G=a.getFormattedLabel(c,"normal")||g.getName(c),H=d.getBoundingRect(G,E,w,"top"),k=!!F,e.label={x:t,y:u,position:m,height:H.height,len:o,len2:p,linePoints:v,textAlign:w,verticalAlign:"middle",font:E,rotation:F},x||h.push(e.label)}),!k&&a.get("avoidLabelOverlap")&&f(h,i,j,b,c,e)}},function(a){a.exports=function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(a){var b=a.getData();b.filterSelf(function(a){var e,d=b.getName(a);for(e=0;e<c.length;e++)if(!c[e].isSelected(d))return!1;return!0},this)},this)}},function(a,b,c){var d=c(3),e=c(1);c(142),c(143),e.registerVisualCoding("chart",d.curry(c(103),"scatter","circle",null)),e.registerLayout(d.curry(c(104),"scatter")),c(106)},function(a,b,c){"use strict";var d=c(93),e=c(27);a.exports=e.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(a,b){var c=d(a.data,this,b);return c},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(a,b,c){var d=c(98),e=c(144);c(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new d,this._largeSymbolDraw=new e},render:function(a){var d=a.getData(),e=this._largeSymbolDraw,f=this._normalSymbolDraw,g=this.group,h=a.get("large")&&d.count()>a.get("largeThreshold")?e:f;this._symbolDraw=h,h.updateData(d),g.add(h.group),g.remove(h===e?f.group:e.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)}})},function(a,b,c){function h(){this.group=new d.Group,this._symbolEl=new g({silent:!0})}var d=c(42),e=c(100),f=c(3),g=d.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,b){var g,h,i,c=b.points,d=b.sizes,e=this.symbolProxy,f=e.shape;for(g=0;g<c.length;g++)h=c[g],i=d[g],i[0]<4?a.rect(h[0]-i[0]/2,h[1]-i[1]/2,i[0],i[1]):(f.x=h[0]-i[0]/2,f.y=h[1]-i[1]/2,f.width=i[0],f.height=i[1],e.buildPath(a,f))}}),i=h.prototype;i.updateData=function(a){var b,c,d;this.group.removeAll(),b=this._symbolEl,c=a.hostModel,b.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){var c=a.getItemVisual(b,"symbolSize");return f.isArray(c)||(c=[c,c]),c})}),b.symbolProxy=e.createSymbol(a.getVisual("symbol"),0,0,0,0),b.setColor=b.symbolProxy.setColor,b.setStyle(c.getModel("itemStyle.normal").getItemStyle(["color"])),d=a.getVisual("color"),d&&b.setColor(d),this.group.add(this._symbolEl)},i.updateLayout=function(a){var b=a.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})},i.remove=function(){this.group.removeAll()},a.exports=h},function(a,b,c){var d=c(3),e=c(1);c(146),c(151),c(152),e.registerVisualCoding("chart",d.curry(c(137),"radar")),e.registerVisualCoding("chart",d.curry(c(103),"radar","circle",null)),e.registerLayout(c(153)),e.registerProcessor("filter",d.curry(c(140),"radar")),e.registerPreprocessor(c(154))},function(a,b,c){c(147),c(149),c(150)},function(a,b,c){function i(a,b,c){this._model=a,this.dimensions=[],this._indicatorAxes=d.map(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new e(c,new f);return d.name=a.get("name"),d.model=a,a.axis=d,this.dimensions.push(c),d},this),this.resize(a,c),this.cx,this.cy,this.r,this.startAngle}var d=c(3),e=c(148),f=c(111),g=c(7),h=c(108);i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(a,b){var c=this._indicatorAxes[b];return this.coordToPoint(c.dataToCoord(a),b)},i.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b],d=c.angle,e=this.cx+a*Math.cos(d),f=this.cy-a*Math.sin(d);return[e,f]},i.prototype.pointToData=function(a){var e,f,g,h,i,j,k,b=a[0]-this.cx,c=a[1]-this.cy,d=Math.sqrt(b*b+c*c);for(b/=d,c/=d,e=Math.atan2(-c,b),f=1/0,h=-1,i=0;i<this._indicatorAxes.length;i++)j=this._indicatorAxes[i],k=Math.abs(e-j.angle),f>k&&(g=j,h=i,f=k);return[h,+(g&&g.coodToData(d))]},i.prototype.resize=function(a,b){var c=a.get("center"),e=b.getWidth(),f=b.getHeight(),h=Math.min(e,f)/2;this.cx=g.parsePercent(c[0],e),this.cy=g.parsePercent(c[1],f),this.startAngle=a.get("startAngle")*Math.PI/180,this.r=g.parsePercent(a.get("radius"),h),d.each(this._indicatorAxes,function(a,b){a.setExtent(0,this.r);var c=this.startAngle+2*b*Math.PI/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),a.angle=c},this)},i.prototype.update=function(a){function i(a){var b=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/b;return 2===c?c=5:c*=2,c*b}var f,c=this._indicatorAxes,e=this._model;d.each(c,function(a){a.scale.setExtent(1/0,-1/0)}),a.eachSeriesByType("radar",function(b){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===e){var g=b.getData();d.each(c,function(a){a.scale.unionExtent(g.getDataExtent(a.dim))})}},this),f=e.get("splitNumber"),d.each(c,function(a){var d,e,j,k,l,m,n,o,p,q,c=h.getScaleExtent(a,a.model);if(h.niceScaleExtent(a,a.model),d=a.model,e=a.scale,j=d.get("min"),k=d.get("max"),l=e.getInterval(),null!=j&&null!=k)e.setInterval((k-j)/f);else if(null!=j){do m=j+l*f,e.setExtent(+j,m),e.setInterval(l),l=i(l);while(m<c[1]&&isFinite(m)&&isFinite(c[1]))}else if(null!=k){do n=k-l*f,e.setExtent(n,+k),e.setInterval(l),l=i(l);while(n>c[0]&&isFinite(n)&&isFinite(c[0]))}else o=e.getTicks().length-1,o>f&&(l=i(l)),p=Math.round((c[0]+c[1])/2/l)*l,q=Math.round(f/2),e.setExtent(g.round(p-q*l),g.round(p+(f-q)*l)),e.setInterval(l)})},i.dimensions=[],i.create=function(a,b){var c=[];return a.eachComponent("radar",function(d){var e=new i(d,a,b);c.push(e),d.coordinateSystem=e}),a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("radarIndex")||0])}),c},c(25).register("radar",i),a.exports=i},function(a,b,c){function f(a,b,c){e.call(this,a,b,c),this.type="value",this.angle=0,this.name="",this.model}var d=c(3),e=c(117);d.inherits(f,e),a.exports=f},function(a,b,c){function i(a,b){return g.defaults({show:b},a)}var d=c(122),e=d.valueAxis,f=c(8),g=c(3),h=c(123),j=c(1).extendComponentModel({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),i=this.get("axisLabel"),j=this.get("name.textStyle"),k=this.get("name.show"),l=this.get("name.formatter"),m=this.get("nameGap"),n=g.map(this.get("indicator")||[],function(n){return null!=n.max&&n.max>0?n.min=0:null!=n.min&&n.min<0&&(n.max=0),n=g.merge(g.clone(n),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisLabel:i,name:n.text,nameLocation:"end",nameGap:m,nameTextStyle:j},!1),k||(n.name=""),"string"==typeof l?n.name=l.replace("{value}",n.name):"function"==typeof l&&(n.name=l(n.name,n)),g.extend(new f(n,null,this.ecModel),h)},this);this.getIndicatorModels=function(){return n}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:g.merge({lineStyle:{color:"#bbb"}},e.axisLine),axisLabel:i(e.axisLabel,!1),axisTick:i(e.axisTick,!1),splitLine:i(e.splitLine,!0),splitArea:i(e.splitArea,!0),indicator:[]}});a.exports=j},function(a,b,c){var d=c(126),e=c(3),f=c(42),g=["axisLine","axisLabel","axisTick","axisName"];a.exports=c(1).extendComponentView({type:"radar",render:function(a){var d=this.group;d.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},_buildAxes:function(a){var b=a.coordinateSystem,c=b.getIndicatorAxes(),f=e.map(c,function(a){var c=new d(a.model,{position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return c});e.each(f,function(a){e.each(g,a.add,a),this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function r(a,b,c){var d=c%b.length;return a[d]=a[d]||[],d}var g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,A,B,C,b=a.coordinateSystem,c=a.get("splitNumber"),d=b.getIndicatorAxes();if(d.length){if(g=a.get("shape"),h=a.getModel("splitLine"),i=a.getModel("splitArea"),j=h.getModel("lineStyle"),k=i.getModel("areaStyle"),l=h.get("show"),m=i.get("show"),n=j.get("color"),o=k.get("color"),n=e.isArray(n)?n:[n],o=e.isArray(o)?o:[o],p=[],q=[],"circle"===g)for(s=d[0].getTicksCoords(),t=b.cx,u=b.cy,v=0;v<s.length;v++)l&&(w=r(p,n,v),p[w].push(new f.Circle({shape:{cx:t,cy:u,r:s[v]}}))),m&&v<s.length-1&&(w=r(q,o,v),q[w].push(new f.Ring({shape:{cx:t,cy:u,r0:s[v],r:s[v+1]}})));else for(x=e.map(d,function(a,c){var d=a.getTicksCoords();return e.map(d,function(a){return b.coordToPoint(a,c)})}),y=[],v=0;c>=v;v++){for(z=[],A=0;A<d.length;A++)z.push(x[A][v]);z.push(z[0].slice()),l&&(w=r(p,n,v),p[w].push(new f.Polyline({shape:{points:z}}))),m&&y&&(w=r(q,o,v-1),q[w].push(new f.Polygon({shape:{points:z.concat(y)}}))),y=z.slice().reverse()}B=j.getLineStyle(),C=k.getAreaStyle(),e.each(q,function(a,b){this.group.add(f.mergePath(a,{style:e.defaults({stroke:"none",fill:o[b%o.length]},C),silent:!0}))},this),e.each(p,function(a,b){this.group.add(f.mergePath(a,{style:e.defaults({fill:"none",stroke:n[b%n.length]},B),silent:!0}))},this)}}})},function(a,b,c){"use strict";var d=c(27),e=c(94),f=c(96),g=c(3),h=c(6),i=d.extend({type:"series.radar",dependencies:["radar"],init:function(){i.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(a){var c=a.data||[],d=f([],c,[],"indicator_"),g=new e(d,this);return g.initData(c),g},formatTooltip:function(a){var b=this.getRawValue(a),c=this.coordinateSystem,d=c.getIndicatorAxes();return this._data.getName(a)+"<br />"+g.map(d,function(a,c){return a.name+" : "+b[c]}).join("<br />")},getFormattedLabel:function(a,b,c,d){var e,f,g;return b=b||"normal",e=this.getData(),f=e.getItemModel(a),g=this.getDataParams(a),null==c&&(c=f.get(["label",b,"formatter"])),g.value=g.value[d||0],"function"==typeof c?(g.status=b,c(g)):"string"==typeof c?h.formatTpl(c,g):void 0},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});a.exports=i},function(a,b,c){function g(a){return e.isArray(a)||(a=[+a,+a]),a}var d=c(42),e=c(3),f=c(100);a.exports=c(1).extendChartView({type:"radar",render:function(a){function l(a,b){var e,c=a.getItemVisual(b,"symbol")||"circle",d=a.getItemVisual(b,"color");if("none"!==c)return e=f.createSymbol(c,-.5,-.5,1,1,d),e.attr({style:{strokeNoScale:!0},z2:100,scale:g(a.getItemVisual(b,"symbolSize"))}),e}function m(b,c,e,f,g,h){var i,j;for(e.removeAll(),i=0;i<c.length-1;i++)j=l(f,g),j&&(j.__dimIdx=i,b[i]?(j.attr("position",b[i]),d[h?"initProps":"updateProps"](j,{position:c[i]},a)):j.attr("position",c[i]),e.add(j))}function n(a){return e.map(a,function(){return[h.cx,h.cy]})}var h=a.coordinateSystem,i=this.group,j=a.getData(),k=this._data;j.diff(k).add(function(b){var e,f,g,h,i,c=j.getItemLayout(b);c&&(e=new d.Polygon,f=new d.Polyline,g={shape:{points:c}},e.shape.points=n(c),f.shape.points=n(c),d.initProps(e,g,a),d.initProps(f,g,a),h=new d.Group,i=new d.Group,h.add(f),h.add(e),h.add(i),m(f.shape.points,c,i,j,b,!0),j.setItemGraphicEl(b,h))}).update(function(b,c){var e=k.getItemGraphicEl(c),f=e.childAt(0),g=e.childAt(1),h=e.childAt(2),i={shape:{points:j.getItemLayout(b)}};i.shape.points&&(m(f.shape.points,i.shape.points,h,j,b,!1),d.updateProps(f,i,a),d.updateProps(g,i,a),j.setItemGraphicEl(b,e))}).remove(function(a){i.remove(k.getItemGraphicEl(a))}).execute(),j.eachItemGraphicEl(function(b,c){function u(){h.attr("ignore",p)}function v(){h.attr("ignore",o)}var m,n,o,p,q,r,s,t,f=j.getItemModel(c),g=b.childAt(0),h=b.childAt(1),k=b.childAt(2),l=j.getItemVisual(c,"color");i.add(b),g.setStyle(e.extend(f.getModel("lineStyle.normal").getLineStyle(),{stroke:l})),g.hoverStyle=f.getModel("lineStyle.emphasis").getLineStyle(),m=f.getModel("areaStyle.normal"),n=f.getModel("areaStyle.emphasis"),o=m.isEmpty()&&m.parentModel.isEmpty(),p=n.isEmpty()&&n.parentModel.isEmpty(),p=p&&o,h.ignore=o,h.setStyle(e.defaults(m.getAreaStyle(),{fill:l,opacity:.7})),h.hoverStyle=n.getAreaStyle(),q=f.getModel("itemStyle.normal").getItemStyle(["color"]),r=f.getModel("itemStyle.emphasis").getItemStyle(),s=f.getModel("label.normal"),t=f.getModel("label.emphasis"),k.eachChild(function(b){b.setStyle(q),b.hoverStyle=e.clone(r);var f=j.get(j.dimensions[b.__dimIdx],c);d.setText(b.style,s,l),b.setStyle({text:s.get("show")?e.retrieve(a.getFormattedLabel(c,"normal",null,b.__dimIdx),f):""}),d.setText(b.hoverStyle,t,l),b.hoverStyle.text=t.get("show")?e.retrieve(a.getFormattedLabel(c,"emphasis",null,b.__dimIdx),f):""}),b.off("mouseover").off("mouseout").off("normal").off("emphasis"),b.on("emphasis",u).on("mouseover",u).on("normal",v).on("mouseout",v),d.setHoverStyle(b)}),this._data=j},remove:function(){this.group.removeAll(),this._data=null}})},function(a){a.exports=function(a){a.eachSeriesByType("radar",function(a){function e(a,b){c[b]=c[b]||[],c[b][f]=d.dataToPoint(a,f)}var f,g,b=a.getData(),c=[],d=a.coordinateSystem;if(d){for(f=0;f<d.getIndicatorAxes().length;f++)g=b.dimensions[f],b.each(g,e);b.each(function(a){c[a][0]&&c[a].push(c[a][0].slice()),b.setItemLayout(a,c[a])})}})}},function(a,b,c){var d=c(3);a.exports=function(a){var c,b=a.polar;b&&(d.isArray(b)||(b=[b]),c=[],d.each(b,function(b){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],d.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)}),a.polar=c),d.each(a.series,function(a){"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}},function(a,b,c){var d=c(1);c(156),c(157),c(161),c(163),d.registerLayout(c(173)),d.registerVisualCoding("chart",c(174)),d.registerProcessor("statistic",c(175)),d.registerPreprocessor(c(176)),c(136)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(a,b,c){function m(a,b){var e,f,c={},d=b.features;for(e=0;e<a.length;e++)c[a[e].name]=a[e];for(e=0;e<d.length;e++)f=d[e].properties.name,c[f]||a.push({value:0/0,name:f});return a}var d=c(94),e=c(1),f=c(27),g=c(3),h=c(96),i=c(6),j=i.encodeHTML,k=i.addCommas,l=c(134),n=f.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(a){a=this._fillOption(a),this.option=a,n.superApply(this,"init",arguments),this.updateSelectedMap()},getInitialData:function(a){var b=h(["value"],a.data||[]),c=new d(b,this);return c.initData(a.data),c},mergeOption:function(a){a=this._fillOption(a),n.superCall(this,"mergeOption",a),this.updateSelectedMap()},_fillOption:function(a){var b,c;return a=g.extend({},a),b=e.getMap(a.map),c=b&&b.geoJson,c&&a.data&&(a.data=m(a.data,c)),a},setRoamZoom:function(a){var b=this.option.roamDetail;b&&(b.zoom=a)},setRoamPan:function(a,b){var c=this.option.roamDetail;c&&(c.x=a,c.y=b)},getRawValue:function(a){return this._data.get("value",a)},formatTooltip:function(a){var g,b=this._data,c=k(this.getRawValue(a)),d=b.getName(a),e=this.seriesGroup,f=[];for(g=0;g<e.length;g++)isNaN(e[g].getRawValue(a))||f.push(j(e[g].name));return f.join(", ")+"<br />"+d+" : "+c},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}}});g.mixin(n,l),a.exports=n},function(a,b,c){var d=c(42),e=c(158);c(1).extendChartView({type:"map",render:function(a,b,c,d){var f,g;d&&"mapToggleSelect"===d.type&&d.from===this.uid||(f=this.group,f.removeAll(),d&&"geoRoam"===d.type&&"series"===d.component&&d.name===a.name?(g=this._mapDraw,g&&f.add(g.group)):a.needsDrawMap?(g=this._mapDraw||new e(c,!0),f.add(g.group),g.draw(a,b,c,this),this._mapDraw=g):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c))},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(a){var e=a.getData(),f=this.group;e.each("value",function(a,b){var c,g,h,i,j,k,l,m,n,o,p,q,r;isNaN(a)||(c=e.getItemLayout(b),c&&c.point&&(g=c.point,h=c.offset,i=new d.Circle({style:{fill:e.getVisual("color")},shape:{cx:g[0]+9*h,cy:g[1],r:3},silent:!0,z2:10}),h||(j=e.getName(b),k=e.getItemModel(b),l=k.getModel("label.normal"),m=k.getModel("label.emphasis"),n=l.getModel("textStyle"),o=m.getModel("textStyle"),p=e.getItemGraphicEl(b),i.setStyle({textPosition:"bottom"}),q=function(){i.setStyle({text:m.get("show")?j:"",textFill:o.getTextColor(),textFont:o.getFont()})},r=function(){i.setStyle({text:l.get("show")?j:"",textFill:n.getTextColor(),textFont:n.getFont()})},p.on("mouseover",q).on("mouseout",r).on("emphasis",q).on("normal",r),r()),f.add(i)))})}})},function(a,b,c){function g(a){var c=a.getItemStyle(),d=a.get("areaColor");return d&&(c.fill=d),c}function h(a,b,c,d,e){c.off("click"),a.get("selectedMode")&&c.on("click",function(c){var g,f=c.target.dataIndex;null!=f&&(g=b.getName(f),d.dispatchAction({type:"mapToggleSelect",seriesIndex:a.seriesIndex,name:g,from:e.uid}),i(a,b,d))})}function i(a,b){b.eachItemGraphicEl(function(c,d){var e=b.getName(d);c.trigger(a.isSelected(e)?"emphasis":"normal")})}function j(a,b){var c=new e.Group;this._controller=new d(a.getZr(),b?c:null,null),this.group=c,this._updateGroup=b}var d=c(159),e=c(42),f=c(3);j.prototype={constructor:j,draw:function(a,b,c,d){var m,n,o,p,q,r,s,t,u,v,w,j=a.getData&&a.getData(),k=a.coordinateSystem,l=this.group;l.removeAll(),m=k.scale,l.position=k.position.slice(),l.scale=m.slice(),t=["itemStyle","normal"],u=["itemStyle","emphasis"],v=["label","normal"],w=["label","emphasis"],j||(n=a.getModel(t),o=a.getModel(u),p=g(n,m),q=g(o,m),r=a.getModel(v),s=a.getModel(w)),f.each(k.regions,function(b){var d,h,i,k,x,y,z,A,B,C,D,E,F,c=new e.Group;j&&(d=j.indexOfName(b.name),h=j.getItemModel(d),i=j.getItemVisual(d,"color",!0),n=h.getModel(t),o=h.getModel(u),p=g(n,m),q=g(o,m),r=h.getModel(v),s=h.getModel(w),i&&(p.fill=i)),k=r.getModel("textStyle"),x=s.getModel("textStyle"),f.each(b.contours,function(a){var b=new e.Polygon({shape:{points:a},style:{strokeNoScale:!0},culling:!0});b.setStyle(p),c.add(b)}),y=r.get("show"),z=s.get("show"),A=j&&isNaN(j.get("value",d)),B=j&&j.getItemLayout(d),(!j||A&&(y||z)||B&&B.showLabel)&&(C=j?d:b.name,D=a.getFormattedLabel(C,"normal"),E=a.getFormattedLabel(C,"emphasis"),F=new e.Text({style:{text:y?D||b.name:"",fill:k.getTextColor(),textFont:k.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:z?E||b.name:"",fill:x.getTextColor(),textFont:x.getFont()},position:b.center.slice(),scale:[1/m[0],1/m[1]],z2:10,silent:!0}),c.add(F)),j&&j.setItemGraphicEl(d,c),e.setHoverStyle(c,q),l.add(c)}),this._updateController(a,b,c),j&&h(a,j,l,c,d),j&&i(a,j)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(a,b,c){var f,d=a.coordinateSystem,e=this._controller;e.zoomLimit=a.get("scaleLimit"),e.zoom=a.get("roamDetail.zoom"),e.enable(a.get("roam")||!1),f=a.type.split(".")[0],e.off("pan").on("pan",function(b,d){c.dispatchAction({type:"geoRoam",component:f,name:a.name,dx:b,dy:d})}),e.off("zoom").on("zoom",function(b,d,e){var g,h;c.dispatchAction({type:"geoRoam",component:f,name:a.name,zoom:b,originX:d,originY:e}),this._updateGroup&&(g=this.group,h=g.scale,g.traverse(function(a){"text"===a.type&&a.attr("scale",[1/h[0],1/h[1]])}))},this),e.rect=d.getViewRect()}},a.exports=j},function(a,b,c){function h(a){var b,c,d;a.target&&a.target.draggable||(b=a.offsetX,c=a.offsetY,d=this.rect,d&&d.contain(b,c)&&(this._x=b,this._y=c,this._dragging=!0))}function i(a){var b,c,d,e,h,i;if(this._dragging&&(f.stop(a.event),"pinch"!==a.gestureEvent)){if(g.isTaken("globalPan",this._zr))return;b=a.offsetX,c=a.offsetY,d=b-this._x,e=c-this._y,this._x=b,this._y=c,h=this.target,h&&(i=h.position,i[0]+=d,i[1]+=e,h.dirty()),f.stop(a.event),this.trigger("pan",d,e)}}function j(){this._dragging=!1}function k(a){f.stop(a.event);var b=a.wheelDelta>0?1.1:1/1.1;m.call(this,a,b,a.offsetX,a.offsetY)}function l(a){if(!g.isTaken("globalPan",this._zr)){f.stop(a.event);var b=a.pinchScale>1?1.1:1/1.1;m.call(this,a,b,a.pinchX,a.pinchY)}}function m(a,b,c,d){var f,g,h,i,j,k,e=this.rect;e&&e.contain(c,d)&&(f=this.target,g=this.zoomLimit,f&&(h=f.position,i=f.scale,j=this.zoom=this.zoom||1,j*=b,g&&(j=Math.max(Math.min(g.max,j),g.min)),k=j/this.zoom,this.zoom=j,h[0]-=(c-h[0])*(k-1),h[1]-=(d-h[1])*(k-1),i[0]*=k,i[1]*=k,f.dirty()),this.trigger("zoom",b,c,d))}function n(a,b,c){var f,g,m,n,o,p;this.target=b,this.rect=c,this.zoomLimit,this.zoom,this._zr=a,f=e.bind,g=f(h,this),m=f(i,this),n=f(j,this),o=f(k,this),p=f(l,this),d.call(this),this.enable=function(b){this.disable(),null==b&&(b=!0),(b===!0||"move"===b||"pan"===b)&&(a.on("mousedown",g),a.on("mousemove",m),a.on("mouseup",n)),(b===!0||"scale"===b||"zoom"===b)&&(a.on("mousewheel",o),a.on("pinch",p))},this.disable=function(){a.off("mousedown",g),a.off("mousemove",m),a.off("mouseup",n),a.off("mousewheel",o),a.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var d=c(32),e=c(3),f=c(80),g=c(160);e.mixin(n,d),a.exports=n},function(a){function e(a){return a[c]||(a[c]={})}var c="\0_ec_interaction_mutex",d={take:function(a,b){e(b)[a]=!0
},release:function(a,b){e(b)[a]=!1},isTaken:function(a,b){return!!e(b)[a]}};a.exports=d},function(a,b,c){var d=c(3),e=c(162),f=c(1),g={type:"geoRoam",event:"geoRoam",update:"updateLayout"};f.registerAction(g,function(a,b){var c=a.component||"series";b.eachComponent(c,function(b){var f,g,h;if(b.name===a.name){if(f=b.coordinateSystem,"geo"!==f.type)return;g=b.getModel("roamDetail"),h=e.calcPanAndZoom(g,a,b.get("scaleLimit")),b.setRoamPan&&b.setRoamPan(h.x,h.y),b.setRoamZoom&&b.setRoamZoom(h.zoom),f&&f.setPan(h.x,h.y),f&&f.setZoom(h.zoom),"series"===c&&d.each(b.seriesGroup,function(a){a.setRoamPan(h.x,h.y),a.setRoamZoom(h.zoom)})}})})},function(a){var c={};c.calcPanAndZoom=function(a,b,c){var j,k,d=b.dx,e=b.dy,f=b.zoom,g=a.get("x")||0,h=a.get("y")||0,i=a.get("zoom")||1;return null!=d&&null!=e&&(g+=d,h+=e),null!=f&&(c&&(f=Math.max(Math.min(i*f,c.max),c.min)/i),j=(b.originX-g)*(f-1),k=(b.originY-h)*(f-1),g-=j,h-=k),{x:g,y:h,zoom:(f||1)*i}},a.exports=c},function(a,b,c){function h(a,b){var f,g,h,i,j,c=this.getBoundingRect(),d=a.getBoxLayoutParams();d.aspect=.75*(c.width/c.height),f=e.getLayoutRect(d,{width:b.getWidth(),height:b.getHeight()}),this.setViewRect(f.x,f.y,f.width,f.height),g=a.getModel("roamDetail"),h=g.get("x")||0,i=g.get("y")||0,j=g.get("zoom")||1,this.setPan(h,i),this.setZoom(j)}function i(a,b){f.each(b.get("geoCoord"),function(b,c){a.addGeoCoord(c,b)})}function j(a){console.error("Map "+a+" not exists")}var d,e,f,g,k,l;c(164),d=c(165),e=c(21),f=c(3),g={},k={dimensions:d.prototype.dimensions,create:function(a,b){var e,c=[];return a.eachComponent("geo",function(a,e){var l,f=a.get("map"),k=g[f];k||j(f),l=new d(f+e,f,k&&k.geoJson,k&&k.specialAreas,a.get("nameMap")),l.zoomLimit=a.get("scaleLimit"),c.push(l),i(l,a),a.coordinateSystem=l,l.model=a,l.resize=h,l.resize(a,b)}),a.eachSeries(function(a){var d,b=a.get("coordinateSystem");"geo"===b&&(d=a.get("geoIndex")||0,a.coordinateSystem=c[d])}),e={},a.eachSeriesByType("map",function(a){var b=a.get("map");e[b]=e[b]||[],e[b].push(a)}),f.each(e,function(a,e){var l,m,k=g[e];k||j(name),l=f.map(a,function(a){return a.get("nameMap")}),m=new d(e,e,k&&k.geoJson,k&&k.specialAreas,f.mergeAll(l)),m.zoomLimit=f.retrieve.apply(null,f.map(a,function(a){return a.get("scaleLimit")})),c.push(m),m.resize=h,m.resize(a[0],b),f.each(a,function(a){a.coordinateSystem=m,i(m,a)})}),c},registerMap:function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")()),g[a]={geoJson:b,specialAreas:c}},getMap:function(a){return g[a]}},l=c(1),l.registerMap=k.registerMap,l.getMap=k.getMap,l.loadMap=function(){},l.registerCoordinateSystem("geo",k)},function(a,b,c){"use strict";var d=c(5),e=c(19);e.extend({type:"geo",coordinateSystem:null,init:function(a){e.prototype.init.apply(this,arguments),d.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}}},getFormattedLabel:function(a,b){var c=this.get("label."+b+".formatter"),d={name:a};return"function"==typeof c?(d.status=b,c(d)):"string"==typeof c?c.replace("{a}",d.seriesName):void 0},setRoamZoom:function(a){var b=this.option.roamDetail;b&&(b.zoom=a)},setRoamPan:function(a,b){var c=this.option.roamDetail;c&&(c.x=a,c.y=b)}})},function(a,b,c){function i(a,b,c,d,e){g.call(this,a),this.map=b,this._nameCoordMap={},this.loadGeoJson(c,d,e)}var d=c(166),e=c(3),f=c(15),g=c(169),h=[c(170),c(171),c(172)];i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],loadGeoJson:function(a,b,c){var g,i,j,k,l;try{this.regions=a?d(a):[]}catch(f){throw"Invalid geoJson format\n"+f}for(b=b||{},c=c||{},g=this.regions,i={},j=0;j<g.length;j++)k=g[j].name,k=c[k]||k,g[j].name=k,i[k]=g[j],this.addGeoCoord(k,g[j].center),l=b[k],l&&g[j].transformTo(l.left,l.top,l.width,l.height);this._regionsMap=i,this._rect=null,e.each(h,function(a){a(this)},this)},transformTo:function(a,b,c,d){var g,h,e=this.getBoundingRect();e=e.clone(),e.y=-e.y-e.height,g=this._viewTransform,g.transform=e.calculateTransform(new f(a,b,c,d)),g.decomposeTransform(),h=g.scale,h[1]=-h[1],g.updateTransform(),this._updateTransform()},getRegion:function(a){return this._regionsMap[a]},addGeoCoord:function(a,b){this._nameCoordMap[a]=b},getGeoCoord:function(a){return this._nameCoordMap[a]},getBoundingRect:function(){var a,b,c,d;if(this._rect)return this._rect;for(b=this.regions,c=0;c<b.length;c++)d=b[c].getBoundingRect(),a=a||d.clone(),a.union(d);return this._rect=a||new f(0,0,0,0)},dataToPoints:function(a){var b=[];return a.mapArray(["lng","lat"],function(a,c){return b[0]=a,b[1]=c,this.dataToPoint(b)},this)},dataToPoint:function(a){return"string"==typeof a&&(a=this.getGeoCoord(a)),a?g.prototype.dataToPoint.call(this,a):void 0}},e.mixin(i,g),a.exports=i},function(a,b,c){function f(a){var b,c,d,e,f,h,i,j,k,l;if(!a.UTF8Encoding)return a;for(b=a.features,c=0;c<b.length;c++)for(d=b[c],e=d.geometry,f=e.coordinates,h=e.encodeOffsets,i=0;i<f.length;i++)if(j=f[i],"Polygon"===e.type)f[i]=g(j,h[i]);else if("MultiPolygon"===e.type)for(k=0;k<j.length;k++)l=j[k],j[k]=g(l,h[i][k]);return a.UTF8Encoding=!1,a}function g(a,b){var f,g,h,c=[],d=b[0],e=b[1];for(f=0;f<a.length;f+=2)g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64,g=g>>1^-(1&g),h=h>>1^-(1&h),g+=d,h+=e,d=g,e=h,c.push([g/1024,h/1024]);return c}function h(a){var c,d,b=[];for(c=0;c<a.length;c++)for(d=0;d<a[c].length;d++)b.push(a[c][d]);return b}var d=c(3),e=c(167);a.exports=function(a){return f(a),d.map(d.filter(a.features,function(a){return a.geometry&&a.properties}),function(a){var b=a.properties,c=a.geometry,d=c.coordinates;return"MultiPolygon"===c.type&&(d=h(d)),new e(b.name,d,b.cp)})}},function(a,b,c){function h(a,b,c){if(this.name=a,this.contours=b,c)c=[c[0],c[1]];else{var d=this.getBoundingRect();c=[d.x+d.width/2,d.y+d.height/2]}this.center=c}var d=c(168),e=c(15),f=c(50),g=c(16);h.prototype={constructor:h,getBoundingRect:function(){var b,c,d,h,i,j,k,a=this._rect;if(a)return a;for(b=Number.MAX_VALUE,c=[b,b],d=[-b,-b],h=[],i=[],j=this.contours,k=0;k<j.length;k++)f.fromPoints(j[k],h,i),g.min(c,c,h),g.max(d,d,i);return 0===k&&(c[0]=c[1]=d[0]=d[1]=0),this._rect=new e(c[0],c[1],d[0]-c[0],d[1]-c[1])},contain:function(a){var e,f,b=this.getBoundingRect(),c=this.contours;if(b.contain(a[0],a[1]))for(e=0,f=c.length;f>e;e++)if(d.contain(c[e],a[0],a[1]))return!0;return!1},transformTo:function(a,b,c,d){var i,j,k,l,m,f=this.getBoundingRect(),h=f.width/f.height;for(c?d||(d=c/h):c=h*d,i=new e(a,b,c,d),j=f.calculateTransform(i),k=this.contours,l=0;l<k.length;l++)for(m=0;m<k[l].length;m++)g.applyTransform(k[l][m],k[l][m],j);f=this._rect,f.copy(i),this.center=[f.x+f.width/2,f.y+f.height/2]}},a.exports=h},function(a,b,c){function f(a,b){return Math.abs(a-b)<e}function g(a,b,c){var h,i,j,e=0,g=a[0];if(!g)return!1;for(h=1;h<a.length;h++)i=a[h],e+=d(g[0],g[1],i[0],i[1],b,c),g=i;return j=a[0],f(g[0],j[0])&&f(g[1],j[1])||(e+=d(g[0],g[1],j[0],j[1],b,c)),0!==e}var d=c(57),e=1e-8;a.exports={contain:g}},function(a,b,c){function j(){f.call(this)}function k(a){this.name=a,this.zoomLimit,f.call(this),this._roamTransform=new j,this._viewTransform=new j}var d=c(16),e=c(17),f=c(33),g=c(3),h=c(15),i=d.applyTransform;g.mixin(j,f),k.prototype={constructor:k,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,c,d){return this._rect=new h(a,b,c,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d),this._viewRect=new h(a,b,c,d)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=this._viewTransform;f.transform=e.calculateTransform(new h(a,b,c,d)),f.decomposeTransform(),this._updateTransform()},setPan:function(a,b){this._roamTransform.position=[a,b],this._updateTransform()},setZoom:function(a){var b=this.zoomLimit;b&&(a=Math.max(Math.min(a,b.max),b.min)),this._roamTransform.scale=[a,a],this._updateTransform()},getRoamTransform:function(){return this._roamTransform.transform},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a,a.updateTransform(),b.updateTransform(),b.transform&&e.copy(this.transform||(this.transform=[]),b.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},dataToPoint:function(a){var b=this.transform;return b?i([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?i([],a,b):[a[0],a[1]]}},g.mixin(k,f),a.exports=k},function(a,b,c){var g,h,d=c(167),e=[126,25],f=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(g=0;g<f.length;g++)for(h=0;h<f[g].length;h++)f[g][h][0]/=10.5,f[g][h][1]/=-14,f[g][h][0]+=e[0],f[g][h][1]+=e[1];a.exports=function(a){"china"===a.map&&a.regions.push(new d("南海诸岛",f,e))}},function(a,b,c){var d=c(3),e={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};a.exports=function(a){d.each(a.regions,function(a){var c,b=e[a.name];b&&(c=a.center,c[0]+=b[0]/10.5,c[1]+=-b[1]/14)})}},function(a,b,c){var d=c(3),e={Russia:[100,60],"United States of America":[-99,38]};a.exports=function(a){d.each(a.regions,function(a){var c,b=e[a.name];b&&(c=a.center,c[0]=b[0],c[1]=b[1])})}},function(a,b,c){var d=c(3);a.exports=function(a){var b={};a.eachSeriesByType("map",function(c){var f,g,e=c.get("map");b[e]||(f={},d.each(c.seriesGroup,function(b){var c=b.coordinateSystem,d=b.getData();b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,b){var h,i,e=d.getName(b),g=c.getRegion(e);g&&!isNaN(a)&&(h=f[e]||0,i=c.dataToPoint(g.center),f[e]=h+1,d.setItemLayout(b,{point:i,offset:h}))})}),g=c.getData(),g.each(function(a){var b=g.getName(a),c=g.getItemLayout(a)||{};c.showLabel=!f[b],g.setItemLayout(a,c)}),b[e]=!0)})}},function(a){a.exports=function(a){a.eachSeriesByType("map",function(a){var b=a.get("color"),c=a.getModel("itemStyle.normal"),d=c.get("areaColor"),e=c.get("color")||b[a.seriesIndex%b.length];a.getData().setVisual({areaColor:d,color:e})})}},function(a,b,c){function e(a,b){var e,c={},d=["value"];for(e=0;e<a.length;e++)a[e].each(d,function(b,d){var f=a[e].getName(d);c[f]=c[f]||[],isNaN(b)||c[f].push(b)});return a[0].map(d,function(d,e){var k,l,f=a[0].getName(e),g=0,h=1/0,i=-1/0,j=c[f].length;for(k=0;j>k;k++)h=Math.min(h,c[f][k]),i=Math.max(i,c[f][k]),g+=c[f][k];return l="min"===b?h:"max"===b?i:"average"===b?g/j:g,0===j?0/0:l})}var d=c(3);a.exports=function(a){var b={};a.eachSeriesByType("map",function(a){var c=a.get("map");b[c]=b[c]||[],b[c].push(a)}),d.each(b,function(a){var f,c=e(d.map(a,function(a){return a.getData()}),a[0].get("mapValueCalculation"));for(a[0].seriesGroup=[],a[0].setData(c),f=0;f<a.length;f++)a[f].seriesGroup=a,a[f].needsDrawMap=0===f})}},function(a,b,c){function g(a){var b={};return d.each(e,function(c){null!=a[c]&&(b[c]=a[c])}),b}var d=c(3),e=["x","y","x2","y2","width","height","map","roam","roamDetail","label","itemStyle"],f={};a.exports=function(a){var c,b=[];d.each(a.series,function(a){"map"===a.type&&b.push(a),d.extend(f,a.geoCoord)}),c={},d.each(b,function(b){var e,h,i;b.map=b.map||b.mapType,d.defaults(b,b.mapLocation),b.markPoint&&(e=b.markPoint,e.data=d.map(e.data,function(a){var b,c;return d.isArray(a.value)||(a.geoCoord?b=a.geoCoord:a.name&&(b=f[a.name]),c=b?[b[0],b[1]]:[0/0,0/0],null!=a.value&&c.push(a.value),a.value=c),a}),b.data&&b.data.length||(a.geo||(a.geo=[]),h=c[b.map],h||(h=c[b.map]=g(b),a.geo.push(h)),i=b.markPoint,i.type=a.effect&&a.effect.show?"effectScatter":"scatter",i.coordinateSystem="geo",i.geoIndex=d.indexOf(a.geo,h),i.name=b.name,a.series.splice(d.indexOf(a.series,b),1,i)))})}},function(a,b,c){var d=c(1);c(178),c(182),c(185),d.registerVisualCoding("chart",c(186)),d.registerLayout(c(188))},function(a,b,c){function l(a,b){var d,c=0;f.each(a.children,function(a){l(a,b);var d=a.value;f.isArray(d)&&(d=d[0]),c+=d}),d=a.value,b>=0&&(f.isArray(d)?d=d[0]:a.value=new Array(b)),(null==d||isNaN(d))&&(d=c),0>d&&(d=0),b>=0?a.value[0]=d:a.value=d}function m(a,b){var d,e,c=b.get("color");if(c)return a=a||[],f.each(a,function(a){var b=new g(a),c=b.get("color");(b.get("itemStyle.normal.color")||c&&"none"!==c)&&(d=!0)}),d||(e=a[0]||(a[0]={}),e.color=c.slice()),a}var j,k,d=c(27),e=c(179),f=c(3),g=c(8),h=c(6);c(181),j=h.encodeHTML,k=h.addCommas,a.exports=d.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:["50%","50%"],textStyle:{align:"center",baseline:"middle",color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var g,h,i,c=a.data||[],d=a.name;return null==d&&(d=a.name),g={name:d,children:a.data},h=(c[0]||{}).value,l(g,f.isArray(h)?h.length:-1),i=a.levels||[],i=a.levels=m(i,b),e.createTree(g,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=f.isArray(c)?k(c[0]):k(c),e=b.getName(a);return j(e)+": "+d},getDataParams:function(a){for(var g,b=d.prototype.getDataParams.apply(this,arguments),c=this.getData(),e=c.tree.getNodeByDataIndex(a),f=b.treePathInfo=[];e;)g=e.dataIndex,f.push({name:e.name,dataIndex:g,value:this.getRawValue(g)}),e=e.parentNode;return f.reverse(),b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{},f.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var c,b=this._idIndexMap;return b||(b=this._idIndexMap={},this._idIndexMapCount=0),c=b[a],null==c&&(b[a]=c=this._idIndexMapCount++),c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;(!a||a!==b&&!b.contains(a))&&(this._viewRoot=b)}})},function(a,b,c){function j(a,b){this.root,this.data,this._nodes=[],this.hostModel=a,this.levelModels=d.map(b||[],function(b){return new e(b,a,a.ecModel)})}function k(a,b){var c=b.children;a.parentNode!==b&&(c.push(a),a.parentNode=b,b.hostTree._nodes.push(a))}var d=c(3),e=c(8),f=c(94),g=c(180),h=c(96),i=function(a,b,c){this.name=a||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=null==b?-1:b,this.children=[],this.viewChildren=[],this.hostTree=c};i.prototype={constructor:i,isRemoved:function(){return this.dataIndex<0},eachNode:function(a,b,c){var e,f,g,h;for("function"==typeof a&&(c=b,b=a,a=null),a=a||{},d.isString(a)&&(a={order:a}),e=a.order||"preorder",f=this[a.attr||"children"],"preorder"===e&&(g=b.call(c,this)),h=0;!g&&h<f.length;h++)f[h].eachNode(a,b,c);"postorder"===e&&b.call(c,this)},updateDepthAndHeight:function(a){var c,d,b=0;for(this.depth=a,c=0;c<this.children.length;c++)d=this.children[c],d.updateDepthAndHeight(a+1),d.height>b&&(b=d.height);this.height=b+1},getNodeById:function(a){var b,c,d,e;if(this.getId()===a)return this;for(b=0,c=this.children,d=c.length;d>b;b++)if(e=c[b].getNodeById(a))return e},contains:function(a){var b,c,d,e;if(a===this)return!0;for(b=0,c=this.children,d=c.length;d>b;b++)if(e=c[b].contains(a))return e},getAncestors:function(a){for(var b=[],c=a?this:this.parentNode;c;)b.push(c),c=c.parentNode;return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){var b,c,d;if(!(this.dataIndex<0))return b=this.hostTree,c=b.data.getItemModel(this.dataIndex),d=this.getLevelModel(),c.getModel(a,(d||b.hostModel).getModel(a))},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,b){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},j.prototype={constructor:j,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){var b=this.data.getRawIndex(a);return this._nodes[b]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){var c,d,a=this.data,b=this._nodes;for(c=0,d=b.length;d>c;c++)b[c].dataIndex=-1;for(c=0,d=a.count();d>c;c++)b[a.getRawIndex(c)].dataIndex=c}},j.createTree=function(a,b,c){function l(a,b){var c,f,g;if(e.push(a),c=new i(a.name,e.length-1,d),b?k(c,b):d.root=c,f=a.children)for(g=0;g<f.length;g++)l(f[g],c)}var m,n,d=new j(b,c),e=[];return l(a),d.root.updateDepthAndHeight(0),m=h([{name:"value"}],e),n=new f(m,b),n.initData(e),g.linkToTree(n,d),d},a.exports=j},function(a,b,c){function f(a,b,c){return d.each(g,function(e,f){var g=a[f];a[f]=d.curry(e,g,b,c)}),a[c]=b,b.data=a,a}var d=c(3),e=Array.prototype.slice,g={cloneShallow:function(a,b,c){var d=a.apply(this,e.call(arguments,3));return f(d,b,c)},map:function(a,b,c){var d=a.apply(this,e.call(arguments,3));return f(d,b,c)},filterSelf:function(a,b){var d=a.apply(this,e.call(arguments,3));return b.update(),d}};a.exports={linkToGraph:function(a,b){f(a,b,"graph")},linkToTree:function(a,b){f(a,b,"tree")}}},function(a,b,c){var d=c(3),e={retrieveTargetInfo:function(a,b){var c,d,e;if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){if(c=b.getData().tree.root,d=a.targetNode,d&&c.contains(d))return{node:d};if(e=a.targetNodeId,null!=e&&(d=c.getNodeById(e)))return{node:d}}},getPathToRoot:function(a){for(var b=[];a;)b.push(a),a=a.parentNode;return b.reverse()},aboveViewRoot:function(a,b){var c=e.getPathToRoot(a);return e.aboveViewRootByViewPath(c,b)},aboveViewRootByViewPath:function(a,b){var c=d.indexOf(a,b);return c>=0&&c!==a.length-1}};a.exports=e},function(a,b,c){function r(){return{nodeGroup:[],background:[],content:[]}}var d=c(3),e=c(42),f=c(95),g=c(181),h=c(183),i=c(159),j=c(15),k=c(17),l=c(184),m=d.bind,n=e.Group,o=e.Rect,p=d.each,q=3;a.exports=c(1).extendChartView({type:"treemap",init:function(){this._containerGroup,this._storage=r(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(a,b,c,e){var h,i,j,k,l,m,n,o,f=b.findComponents({mainType:"series",subType:"treemap",query:e});d.indexOf(f,a)<0||(this.seriesModel=a,this.api=c,this.ecModel=b,h=g.retrieveTargetInfo(e,a),i=e&&e.type,j=a.layoutInfo,k=!this._oldTree,l=this._storage,m="treemapRootToNode"===i&&h&&l?{rootNodeGroup:l.nodeGroup[h.node.getRawIndex()],direction:e.direction}:null,n=this._giveContainerGroup(j),o=this._doRender(n,a,m),k||i&&"treemapZoomToNode"!==i&&"treemapRootToNode"!==i?o.renderFinally():this._doAnimation(n,o,a,m),this._resetController(c),this._renderBreadcrumb(a,c,h))},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new n,this._initEvents(b),this.group.add(b)),b.position=[a.x,a.y],b},_doRender:function(a,b,c){function u(a,b,c,e,g){function h(a){return a.getId()}function i(d,f){var j,h=null!=d?a[d]:null,i=null!=f?b[f]:null;!h||isNaN(g)||g<t.length&&t[g]!==h||(j=q(h,i,c),j&&u(h&&h.viewChildren||[],i&&i.viewChildren||[],j,e,g+1))}e?(b=a,p(a,function(a,b){!a.isRemoved()&&i(b,b)})):new f(b,a,h,h).add(i).update(i).remove(d.curry(i,null)).execute()}function v(a){var b=r();return a&&p(a,function(a,c){var d=b[c];p(a,function(a){a&&(d.push(a),a.__tmWillDelete=c)})}),b}function w(){p(o,function(a){p(a,function(a){a.parent&&a.parent.remove(a)})}),p(l,function(a){a.invisible=!0,a.dirty()}),p(n,function(a){a.invisible=!1,a.__tmWillVisible=!1,a.dirty()})}var e=b.getData().tree,h=this._oldTree,i=r(),j=r(),k=this._storage,l=[],n=[],o=[],q=m(this._renderNode,this,j,k,c,i,l,n),s=b.getViewRoot(),t=g.getPathToRoot(s);return u(e.root?[e.root]:[],h&&h.root?[h.root]:[],a,e===h||!h,0),o=v(k),this._oldTree=e,this._storage=j,{lastsForAnimation:i,willDeleteEls:o,renderFinally:w}},_renderNode:function(a,b,c,f,g,h,i,j,k){function G(c,d,e){var g=null!=m&&b[c][m],h=f[c];return g?(b[c][m]=null,H(h,g,c)):s||(g=new d({z:e}),I(h,g,c)),a[c][l]=g}function H(a,b,c){var e=a[l]={};e.old="nodeGroup"===c?b.position.slice():d.extend({},b.shape)}function I(a,b,d){var e,g,j,k,m;"background"===d?(b.invisible=!0,b.__tmWillVisible=!0,h.push(b)):(e=a[l]={},g=i.parentNode,!g||c&&"drilldown"!==c.direction||(j=0,k=0,m=f.background[g.getRawIndex()],m&&m.old&&(j=m.old.width/2,k=m.old.height/2),e.old="nodeGroup"===d?[j,k]:{x:j,y:k,width:0,height:0}),e.fadein="nodeGroup"!==d)}function J(a,b){s?!a.invisible&&g.push(a):(a.setStyle(b),a.__tmWillVisible||(a.invisible=!1))}var u,v,w,x,y,z,A,B,C,D,E,F,l=i&&i.getRawIndex(),m=j&&j.getRawIndex(),p=i.getLayout(),q=p.width,r=p.height,s=p.invisible,t=G("nodeGroup",n);if(t)return k.add(t),t.position=[p.x,p.y],t.__tmNodeWidth=q,t.__tmNodeHeight=r,u=G("background",o,0),u&&(u.setShape({x:0,y:0,width:q,height:r}),J(u,{fill:i.getVisual("borderColor",!0)}),t.add(u)),v=i.viewChildren,v&&v.length||(w=p.borderWidth,x=G("content",o,3),x&&(y=Math.max(q-2*w,0),z=Math.max(r-2*w,0),A=i.getModel("label.normal"),B=i.getModel("label.normal.textStyle"),C=i.getModel("itemStyle.emphasis").getItemStyle(),D=i.getModel().get("name"),E=B.getTextRect(D),F=A.get("show"),!F||E.height>z?D="":E.width>y&&(D=B.get("ellipsis")?B.ellipsis(D,y):""),e.setHoverStyle(x,C),x.dataIndex=i.dataIndex,x.seriesIndex=this.seriesModel.seriesIndex,x.culling=!0,x.setShape({x:w,y:w,width:y,height:z}),J(x,{fill:i.getVisual("color",!0),text:D,textPosition:A.get("position"),textFill:B.getTextColor(),textAlign:B.get("align"),textVerticalAlign:B.get("baseline"),textFont:B.getFont()}),t.add(x))),t},_doAnimation:function(a,b,c,e){var f,g,h;c.get("animation")&&(f=c.get("animationDurationUpdate"),g=c.get("animationEasing"),h=l.createWrap(),p(b.willDeleteEls,function(a){p(a,function(a){var c,d,i,j,k;!a.invisible&&(c=a.__tmWillDelete)&&(d=a.parent,e&&"drilldown"===e.direction?d===e.rootNodeGroup?(i={shape:{x:0,y:0,width:d.__tmNodeWidth,height:d.__tmNodeHeight}},a.z=2):(i={style:{opacity:0}},a.z=1):(j=0,k=0,d.__tmWillDelete||(j=d.__tmNodeWidth/2,k=d.__tmNodeHeight/2),i="nodeGroup"===c?{position:[j,k],style:{opacity:0}}:{shape:{x:j,y:k,width:0,height:0},style:{opacity:0}}),i&&h.add(a,i,f,g))})}),p(this._storage,function(a,c){p(a,function(a,e){var i=b.lastsForAnimation[c][e],j={};i&&("nodeGroup"===c?i.old&&(j.position=a.position.slice(),a.position=i.old):(i.old&&(j.shape=d.extend({},a.shape),a.setShape(i.old)),i.fadein?(a.setStyle("opacity",0),j.style={opacity:1}):1!==a.style.opacity&&(j.style={opacity:1})),h.add(a,j,f,g))})},this),this._state="animating",h.done(m(function(){this._state="ready",b.renderFinally()},this)).start())},_resetController:function(a){var b=this._controller;b||(b=this._controller=new i(a.getZr()),b.enable(this.seriesModel.get("roam")),b.on("pan",m(this._onPan,this)),b.on("zoom",m(this._onZoom,this))),b.rect=new j(0,0,a.getWidth(),a.getHeight())},_clearController:function(){var a=this._controller;a&&(a.off("pan").off("zoom"),a=null)},_onPan:function(a,b){var c,d;if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(a)>q||Math.abs(b)>q)){if(c=this.seriesModel.getViewRoot(),!c)return;if(d=c.getLayout(),!d)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x+a,y:d.y+b,width:d.width,height:d.height}})}},_onZoom:function(a,b,c){var d,e,f,g,h;if(this._mayClick=!1,"animating"!==this._state){if(d=this.seriesModel.getViewRoot(),!d)return;if(e=d.getLayout(),!e)return;f=new j(e.x,e.y,e.width,e.height),g=this.seriesModel.layoutInfo,b-=g.x,c-=g.y,h=k.create(),k.translate(h,h,[-b,-c]),k.scale(h,h,[a,a]),k.translate(h,h,[b,c]),f.applyTransform(h),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(a){function b(a){var c,d,e,f,g,b=this.seriesModel.get("nodeClick",!0);b&&(c=this.findTarget(a.offsetX,a.offsetY),c&&(d=c.node,d.getLayout().isLeafRoot?this._rootToNode(c):"zoomToNode"===b?this._zoomToNode(c):"link"===b&&(e=d.hostTree.data.getItemModel(d.dataIndex),f=e.get("link",!0),g=e.get("target",!0)||"blank",f&&window.open(f,g))))}a.on("mousedown",function(){"ready"===this._state&&(this._mayClick=!0)},this),a.on("mouseup",function(a){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&b.call(this,a))},this)},_renderBreadcrumb:function(a,b,c){function d(b){"animating"!==this._state&&(g.aboveViewRoot(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))}c||(c=this.findTarget(b.getWidth()/2,b.getHeight()/2),c||(c={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new h(this.group,m(d,this)))).render(a,b,c.node)},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=r(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c,d=this.seriesModel.getViewRoot();return d.eachNode({attr:"viewChildren",order:"preorder"},function(d){var f,g,e=this._storage.background[d.getRawIndex()];if(e){if(f=e.transformCoordToLocal(a,b),g=e.shape,!(g.x<=f[0]&&f[0]<=g.x+g.width&&g.y<=f[1]&&f[1]<=g.y+g.height))return!1;c={node:d,offsetX:f[0],offsetY:f[1]}}},this),c}})},function(a,b,c){function j(a,b){this.group=new d.Group,a.add(this.group),this._onSelect=b||f.noop}function k(a,b,c,d,e,f){var g=[[e?a:a-i,b],[a+c,b],[a+c,b+d],[e?a:a-i,b+d]];return!f&&g.splice(2,0,[a+c+i,b+d/2]),!e&&g.push([a,b+d/2]),g}var d=c(42),e=c(21),f=c(3),g=8,h=8,i=5;j.prototype={constructor:j,render:function(a,b,c){var g,h,i,d=a.getModel("breadcrumb"),f=this.group;f.removeAll(),d.get("show")&&c&&(g=d.getModel("itemStyle.normal"),h=g.getModel("textStyle"),i={pos:{left:d.get("left"),right:d.get("right"),top:d.get("top"),bottom:d.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:d.get("emptyItemWidth"),totalWidth:0,renderList:[]},this._prepare(d,c,i,h),this._renderContent(d,c,i,g,h),e.positionGroup(f,i.pos,i.box))},_prepare:function(a,b,c,d){var e,f,i,j;for(e=b;e;e=e.parentNode)f=e.getModel().get("name"),i=d.getTextRect(f),j=Math.max(i.width+2*g,c.emptyItemWidth),c.totalWidth+=j+h,c.renderList.push({node:e,text:f,width:j})},_renderContent:function(a,b,c,g,i){var q,r,s,t,j=0,l=c.emptyItemWidth,m=a.get("height"),n=e.getAvailableSize(c.pos,c.box),o=c.totalWidth,p=c.renderList;for(q=p.length-1;q>=0;q--)r=p[q],s=r.width,t=r.text,o>n.width&&(o-=s-l,s=l,t=""),this.group.add(new d.Polygon({shape:{points:k(j,0,s,m,q===p.length-1,0===q)},style:f.defaults(g.getItemStyle(),{lineJoin:"bevel",text:t,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:f.bind(this._onSelect,this,r.node)})),j+=s+h},remove:function(){this.group.removeAll()}},a.exports=j},function(a,b,c){function e(){var c,a=[],b={};return{add:function(c,e,f,g,h){return d.isString(g)&&(h=g,g=0),b[c.id]?!1:(b[c.id]=1,a.push({el:c,target:e,time:f,delay:g,easing:h}),!0)},done:function(a){return c=a,this},start:function(){function h(){d--,d||(a.length=0,b={},c&&c())}var e,f,g,d=a.length;for(e=0,f=a.length;f>e;e++)g=a[e],g.el.animateTo(g.target,g.time,g.delay,g.easing,h);return this}}}var d=c(3);a.exports={createWrap:e}},function(a,b,c){var h,d=c(1),e=c(181),f=function(){},g=["treemapZoomToNode","treemapRender","treemapMove"];for(h=0;h<g.length;h++)d.registerAction({type:g[h],update:"updateView"},f);d.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b){var f,d=e.retrieveTargetInfo(a,b);d&&(f=b.getViewRoot(),f&&(a.direction=e.aboveViewRoot(f,d.node)?"rollup":"drilldown"),b.resetViewRoot(d.node))})})},function(a,b,c){function i(a,b,c,d,e,g){var q,r,s,t,u,v,w,x,m=a.getModel(),o=a.getLayout();o.invisible||(q=a.getModel(h),r=c[a.depth],s=j(q,b,r,d),t=q.get("borderColor"),u=q.get("borderColorSaturation"),null!=u&&(v=k(s,a),t=l(u,v)),a.setVisual("borderColor",t),w=a.viewChildren,w&&w.length?(x=n(a,m,o,q,s,w),f.each(w,function(a,b){if(a.depth>=e.length||a===e[a.depth]){var f=p(m,s,a,b,x,g);i(a,f,c,d,e,g)}})):(v=k(s,a),a.setVisual("color",v)))}function j(a,b,c,d){var e=f.extend({},b);return f.each(["color","colorAlpha","colorSaturation"],function(f){var g=a.get(f,!0);null==g&&c&&(g=c[f]),null==g&&(g=b[f]),null==g&&(g=d.get(f)),null!=g&&(e[f]=g)}),e}function k(a){var c,d,b=m(a,"color");return b?(c=m(a,"colorAlpha"),d=m(a,"colorSaturation"),d&&(b=e.modifyHSL(b,null,null,d)),c&&(b=e.modifyAlpha(b,c)),b):void 0}function l(a,b){return null!=b?e.modifyHSL(b,null,null,a):null}function m(a,b){var c=a[b];return null!=c&&"none"!==c?c:void 0}function n(a,b,c,e,f,g){var h,i,j,k;if(g&&g.length&&(h=o(b,"color")||null!=f.color&&"none"!==f.color&&(o(b,"colorAlpha")||o(b,"colorSaturation"))))return i=b.get("colorMappingBy"),j={type:h.name,dataExtent:c.dataExtent,visual:h.range},"color"!==j.type||"index"!==i&&"id"!==i?j.mappingMethod="linear":(j.mappingMethod="category",j.loop=!0),k=new d(j),k.__drColorMappingBy=i,k}function o(a,b){var c=a.get(b);return g(c)&&c.length?{name:b,range:c}:null}function p(a,b,c,d,e,g){var i,j,k,h=f.extend({},b);return e&&(i=e.type,j="color"===i&&e.__drColorMappingBy,k="index"===j?d:"id"===j?g.mapIdToIndex(c.getId()):c.getValue(a.get("visualDimension")),h[i]=e.mapValueToVisual(k)),h}var d=c(187),e=c(38),f=c(3),g=f.isArray,h="itemStyle.normal";a.exports=function(a,b){var c={mainType:"series",subType:"treemap",query:b};a.eachComponent(c,function(a){var e,b=a.getData().tree,c=b.root,d=a.getModel(h);c.isRemoved()||(e=f.map(b.levelModels,function(a){return a?a.get(h):null}),i(c,{},e,d,a.getViewRoot().getAncestors(),a))})}},function(a,b,c){function j(a,b,c,e){return d.isArray(a)?d.map(a,function(a){return f(a,b,c,e)}):f(a,b,c,e)}function m(a){var b=a.pieceList;a.hasSpecialVisual=!1,d.each(b,function(b,c){b.originIndex=c,b.visual&&(a.hasSpecialVisual=!0)})}function n(a){var f,h,j,b=a.categories,c=a.visual,e=d.isArray(c);if(!b){if(e)return;throw new Error}for(f=a.categoryMap={},g(b,function(a,b){f[a]=b}),e||(h=[],d.isObject(c)?g(c,function(a,b){var c=f[b];h[null!=c?c:i]=a}):h[i]=c,c=a.visual=h),j=b.length-1;j>=0;j--)null==c[j]&&(delete f[b[j]],b.pop())
}function o(a){return{applyVisual:function(b,c,e){var h,i,f=c("color"),g=d.isArray(b);if(b=g?[this.mapValueToVisual(b[0]),this.mapValueToVisual(b[1])]:this.mapValueToVisual(b),d.isArray(f))for(h=0,i=f.length;i>h;h++)f[h].color=a(f[h].color,g?b[h]:b);else e("color",a(f,b))},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),d=this.option.visual;return null==c&&(c=s(this)?r(this,d,b):j(b,[0,1],d,!0)),c}}}function p(a,b){return a[Math.round(j(b,[0,1],[0,a.length-1],!0))]}function q(a,b,c){c("color",this.mapValueToVisual(a))}function r(a,b,c){return b[a.option.loop&&c!==i?c%b.length:c]}function s(a){return"category"===a.option.mappingMethod}var l,t,u,d=c(3),e=c(38),f=c(7).linearMap,g=d.each,h=d.isObject,i=-1,k=function(a){var e,b=a.mappingMethod,c=a.type;this.type=c,this.mappingMethod=b,e=this.option=d.clone(a),this._normalizeData=t[b],this._getSpecifiedVisual=d.bind(u[b],this,c),d.extend(this,l[c]),"piecewise"===b&&m(e),"category"===b&&n(e)};k.prototype={constructor:k,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return d.bind(this._normalizeData,this)}},l=k.visualHandlers={color:{applyVisual:q,getColorMapper:function(){var a=s(this)?this.option.visual:d.map(this.option.visual,e.parse);return d.bind(s(this)?function(b,c){return!c&&(b=this._normalizeData(b)),r(this,a,b)}:function(b,c,f){var g=!!f;return!c&&(b=this._normalizeData(b)),f=e.fastMapToColor(b,a,f),g?f:d.stringify(f,"rgba")},this)},mapValueToVisual:function(a){var c,f,b=this.option.visual;return d.isArray(a)?(a=[this._normalizeData(a[0]),this._normalizeData(a[1])],e.mapIntervalToColor(a,b)):(c=this._normalizeData(a),f=this._getSpecifiedVisual(a),null==f&&(f=s(this)?r(this,b,c):e.mapToColor(c,b)),f)}},colorHue:o(function(a,b){return e.modifyHSL(a,b)}),colorSaturation:o(function(a,b){return e.modifyHSL(a,null,b)}),colorLightness:o(function(a,b){return e.modifyHSL(a,null,null,b)}),colorAlpha:o(function(a,b){return e.modifyAlpha(a,b)}),opacity:{applyVisual:function(a,b,c){c("opacity",this.mapValueToVisual(a))},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),d=this.option.visual;return null==c&&(c=s(this)?r(this,d,b):j(b,[0,1],d,!0)),c}},symbol:{applyVisual:function(a,b,c){var f,e=this.mapValueToVisual(a);if(d.isString(e))c("symbol",e);else if(h(e))for(f in e)e.hasOwnProperty(f)&&c(f,e[f])},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),d=this.option.visual;return null==c&&(c=s(this)?r(this,d,b):p(d,b)||{}),c}},symbolSize:{applyVisual:function(a,b,c){c("symbolSize",this.mapValueToVisual(a))},mapValueToVisual:function(a){var b=this._normalizeData(a),c=this._getSpecifiedVisual(a),d=this.option.visual;return null==c&&(c=s(this)?r(this,d,b):j(b,[0,1],d,!0)),c}}},t={linear:function(a){return j(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList,c=k.findPieceIndex(a,b);return null!=c?j(c,[0,b.length-1],[0,1],!0):void 0},category:function(a){var b=this.option.categories?this.option.categoryMap[a]:a;return null==b?i:b}},u={linear:d.noop,piecewise:function(a,b){var e,f,c=this.option,d=c.pieceList;return c.hasSpecialVisual&&(e=k.findPieceIndex(b,d),f=d[e],f&&f.visual)?f.visual[a]:void 0},category:d.noop},k.addVisualHandler=function(a,b){l[a]=b},k.isValidType=function(a){return l.hasOwnProperty(a)},k.eachVisual=function(a,b,c){d.isObject(a)?d.each(a,b,c):b.call(c,a)},k.mapVisual=function(a,b,c){var e,f=d.isArray(a)?[]:d.isObject(a)?{}:(e=!0,null);return k.eachVisual(a,function(a,d){var g=b.call(c,a,d);e?f=g:f[d]=g}),f},k.retrieveVisuals=function(a){var c,b={};return a&&g(l,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)}),c?b:null},k.prepareVisualTypes=function(a){if(h(a)){var b=[];g(a,function(a,c){b.push(c)}),a=b}else{if(!d.isArray(a))return[];a=a.slice()}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a},k.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b},k.cloneOpacityToAlpha=function(){new k({})},k.findPieceIndex=function(a,b){var c,d,e,f;for(c=0,d=b.length;d>c;c++)if(e=b[c],null!=e.value&&e.value===a)return c;for(c=0,d=b.length;d>c;c++)if(e=b[c],f=e.interval)if(f[0]===-1/0){if(a<f[1])return c}else if(1/0===f[1]){if(f[0]<a)return c}else if(e.interval[0]<=a&&a<=e.interval[1])return c},a.exports=k},function(a,b,c){function m(a,b,c){var d={mainType:"series",subType:"treemap",query:c};a.eachComponent(d,function(a){var x,y,z,d=b.getWidth(),e=b.getHeight(),f=a.option,g=f.size||[],m=j(k(f.width,g[0]),d),o=j(k(f.height,g[1]),e),p=h.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),q=c&&c.type,r=i.retrieveTargetInfo(c,a),s="treemapRender"===q||"treemapMove"===q?c.rootRect:null,t=a.getViewRoot();"treemapMove"!==q&&(x="treemapZoomToNode"===q?u(a,r,t,m,o):s?[s.width,s.height]:[m,o],y=f.sort,y&&"asc"!==y&&"desc"!==y&&(y="desc"),z={squareRatio:f.squareRatio,sort:y,leafDepth:f.leafDepth},t.setLayout({x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]}),n(t,z,!1,0)),t.setLayout(v(p,s,r),!0),a.setLayoutInfo(p),w(a.getData().tree.root,new l(-p.x,-p.y,d,e),i.getPathToRoot(t))})}function n(a,b,c,f){var g,h,i,j,k,l,m,p,q,r,u,v,w,x,y,z,A,B,C;if(!a.isRemoved()&&(i=a.getLayout(),g=i.width,h=i.height,j=a.getModel("itemStyle.normal"),k=j.get("borderWidth"),l=j.get("gapWidth")/2,m=k-l,p=a.getModel(),a.setLayout({borderWidth:k},!0),g=d(g-2*m,0),h=d(h-2*m,0),q=g*h,r=o(a,p,q,b,c,f),r.length)){for(u={x:m,y:m,width:g,height:h},v=e(g,h),w=1/0,x=[],x.area=0,y=0,z=r.length;z>y;)A=r[y],x.push(A),x.area+=A.getLayout().area,B=s(x,v,b.squareRatio),w>=B?(y++,w=B):(x.area-=x.pop().getLayout().area,t(x,v,u,l,!1),v=e(u.width,u.height),x.length=x.area=0,w=1/0);for(x.length&&t(x,v,u,l,!0),c||(C=p.get("childrenVisibleMin"),null!=C&&C>q&&(c=!0)),y=0,z=r.length;z>y;y++)n(r[y],b,c,f+1)}}function o(a,b,c,d,e,g){var j,k,l,m,n,h=a.children||[],i=d.sort;if("asc"!==i&&"desc"!==i&&(i=null),j=null!=d.leafDepth&&d.leafDepth<=g,e&&!j)return a.viewChildren=[];if(h=f.filter(h,function(a){return!a.isRemoved()}),q(h,i),k=r(b,h,i),0===k.sum)return a.viewChildren=[];if(k.sum=p(b,c,k.sum,i,h),0===k.sum)return a.viewChildren=[];for(l=0,m=h.length;m>l;l++)n=h[l].getValue()/k.sum*c,h[l].setLayout({area:n});return j&&(h.length&&a.setLayout({isLeafRoot:!0},!0),h.length=0),a.viewChildren=h,a.setLayout({dataExtent:k.dataExtent},!0),h}function p(a,b,c,d,e){var f,g,h,i,j;if(!d)return c;for(f=a.get("visibleMin"),g=e.length,h=g,i=g-1;i>=0;i--)j=e["asc"===d?g-i-1:i].getValue(),f>j/c*b&&(h=i,c-=j);return"asc"===d?e.splice(0,g-h):e.splice(h,g-h),c}function q(a,b){return b&&a.sort(function(a,c){return"asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue()}),a}function r(a,b,c){var e,g,h,i,d=0;for(e=0,g=b.length;g>e;e++)d+=b[e].getValue();return h=a.get("visualDimension"),b&&b.length?"value"===h&&c?(i=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&i.reverse()):(i=[1/0,-1/0],f.each(b,function(a){var b=a.getValue(h);b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b)})):i=[0/0,0/0],{sum:d,dataExtent:i}}function s(a,b,c){var h,g,i,j,k,e=0,f=1/0;for(g=0,i=a.length;i>g;g++)h=a[g].getLayout().area,h&&(f>h&&(f=h),h>e&&(e=h));return j=a.area*a.area,k=b*b*c,j?d(k*e/j,j/(k*f)):1/0}function t(a,b,c,f,g){var n,o,p,q,r,s,t,u,v,h=b===c.width?0:1,i=1-h,j=["x","y"],k=["width","height"],l=c[j[h]],m=b?a.area/b:0;for((g||m>c[k[i]])&&(m=c[k[i]]),n=0,o=a.length;o>n;n++)p=a[n],q={},r=m?p.getLayout().area/m:0,s=q[k[i]]=d(m-2*f,0),t=c[j[h]]+c[k[h]]-l,u=n===o-1||r>t?t:r,v=q[k[h]]=d(u-2*f,0),q[j[i]]=c[j[i]]+e(f,s/2),q[j[h]]=l+e(f,v/2),l+=u,p.setLayout(q,!0);c[j[i]]+=m,c[k[i]]-=m}function u(a,b,c,d,e){var i,j,k,l,m,n,o,p,q,r,f=(b||{}).node,h=[d,e];if(!f||f===c)return h;for(j=d*e,k=j*a.option.zoomToNodeRatio;i=f.parentNode;){for(l=0,m=i.children,n=0,o=m.length;o>n;n++)l+=m[n].getValue();if(p=f.getValue(),0===p)return h;k*=l/p,q=i.getModel("itemStyle.normal").get("borderWidth"),isFinite(q)&&(k+=4*q*q+4*q*Math.pow(k,.5)),k>g.MAX_SAFE_INTEGER&&(k=g.MAX_SAFE_INTEGER),f=i}return j>k&&(k=j),r=Math.pow(k/j,.5),[d*r,e*r]}function v(a,b,c){var d,e,f,g,h,i;if(b)return{x:b.x,y:b.y};if(d={x:0,y:0},!c)return d;if(e=c.node,f=e.getLayout(),!f)return d;for(g=[f.width/2,f.height/2],h=e;h;)i=h.getLayout(),g[0]+=i.x,g[1]+=i.y,h=h.parentNode;return{x:a.width/2-g[0],y:a.height/2-g[1]}}function w(a,b,c){var e,f,g,h,d=a.getLayout();for(a.setLayout({invisible:d?!b.intersect(d):!i.aboveViewRootByViewPath(c,a)},!0),e=a.viewChildren||[],f=0,g=e.length;g>f;f++)h=new l(b.x-d.x,b.y-d.y,b.width,b.height),w(e[f],h,c)}var d=Math.max,e=Math.min,f=c(3),g=c(7),h=c(21),i=c(181),j=g.parsePercent,k=f.retrieve,l=c(15);i=c(181),a.exports=m},function(a,b,c){var d=c(1),e=c(3);c(190),c(193),c(197),d.registerProcessor("filter",c(198)),d.registerVisualCoding("chart",e.curry(c(103),"graph","circle",null)),d.registerVisualCoding("chart",c(199)),d.registerLayout(c(200)),d.registerLayout(c(202)),d.registerLayout(c(204)),d.registerCoordinateSystem("graphView",{create:c(206)})},function(a,b,c){"use strict";var d=c(94),e=c(3),f=c(191),g=c(1).extendSeriesModel({type:"series.graph",init:function(){g.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(){g.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getInitialData:function(a){var e,g,h,c=a.edges||a.links,d=a.data||a.nodes;return d&&c?(e=f(d,c,this,!0),g=e.data,h=this,g.wrapMethod("getItemModel",function(a){var b=h._categoriesModels,c=a.getShallow("category"),d=b[c];return d&&(d.parentModel=a.parentModel,a.parentModel=d),a}),g):void 0},restoreData:function(){g.superApply(this,"restoreData",arguments),this.getGraph().restoreData()},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},_updateCategoriesData:function(){var a=e.map(this.option.categories||[],function(a){return null!=a.value?a:e.extend({value:0},a)}),b=new d(["value"],this);b.initData(a),this._categoriesData=b,this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setRoamZoom:function(a){var b=this.option.roamDetail;b&&(b.zoom=a)},setRoamPan:function(a,b){var c=this.option.roamDetail;c&&(c.x=a,c.y=b)},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,draggable:!1,roam:!1,roamDetail:{x:0,y:0,zoom:1},nodeScaleRatio:.6,label:{normal:{show:!1},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});a.exports=g},function(a,b,c){var d=c(94),e=c(192),f=c(180),g=c(96),h=c(3);a.exports=function(a,b,c,i){var k,l,m,n,o,p,q,j=new e(i);for(k=0;k<a.length;k++)j.addNode(h.retrieve(a[k].id,a[k].name,k),k);for(l=[],m=[],k=0;k<b.length;k++)n=b[k],j.addEdge(n.source,n.target,k)&&(m.push(n),l.push(h.retrieve(n.id,n.source+" - "+n.target)));return o=g(["value"],a),p=new d(o,c),q=new d(["value"],c),p.initData(a),q.initData(m,l),j.setEdgeData(q),f.linkToGraph(p,j),j.update(),j}},function(a,b,c){"use strict";function g(a,b){this.id=null==a?"":a,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==b?-1:b}function h(a,b,c){this.node1=a,this.node2=b,this.dataIndex=null==c?-1:c}var i,d=c(3),e=function(a){this._directed=a||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},f=e.prototype;f.type="graph",f.isDirected=function(){return this._directed},f.addNode=function(a,b){var d,c=this._nodesMap;if(!c[a])return d=new g(a,b),d.hostGraph=this,this.nodes.push(d),c[a]=d,d},f.getNodeByIndex=function(a){var b=this.data.getRawIndex(a);return this.nodes[b]},f.getNodeById=function(a){return this._nodesMap[a]},f.addEdge=function(a,b,c){var f,i,d=this._nodesMap,e=this._edgesMap;return a instanceof g||(a=d[a]),b instanceof g||(b=d[b]),a&&b&&(f=a.id+"-"+b.id,!e[f])?(i=new h(a,b,c),i.hostGraph=this,this._directed&&(a.outEdges.push(i),b.inEdges.push(i)),a.edges.push(i),a!==b&&b.edges.push(i),this.edges.push(i),e[f]=i,i):void 0},f.getEdgeByIndex=function(a){var b=this.edgeData.getRawIndex(a);return this.edges[b]},f.getEdge=function(a,b){a instanceof g&&(a=a.id),b instanceof g&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]},f.eachNode=function(a,b){var e,c=this.nodes,d=c.length;for(e=0;d>e;e++)c[e].dataIndex>=0&&a.call(b,c[e],e)},f.eachEdge=function(a,b){var e,c=this.edges,d=c.length;for(e=0;d>e;e++)c[e].dataIndex>=0&&c[e].node1.dataIndex>=0&&c[e].node2.dataIndex>=0&&a.call(b,c[e],e)},f.breadthFirstTraverse=function(a,b,c,d){var e,f,h,i,j,k,l;if(b instanceof g||(b=this._nodesMap[b]),b){for(e="out"===c?"outEdges":"in"===c?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!a.call(d,b,null))for(h=[b];h.length;)for(i=h.shift(),j=i[e],f=0;f<j.length;f++)if(k=j[f],l=k.node1===i?k.node2:k.node1,!l.__visited){if(a.call(l,l,i))return;h.push(l),l.__visited=!0}}},f.update=function(){var e,f,a=this.data,b=this.edgeData,c=this.nodes,d=this.edges;for(e=0,f=c.length;f>e;e++)c[e].dataIndex=-1;for(e=0,f=a.count();f>e;e++)c[a.getRawIndex(e)].dataIndex=e;for(b.filterSelf(function(a){var c=d[b.getRawIndex(a)];return c.node1.dataIndex>=0&&c.node2.dataIndex>=0}),e=0,f=d.length;f>e;e++)d[e].dataIndex=-1;for(e=0,f=b.count();f>e;e++)d[b.getRawIndex(e)].dataIndex=e},f.setEdgeData=function(a){this.edgeData=a,this._edgeDataSaved=a.cloneShallow()},f.restoreData=function(){this.edgeData=this._edgeDataSaved.cloneShallow()},f.clone=function(){var d,f,a=new e(this._directed),b=this.nodes,c=this.edges;for(d=0;d<b.length;d++)a.addNode(b[d].id,b[d].dataIndex);for(d=0;d<c.length;d++)f=c[d],a.addEdge(f.node1.id,f.node2.id,f.dataIndex);return a},g.prototype={constructor:g,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){var b,c;if(!(this.dataIndex<0))return b=this.hostGraph,c=b.data.getItemModel(this.dataIndex),c.getModel(a)}},h.prototype.getModel=function(a){var b,c;if(!(this.dataIndex<0))return b=this.hostGraph,c=b.edgeData.getItemModel(this.dataIndex),c.getModel(a)},i=function(a,b){return{getValue:function(c){var d=this[a][b];return d.get(d.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,d){this.dataIndex>=0&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){this.dataIndex>=0&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}},d.mixin(g,i("hostGraph","data")),d.mixin(h,i("hostGraph","edgeData")),e.Node=g,e.Edge=h,a.exports=e},function(a,b,c){var d=c(98),e=c(194),f=c(159),g=c(5),h=c(42);c(1).extendChartView({type:"graph",init:function(a,b){var c=new d,g=new e,h=this.group,i=new f(b.getZr(),h);h.add(c.group),h.add(g.group),this._symbolDraw=c,this._lineDraw=g,this._controller=i,this._firstRender=!0},render:function(a,b,c){var e,f,i,j,k,l,m,n,o,p,d=a.coordinateSystem;("geo"===d.type||"view"===d.type)&&(e=a.getData(),this._model=a,f=this._symbolDraw,i=this._lineDraw,f.updateData(e),j=e.graph.edgeData,k=a.option,l=g.createDataFormatModel(a,j,k.edges||k.links),l.formatTooltip=function(a){var b=this.getDataParams(a),c=e.graph.getEdgeByIndex(a),d=e.getName(c.node1.dataIndex),f=e.getName(c.node2.dataIndex),g=d+" > "+f;return b.value&&(g+=" : "+b.value),g},i.updateData(j,null,null),j.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=l})}),m=this.group,n={position:d.position,scale:d.scale},this._firstRender?m.attr(n):h.updateProps(m,n,a),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(),this._updateController(a,d,c),clearTimeout(this._layoutTimeout),o=a.forceLayout,p=a.get("force.layoutAnimation"),o&&this._startForceLayoutIteration(o,p),e.eachItemGraphicEl(function(a,b){var c=e.getItemModel(b).get("draggable");c&&o?a.on("drag",function(){o.warmUp(),!this._layouting&&this._startForceLayoutIteration(o,p),o.setFixed(b),e.setItemLayout(b,a.position)},this).on("dragend",function(){o.setUnfixed(b)},this):a.off("drag"),a.setDraggable(c)},this),this._firstRender=!1)},_startForceLayoutIteration:function(a,b){var c=this;!function d(){a.step(function(a){c.updateLayout(),(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(d,16):d())})}()},_updateController:function(a,b,c){var d=this._controller;d.rect=b.getViewRect(),d.enable(a.get("roam")),d.off("pan").off("zoom").on("pan",function(b,d){c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b,dy:d})}).on("zoom",function(b,d,e){c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b,originX:d,originY:e})}).on("zoom",this._updateNodeAndLinkScale,this)},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),c=this.group,d=this._nodeScaleRatio,e=c.scale[0],f=(e-1)*d+1,g=[f/e,f/e];b.eachItemGraphicEl(function(a){a.attr("scale",g)})},updateLayout:function(){this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(a,b,c){function f(a){this._ctor=a||e,this.group=new d.Group}var d=c(42),e=c(195),g=f.prototype;g.updateData=function(a,b,c){var d=this._lineData,e=this.group,f=this._ctor;a.diff(d).add(function(d){var g=new f(a,b,c,d);a.setItemGraphicEl(d,g),e.add(g)}).update(function(f,g){var h=d.getItemGraphicEl(g);h.updateData(a,b,c,f),a.setItemGraphicEl(f,h),e.add(h)}).remove(function(a){e.remove(d.getItemGraphicEl(a))}).execute(),this._lineData=a,this._fromData=b,this._toData=c},g.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,this._fromData,this._toData,c)},this)},g.remove=function(){this.group.removeAll()},a.exports=f},function(a,b,c){function j(a,b,c){var i,e=b.getItemVisual(c,"color"),f=b.getItemVisual(c,"symbol"),g=b.getItemVisual(c,"symbolSize");if("none"!==f)return h.isArray(g)||(g=[g,g]),i=d.createSymbol(f,-g[0]/2,-g[1]/2,g[0],g[1],e),i.name=a,i}function k(a){var b=new f({name:"line",style:{strokeNoScale:!0}});return l(b.shape,a),b}function l(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0],a.y1=c[1],a.x2=d[0],a.y2=d[1],a.percent=1,e&&(a.cpx1=e[0],a.cpy1=e[1])}function m(a){return"symbol"===a.type&&"arrow"===a.shape.symbolType}function n(){var c,d,f,g,h,i,j,k,l,a=this,b=a.childOfName("line");(this.__dirty||b.__dirty)&&(c=a.childOfName("fromSymbol"),d=a.childOfName("toSymbol"),f=a.childOfName("label"),g=b.pointAt(0),h=b.pointAt(b.shape.percent),i=e.sub([],h,g),e.normalize(i,i),c&&(c.attr("position",g),m(c)&&c.attr("rotation",o(h,g))),d&&(d.attr("position",h),m(d)&&d.attr("rotation",o(g,h))),f.attr("position",h),"end"===f.__position?(j=[5*i[0]+h[0],5*i[1]+h[1]],k=i[0]>.8?"left":i[0]<-.8?"right":"center",l=i[1]>.8?"top":i[1]<-.8?"bottom":"middle"):(j=[5*-i[0]+g[0],5*-i[1]+g[1]],k=i[0]>.8?"right":i[0]<-.8?"left":"center",l=i[1]>.8?"bottom":i[1]<-.8?"top":"middle"),f.attr({style:{textVerticalAlign:f.__verticalAlign||l,textAlign:f.__textAlign||k},position:j}))}function o(a,b){return-Math.PI/2-Math.atan2(b[1]-a[1],b[0]-a[0])}function p(a,b,c,d){g.Group.call(this),this._createLine(a,b,c,d)}var d=c(100),e=c(16),f=c(196),g=c(42),h=c(3),i=c(7),q=p.prototype;q.beforeUpdate=n,q._createLine=function(a,b,c,d){var i,l,m,e=a.hostModel,f=a.getItemLayout(d),h=k(f);h.shape.percent=0,g.initProps(h,{shape:{percent:1}},e),this.add(h),i=new g.Text({name:"label"}),this.add(i),b&&(l=j("fromSymbol",b,d),this.add(l),this._fromSymbolType=b.getItemVisual(d,"symbol")),c&&(m=j("toSymbol",c,d),this.add(m),this._toSymbolType=c.getItemVisual(d,"symbol")),this._updateCommonStl(a,b,c,d)},q.updateData=function(a,b,c,d){var k,m,n,o,e=a.hostModel,f=this.childOfName("line"),h=a.getItemLayout(d),i={shape:{}};l(i.shape,h),g.updateProps(f,i,e),b&&(k=b.getItemVisual(d,"symbol"),this._fromSymbolType!==k&&(m=j("fromSymbol",b,d),this.remove(this.childOfName("fromSymbol")),this.add(m)),this._fromSymbolType=k),c&&(n=c.getItemVisual(d,"symbol"),n!==this._toSymbolType&&(o=j("toSymbol",c,d),this.remove(this.childOfName("toSymbol")),this.add(o)),this._toSymbolType=n),this._updateCommonStl(a,b,c,d)},q._updateCommonStl=function(a,b,c,d){var p,e=a.hostModel,f=this.childOfName("line"),j=a.getItemModel(d),k=j.getModel("label.normal"),l=k.getModel("textStyle"),m=j.getModel("label.emphasis"),n=m.getModel("textStyle"),o=i.round(e.getRawValue(d));isNaN(o)&&(o=a.getName(d)),f.setStyle(h.extend({stroke:a.getItemVisual(d,"color")},j.getModel("lineStyle.normal").getLineStyle())),p=this.childOfName("label"),p.setStyle({text:k.get("show")?h.retrieve(e.getFormattedLabel(d,"normal"),o):"",textFont:l.getFont(),fill:l.getTextColor()||a.getItemVisual(d,"color")}),p.hoverStyle={text:m.get("show")?h.retrieve(e.getFormattedLabel(d,"emphasis"),o):"",textFont:n.getFont(),fill:n.getTextColor()},p.__textAlign=l.get("align"),p.__verticalAlign=l.get("baseline"),p.__position=k.get("position"),g.setHoverStyle(this,j.getModel("lineStyle.emphasis").getLineStyle())},q.updateLayout=function(a,b,c,d){var e=a.getItemLayout(d),f=this.childOfName("line");l(f.shape,e),f.dirty(!0)},h.inherits(p,g.Group),a.exports=p},function(a,b,c){var d=c(42),e=d.Line.prototype,f=d.BezierCurve.prototype;a.exports=d.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(null==b.cpx1||null==b.cpy1?e:f).buildPath(a,b)},pointAt:function(a){var b=this.shape;return null==b.cpx1||null==b.cpy1?e.pointAt.call(this,a):f.pointAt.call(this,a)}})},function(a,b,c){var d=c(1),e=c(162),f={type:"graphRoam",event:"graphRoam",update:"none"};d.registerAction(f,function(a,b){b.eachComponent({mainType:"series",query:a},function(b){var c=b.coordinateSystem,d=b.getModel("roamDetail"),f=e.calcPanAndZoom(d,a);b.setRoamPan&&b.setRoamPan(f.x,f.y),b.setRoamZoom&&b.setRoamZoom(f.zoom),c&&c.setPan(f.x,f.y),c&&c.setZoom(f.zoom)})})},function(a){a.exports=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),d=a.getGraph(),e=d.data,f=c.mapArray(c.getName);e.filterSelf(function(a){var g,c=e.getItemModel(a),d=c.getShallow("category");if(null!=d)for("number"==typeof d&&(d=f[d]),g=0;g<b.length;g++)if(!b[g].isSelected(d))return!1;return!0})},this)}},function(a){a.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.get("color"),c=a.getCategoriesData(),d=a.getData(),e={};c.each(function(a){var d,f,g;e[c.getName(a)]=a,d=c.getItemModel(a),f=c.getRawIndex(a),g=d.get("itemStyle.normal.color")||b[f%b.length],c.setItemVisual(a,"color",g)}),c.count()&&d.each(function(a){var b=d.getItemModel(a),f=b.getShallow("category");null!=f&&("string"==typeof f&&(f=e[f]),d.setItemVisual(a,"color",c.getItemVisual(f,"color")))})})}},function(a,b,c){var d=c(201);a.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.get("layout");b&&"none"!==b||d(a)})}},function(a){a.exports=function(a){var c,b=a.coordinateSystem;b&&"view"!==b.type||(c=a.getGraph(),c.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),c.eachEdge(function(a){var e,b=a.getModel().get("lineStyle.normal.curveness")||0,c=a.node1.getLayout(),d=a.node2.getLayout();b>0&&(e=[(c[0]+d[0])/2-(c[1]-d[1])*b,(c[1]+d[1])/2-(d[0]-c[0])*b]),a.setLayout([c,d,e])}))}},function(a,b,c){var d=c(203);a.exports=function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&d(a)})}},function(a){a.exports=function(a){var c,d,e,f,g,h,i,j,k,b=a.coordinateSystem;b&&"view"!==b.type||(c=b.getBoundingRect(),d=a.getData(),e=d.graph,f=0,g=d.getSum("value"),h=2*Math.PI/(g||d.count()),i=c.width/2+c.x,j=c.height/2+c.y,k=Math.min(c.width,c.height)/2,e.eachNode(function(a){var b=a.getValue("value");f+=h*(g?b:2)/2,a.setLayout([k*Math.cos(f)+i,k*Math.sin(f)+j]),f+=h*(g?b:2)/2}),e.eachEdge(function(a){var e,b=a.getModel().get("lineStyle.normal.curveness")||0,c=a.node1.getLayout(),d=a.node2.getLayout();b>0&&(e=[i,j]),a.setLayout([c,d,e])}))}},function(a,b,c){var d=c(205),e=c(7),f=c(201),g=c(203),h=c(16);a.exports=function(a){a.eachSeriesByType("graph",function(a){var b,c,i,j,k,l,m,n,o,p,q,r,s,t,u;"force"===a.get("layout")?(b=a.preservedPoints||{},c=a.getGraph(),i=c.data,j=c.edgeData,k=a.getModel("force"),l=k.get("initLayout"),a.preservedPoints?i.each(function(a){var c=i.getId(a);i.setItemLayout(a,b[c]||[0/0,0/0])}):l&&"none"!==l?"circular"===l&&g(a):f(a),m=i.getDataExtent("value"),n=k.get("repulsion"),o=k.get("edgeLength"),p=i.mapArray("value",function(a,b){var c=i.getItemLayout(b),d=e.linearMap(a,m,[0,n])||n/2;return{w:d,rep:d,p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),q=j.mapArray("value",function(a,b){var d=c.getEdgeByIndex(b);return{n1:p[d.node1.dataIndex],n2:p[d.node2.dataIndex],d:o,curveness:d.getModel().get("lineStyle.normal.curveness")||0}}),r=a.coordinateSystem,s=r.getBoundingRect(),t=d(p,q,{rect:s,gravity:k.get("gravity")}),u=t.step,t.step=function(a){for(var d=0,e=p.length;e>d;d++)p[d].fixed&&h.copy(p[d].p,c.getNodeByIndex(d).getLayout());u(function(d,e,f){var g,h,j,k,l,m;for(g=0,h=d.length;h>g;g++)d[g].fixed||c.getNodeByIndex(g).setLayout(d[g].p),b[i.getId(g)]=d[g].p;for(g=0,h=e.length;h>g;g++)j=e[g],k=j.n1.p,l=j.n2.p,m=[k,l],j.curveness>0&&m.push([(k[0]+l[0])/2-(k[1]-l[1])*j.curveness,(k[1]+l[1])/2-(l[0]-k[0])*j.curveness]),c.getEdgeByIndex(g).setLayout(m);a&&a(f)})},a.forceLayout=t,a.preservedPoints=b,t.step()):a.forceLayout=null})}},function(a,b,c){var d=c(16),e=d.scaleAndAdd;a.exports=function(a,b,c){var k,l,m,f=c.rect,g=f.width,h=f.height,i=[f.x+g/2,f.y+h/2],j=null==c.gravity?.1:c.gravity;for(k=0;k<a.length;k++)l=a[k],l.p||(l.p=d.create(g*(Math.random()-.5)+i[0],h*(Math.random()-.5)+i[1])),l.pp=d.clone(l.p),l.edges=null;return m=.6,{warmUp:function(){m=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(c){var h,k,l,n,o,p,q,r,s,t,f=[],g=a.length;for(h=0;h<b.length;h++)k=b[h],l=k.n1,n=k.n2,d.sub(f,n.p,l.p),o=d.len(f)-k.d,p=n.w/(l.w+n.w),d.normalize(f,f),!l.fixed&&e(l.p,l.p,f,p*o*m),!n.fixed&&e(n.p,n.p,f,-(1-p)*o*m);for(h=0;g>h;h++)q=a[h],q.fixed||(d.sub(f,i,q.p),d.scaleAndAdd(q.p,q.p,f,j*m));for(h=0;g>h;h++)for(l=a[h],r=h+1;g>r;r++)n=a[r],d.sub(f,n.p,l.p),o=d.len(f),0===o&&(d.set(f,Math.random()-.5,Math.random()-.5),o=1),s=(l.rep+n.rep)/o/o,!l.fixed&&e(l.pp,l.pp,f,s),!n.fixed&&e(n.pp,n.pp,f,-s);for(t=[],h=0;g>h;h++)q=a[h],q.fixed||(d.sub(t,q.p,q.pp),d.scaleAndAdd(q.p,q.p,t,m),d.copy(q.pp,q.p));m=.992*m,c&&c(a,b,.01>m)}}}},function(a,b,c){function g(a,b,c){var d=a.getBoxLayoutParams();return d.aspect=c,e.getLayoutRect(d,{width:b.getWidth(),height:b.getHeight()})}var d=c(169),e=c(21),f=c(50);a.exports=function(a,b){var c=[];return a.eachSeriesByType("graph",function(a){var h,i,j,k,l,m,n,o,p,q,r,e=a.get("coordinateSystem");e&&"view"!==e||(h=new d,c.push(h),i=a.getData(),j=i.mapArray(function(a){var b=i.getItemModel(a);return[+b.get("x"),+b.get("y")]}),k=[],l=[],f.fromPoints(j,k,l),m=g(a,b,(l[0]-k[0])/(l[1]-k[1])||1),(isNaN(k[0])||isNaN(k[1]))&&(k=[m.x,m.y],l=[m.x+m.width,m.y+m.height]),n=l[0]-k[0],o=l[1]-k[1],p=m.width,q=m.height,h=a.coordinateSystem=new d,h.setBoundingRect(k[0],k[1],n,o),h.setViewRect(m.x,m.y,p,q),r=a.getModel("roamDetail"),h.setPan(r.get("x")||0,r.get("y")||0),h.setZoom(r.get("zoom")||1))}),c}},function(a,b,c){c(208),c(209)},function(a,b,c){var d=c(94),e=c(27),f=c(3),g=e.extend({type:"series.gauge",getInitialData:function(a){var c=new d(["value"],this),e=a.data||[];return f.isArray(e)||(e=[e]),c.initData(e),c},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});a.exports=g},function(a,b,c){function h(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight(),f=Math.min(d,e),h=g(c[0],b.getWidth()),i=g(c[1],b.getHeight()),j=g(a.get("radius"),f/2);return{cx:h,cy:i,r:j}}function i(a,b){return b&&("string"==typeof b?a=b.replace("{value}",a):"function"==typeof b&&(a=b(a))),a}var d=c(210),e=c(42),f=c(7),g=f.parsePercent,j=2*Math.PI,k=c(41).extend({type:"gauge",render:function(a,b,c){var d,e;this.group.removeAll(),d=a.get("axisLine.lineStyle.color"),e=h(a,c),this._renderMain(a,b,c,d,e)},_renderMain:function(a,b,c,d,f){var q,r,s,t,g=this.group,h=a.getModel("axisLine"),i=h.getModel("lineStyle"),k=a.get("clockwise"),l=-a.get("startAngle")/180*Math.PI,m=-a.get("endAngle")/180*Math.PI,n=(m-l)%j,o=l,p=i.get("width");for(q=0;q<d.length;q++)m=l+n*d[q][0],r=new e.Sector({shape:{startAngle:o,endAngle:m,cx:f.cx,cy:f.cy,clockwise:k,r0:f.r-p,r:f.r},silent:!0}),r.setStyle({fill:d[q][1]}),r.setStyle(i.getLineStyle(["color","borderWidth","borderColor"])),g.add(r),o=m;s=function(a){if(0>=a)return d[0][1];for(var b=0;b<d.length;b++)if(d[b][0]>=a&&(0===b?0:d[b-1][0])<a)return d[b][1];return d[b-1][1]},k||(t=l,l=m,m=t),this._renderTicks(a,b,c,s,f,l,m,k),this._renderPointer(a,b,c,s,f,l,m,k),this._renderTitle(a,b,c,s,f),this._renderDetail(a,b,c,s,f)},_renderTicks:function(a,b,c,d,h,j,k){var F,G,H,I,J,K,L,M,m=this.group,n=h.cx,o=h.cy,p=h.r,q=a.get("min"),r=a.get("max"),s=a.getModel("splitLine"),t=a.getModel("axisTick"),u=a.getModel("axisLabel"),v=a.get("splitNumber"),w=t.get("splitNumber"),x=g(s.get("length"),p),y=g(t.get("length"),p),z=j,A=(k-j)/v,B=A/w,C=s.getModel("lineStyle").getLineStyle(),D=t.getModel("lineStyle").getLineStyle(),E=u.getModel("textStyle");for(F=0;v>=F;F++)if(G=Math.cos(z),H=Math.sin(z),s.get("show")&&(I=new e.Line({shape:{x1:G*p+n,y1:H*p+o,x2:G*(p-x)+n,y2:H*(p-x)+o},style:C,silent:!0}),"auto"===C.stroke&&I.setStyle({stroke:d(F/v)}),m.add(I)),u.get("show")&&(J=i(f.round(F/v*(r-q)+q),u.get("formatter")),K=new e.Text({style:{text:J,x:G*(p-x-5)+n,y:H*(p-x-5)+o,fill:E.getTextColor(),textFont:E.getFont(),textVerticalAlign:-.4>H?"top":H>.4?"bottom":"middle",textAlign:-.4>G?"left":G>.4?"right":"center"},silent:!0}),"auto"===K.style.fill&&K.setStyle({fill:d(F/v)}),m.add(K)),t.get("show")&&F!==v){for(L=0;w>=L;L++)G=Math.cos(z),H=Math.sin(z),M=new e.Line({shape:{x1:G*p+n,y1:H*p+o,x2:G*(p-y)+n,y2:H*(p-y)+o},silent:!0,style:D}),"auto"===D.stroke&&M.setStyle({stroke:d((F+L/w)/v)}),m.add(M),z+=B;z-=B}else z+=A},_renderPointer:function(a,b,c,h,i,j,k,l){var p,q,r,m=f.linearMap,n=[+a.get("min"),+a.get("max")],o=[j,k];l||(o=o.reverse()),p=a.getData(),q=this._data,r=this.group,p.diff(q).add(function(b){var c=new d({shape:{angle:j}});e.updateProps(c,{shape:{angle:m(p.get("value",b),n,o)}},a),r.add(c),p.setItemGraphicEl(b,c)}).update(function(b,c){var d=q.getItemGraphicEl(c);e.updateProps(d,{shape:{angle:m(p.get("value",b),n,o)}},a),r.add(d),p.setItemGraphicEl(b,d)}).remove(function(a){var b=q.getItemGraphicEl(a);r.remove(b)}).execute(),p.eachItemGraphicEl(function(a,b){var c=p.getItemModel(b),d=c.getModel("pointer");a.attr({shape:{x:i.cx,y:i.cy,width:g(d.get("width"),i.r),r:g(d.get("length"),i.r)},style:c.getModel("itemStyle.normal").getItemStyle()}),"auto"===a.style.fill&&a.setStyle("fill",h((p.get("value",b)-n[0])/(n[1]-n[0]))),e.setHoverStyle(a,c.getModel("itemStyle.emphasis").getItemStyle())
}),this._data=p},_renderTitle:function(a,b,c,d,f){var i,j,k,l,m,h=a.getModel("title");h.get("show")&&(i=h.getModel("textStyle"),j=h.get("offsetCenter"),k=f.cx+g(j[0],f.r),l=f.cy+g(j[1],f.r),m=new e.Text({style:{x:k,y:l,text:a.getData().getName(0),fill:i.getTextColor(),textFont:i.getFont(),textAlign:"center",textVerticalAlign:"middle"}}),this.group.add(m))},_renderDetail:function(a,b,c,d,f){var l,m,n,o,p,q,r,s,h=a.getModel("detail"),j=a.get("min"),k=a.get("max");h.get("show")&&(l=h.getModel("textStyle"),m=h.get("offsetCenter"),n=f.cx+g(m[0],f.r),o=f.cy+g(m[1],f.r),p=g(h.get("width"),f.r),q=g(h.get("height"),f.r),r=a.getData().get("value",0),s=new e.Rect({shape:{x:n-p/2,y:o-q/2,width:p,height:q},style:{text:i(r,h.get("formatter")),fill:h.get("backgroundColor"),textFill:l.getTextColor(),textFont:l.getFont()}}),"auto"===s.style.textFill&&s.setStyle("textFill",d((r-j)/(k-j))),s.setStyle(h.getItemStyle(["color"])),this.group.add(s))}});a.exports=k},function(a,b,c){a.exports=c(44).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),i=b.y-d(g)*f*(f>=e/3?1:2);g=b.angle-Math.PI/2,a.moveTo(h,i),a.lineTo(b.x+c(g)*f,b.y+d(g)*f),a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e),a.lineTo(b.x-c(g)*f,b.y-d(g)*f),a.lineTo(h,i)}})},function(a,b,c){var d=c(3),e=c(1);c(212),c(213),e.registerVisualCoding("chart",d.curry(c(137),"funnel")),e.registerLayout(c(214)),e.registerProcessor("filter",d.curry(c(140),"funnel"))},function(a,b,c){"use strict";var d=c(94),e=c(5),f=c(96),g=c(1).extendSeriesModel({type:"series.funnel",init:function(a){g.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(a)},getInitialData:function(a){var c=f(["value"],a.data),e=new d(c,this);return e.initData(a.data),e},_defaultLabelLine:function(a){var b,c;e.defaultEmphasis(a.labelLine,["show"]),b=a.labelLine.normal,c=a.labelLine.emphasis,b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});a.exports=g},function(a,b,c){function f(a,b){function g(){e.ignore=e.hoverIgnore,f.ignore=f.hoverIgnore}function h(){e.ignore=e.normalIgnore,f.ignore=f.normalIgnore}var c,e,f;d.Group.call(this),c=new d.Polygon,e=new d.Polyline,f=new d.Text,this.add(c),this.add(e),this.add(f),this.updateData(a,b,!0),this.on("emphasis",g).on("normal",h).on("mouseover",g).on("mouseout",h)}function h(a,b,c,d){var f=d.getModel("textStyle"),g=d.get("position"),h="inside"===g||"inner"===g||"center"===g;return{fill:f.getTextColor()||(h?"#fff":a.getItemVisual(b,"color")),textFont:f.getFont(),text:e.retrieve(a.hostModel.getFormattedLabel(b,c),a.getName(b))}}var j,d=c(42),e=c(3),g=f.prototype,i=["itemStyle","normal","opacity"];g.updateData=function(a,b,c){var l,m,f=this.childAt(0),g=a.hostModel,h=a.getItemModel(b),j=a.getItemLayout(b),k=a.getItemModel(b).get(i);k=null==k?1:k,c?(f.setShape({points:j.points}),f.setStyle({opacity:0}),d.initProps(f,{style:{opacity:k}},g)):d.updateProps(f,{style:{opacity:k},shape:{points:j.points}},g),l=h.getModel("itemStyle"),m=a.getItemVisual(b,"color"),f.setStyle(e.defaults({fill:m},l.getModel("normal").getItemStyle(["opacity"]))),f.hoverStyle=l.getModel("emphasis").getItemStyle(),this._updateLabel(a,b),d.setHoverStyle(this)},g._updateLabel=function(a,b){var l,m,n,o,c=this.childAt(1),e=this.childAt(2),f=a.hostModel,g=a.getItemModel(b),i=a.getItemLayout(b),j=i.label,k=a.getItemVisual(b,"color");d.updateProps(c,{shape:{points:j.linePoints||j.linePoints}},f),d.updateProps(e,{style:{x:j.x,y:j.y}},f),e.attr({style:{textAlign:j.textAlign,textVerticalAlign:j.verticalAlign,textFont:j.font},rotation:j.rotation,origin:[j.x,j.y],z2:10}),l=g.getModel("label.normal"),m=g.getModel("label.emphasis"),n=g.getModel("labelLine.normal"),o=g.getModel("labelLine.emphasis"),e.setStyle(h(a,b,"normal",l)),e.ignore=e.normalIgnore=!l.get("show"),e.hoverIgnore=!m.get("show"),c.ignore=c.normalIgnore=!n.get("show"),c.hoverIgnore=!o.get("show"),c.setStyle({stroke:k}),c.setStyle(n.getModel("lineStyle").getLineStyle()),e.hoverStyle=h(a,b,"emphasis",m),c.hoverStyle=o.getModel("lineStyle").getLineStyle()},e.inherits(f,d.Group),j=c(41).extend({type:"funnel",render:function(a){var d=a.getData(),e=this._data,g=this.group;d.diff(e).add(function(a){var b=new f(d,a);d.setItemGraphicEl(a,b),g.add(b)}).update(function(a,b){var c=e.getItemGraphicEl(b);c.updateData(d,a),g.add(c),d.setItemGraphicEl(a,c)}).remove(function(a){var b=e.getItemGraphicEl(a);g.remove(b)}).execute(),this._data=d},remove:function(){this.group.removeAll(),this._data=null}}),a.exports=j},function(a,b,c){function g(a,b){return d.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function h(a,b){var f,g,c=a.mapArray("value",function(a){return a}),d=[],e="ascending"===b;for(f=0,g=a.count();g>f;f++)d[f]=f;return d.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]}),d}function i(a){a.each(function(b){var j,k,l,m,n,o,p,q,r,c=a.getItemModel(b),d=c.getModel("label.normal"),e=d.get("position"),f=c.getModel("labelLine.normal"),g=a.getItemLayout(b),h=g.points,i="inner"===e||"inside"===e||"center"===e;i?(k=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,l=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,j="center",m=[[k,l],[k,l]]):(q=f.get("length"),"left"===e?(n=(h[3][0]+h[0][0])/2,o=(h[3][1]+h[0][1])/2,p=n-q,k=p-5,j="right"):(n=(h[1][0]+h[2][0])/2,o=(h[1][1]+h[2][1])/2,p=n+q,k=p+5,j="left"),r=o,m=[[n,o],[p,r]],l=r),g.label={linePoints:m,x:k,y:l,verticalAlign:"middle",textAlign:j,inside:i}})}var d=c(21),e=c(7),f=e.parsePercent;a.exports=function(a,b){a.eachSeriesByType("funnel",function(a){var p,q,r,s,t,u,v,w,x,y,c=a.getData(),d=a.get("sort"),j=g(a,b),k=h(c,d),l=[f(a.get("minSize"),j.width),f(a.get("maxSize"),j.width)],m=c.getDataExtent("value"),n=a.get("min"),o=a.get("max");for(null==n&&(n=Math.min(m[0],0)),null==o&&(o=m[1]),p=a.get("funnelAlign"),q=a.get("gap"),r=(j.height-q*(c.count()-1))/c.count(),s=j.y,t=function(a,b){var g,d=c.get("value",a)||0,f=e.linearMap(d,[n,o],l,!0);switch(p){case"left":g=j.x;break;case"center":g=j.x+(j.width-f)/2;break;case"right":g=j.x+j.width-f}return[[g,b],[g+f,b]]},"ascending"===d&&(r=-r,q=-q,s+=j.height,k=k.reverse()),u=0;u<k.length;u++)v=k[u],w=k[u+1],x=t(v,s),y=t(w,s+r),s+=r+q,c.setItemLayout(v,{points:x.concat(y.slice().reverse())});i(c)})}},function(a,b,c){var d=c(1);c(216),c(227),c(228),d.registerVisualCoding("chart",c(229))},function(a,b,c){c(217),c(220),c(222);var d=c(1);d.extendComponentView({type:"parallel"}),d.registerPreprocessor(c(226))},function(a,b,c){function e(a,b){var c=[];return a.eachComponent("parallel",function(e,f){var g=new d(e,a,b);g.name="parallel_"+f,g.resize(e,b),e.coordinateSystem=g,g.model=e,c.push(g)}),a.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var b=a.get("parallelIndex");a.coordinateSystem=c[b]}}),c}var d=c(218);c(25).register("parallel",{create:e})},function(a,b,c){function l(a,b,c){this._axesMap={},this._axesLayout={},this.dimensions=a.dimensions,this._rect,this._model=a,this._init(a,b,c)}var d=c(21),e=c(108),f=c(3),g=c(219),h=c(17),i=c(16),j=f.each,k=Math.PI;l.prototype={type:"parallel",constructor:l,_init:function(a,b){var d=a.dimensions,f=a.parallelAxisIndex;j(d,function(a,c){var d=f[c],h=b.getComponent("parallelAxis",d),i=this._axesMap[a]=new g(a,e.createScaleByModel(h),[0,0],h.get("type"),d),j="category"===i.type;i.onBand=j&&h.get("boundaryGap"),i.inverse=h.get("inverse"),h.axis=i,i.model=h},this)},update:function(a){this._updateAxesFromSeries(this._model,a)},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();j(this.dimensions,function(a){var b=this._axesMap[a];b.scale.unionExtent(d.getDataExtent(a)),e.niceScaleExtent(b,b.model)},this)}},this)},resize:function(a,b){this._rect=d.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),this._layoutAxes(a)},getRect:function(){return this._rect},_layoutAxes:function(a){var b=this._rect,c=a.get("layout"),d=this._axesMap,e=this.dimensions,f=[b.width,b.height],g="horizontal"===c?0:1,i=f[g],l=f[1-g],m=[0,l];j(d,function(a){var b=a.inverse?1:0;a.setExtent(m[b],m[1-b])}),j(e,function(a,d){var f=i*d/(e.length-1),g={horizontal:{x:f,y:l},vertical:{x:0,y:f}},j={horizontal:k/2,vertical:0},m=[g[c].x+b.x,g[c].y+b.y],n=j[c],o=h.create();h.rotate(o,o,n),h.translate(o,o,m),this._axesLayout[a]={position:m,rotation:n,transform:o,tickDirection:1,labelDirection:1}},this)},getAxis:function(a){return this._axesMap[a]},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap[b].dataToCoord(a),b)},eachActiveState:function(a,b,c){var g,h,i,j,k,l,m,n,d=this.dimensions,e=this._axesMap,f=!1;for(g=0,h=d.length;h>g;g++)"normal"!==e[d[g]].model.getActiveState()&&(f=!0);for(i=0,j=a.count();j>i;i++){if(k=a.getValues(d,i),f){for(l="active",g=0,h=d.length;h>g;g++)if(m=d[g],n=e[m].model.getActiveState(k[g],g),"inactive"===n){l="inactive";break}}else l="normal";b.call(c,l,i)}},axisCoordToPoint:function(a,b){var c=this._axesLayout[b],d=[a,0];return i.applyTransform(d,d,c.transform),d},getAxisLayout:function(a){return f.clone(this._axesLayout[a])}},a.exports=l},function(a,b,c){var d=c(3),e=c(117),f=function(a,b,c,d,f){e.call(this,a,b,c),this.type=d||"value",this.axisIndex=f};f.prototype={constructor:f,model:null},d.inherits(f,e),a.exports=f},function(a,b,c){var d=c(3),e=c(19);c(221),e.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&d.merge(b,a,!0),this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[],c=d.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});d.each(c,function(c){a.push("dim"+c.get("dim")),b.push(c.componentIndex)})}})},function(a,b,c){function k(a,b){return b.type||(b.data?"category":"value")}var d=c(19),e=c(3),f=c(11),g=c(121),h=c(7),i=d.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return f([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){var c,b=this.activeIntervals=e.clone(a);if(b)for(c=b.length-1;c>=0;c--)h.asc(b[c])},getActiveState:function(a){var c,d,b=this.activeIntervals;if(!b.length)return"normal";if(null==a)return"inactive";for(c=0,d=b.length;d>c;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}}),j={type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10};e.merge(i.prototype,c(123)),g("parallel",i,k,j),a.exports=i},function(a,b,c){c(217),c(223),c(224)},function(a,b,c){var d=c(1),e={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};d.registerAction(e,function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})})},function(a,b,c){function i(a,b,c){return c&&"axisAreaSelect"===c.type&&b.findComponents({mainType:"parallelAxis",query:c})[0]===a}var d=c(3),e=c(126),f=c(225),g=["axisLine","axisLabel","axisTick","axisName"],h=c(1).extendComponentView({type:"parallelAxis",_selectController:null,render:function(a,b,c,f){var h,j,k,l,m,n,o;i(a,b,f)||(this.axisModel=a,this.api=c,this.group.removeAll(),a.get("show")&&(h=b.getComponent("parallel",a.get("parallelIndex")).coordinateSystem,j=a.getAreaSelectStyle(),k=j.width,l=h.getAxisLayout(a.axis.dim),m=d.extend({strokeContainThreshold:k,axisLineSilent:!(k>0)},l),n=new e(a,m),d.each(g,n.add,n),o=n.getGroup(),this.group.add(o),this._buildSelectController(o,j,a,c)))},_buildSelectController:function(a,b,c,e){var i,g=c.axis,h=this._selectController;h||(h=this._selectController=new f("line",e.getZr(),b),h.on("selected",d.bind(this._onSelected,this))),h.enable(a),i=d.map(c.activeIntervals,function(a){return[g.dataToCoord(a[0],!0),g.dataToCoord(a[1],!0)]}),h.update(i)},_onSelected:function(a){var b=this.axisModel,c=b.axis,e=d.map(a,function(a){return[c.coordToData(a[0],!0),c.coordToData(a[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:b.id,intervals:e})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});a.exports=h},function(a,b,c){function o(a,b,c){d.call(this),this.type=a,this.zr=b,this.opt=e.clone(c),this.group=new f.Group,this._containerRect=null,this._track=[],this._dragging,this._cover,this._disabled=!0,this._handlers={mousedown:g(s,this),mousemove:g(t,this),mouseup:g(u,this)},h(n,function(a){this.zr.on(a,this._handlers[a])},this)}function p(a){a.traverse(function(a){a.z=l})}function q(a,b){var c=this.group.transformCoordToLocal(a,b);return!this._containerRect||this._containerRect.contain(c[0],c[1])}function r(a){var b=a.event;b.preventDefault&&b.preventDefault()}function s(a){var b,c;this._disabled||a.target&&a.target.draggable||(r(a),b=a.offsetX,c=a.offsetY,q.call(this,b,c)&&(this._dragging=!0,this._track=[[b,c]]))}function t(a){this._dragging&&!this._disabled&&(r(a),v.call(this,a))}function u(a){this._dragging&&!this._disabled&&(r(a),v.call(this,a,!0),this._dragging=!1,this._track=[])}function v(a,b){var f,c=a.offsetX,d=a.offsetY;q.call(this,c,d)&&(this._track.push([c,d]),f=w.call(this)?C[this.type].getRanges.call(this):[],x.call(this,f),this.trigger("selected",e.clone(f)),b&&this.trigger("selectEnd",e.clone(f)))}function w(){var b,c,d,e,f,a=this._track;return a.length?(b=a[a.length-1],c=a[0],d=b[0]-c[0],e=b[1]-c[1],f=k(d*d+e*e,.5),f>m):!1}function x(a){var b=C[this.type];a&&a.length?(this._cover||(this._cover=b.create.call(this),this.group.add(this._cover)),b.update.call(this,a)):(this.group.remove(this._cover),this._cover=null),p(this.group)}function y(){var a=this.group,b=a.parent;b&&b.remove(a)}function z(){var a=this.opt;return new f.Rect({style:{stroke:a.stroke,fill:a.fill,lineWidth:a.lineWidth,opacity:a.opacity}})}function A(){return e.map(this._track,function(a){return this.group.transformCoordToLocal(a[0],a[1])},this)}function B(){var a=A.call(this),b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}var C,d=c(32),e=c(3),f=c(42),g=e.bind,h=e.each,i=Math.min,j=Math.max,k=Math.pow,l=1e4,m=2,n=["mousedown","mousemove","mouseup"];o.prototype={constructor:o,enable:function(a,b){this._disabled=!1,y.call(this),this._containerRect=b!==!1?b||a.getBoundingRect():null,a.add(this.group)},update:function(a){x.call(this,a&&e.clone(a))},disable:function(){this._disabled=!0,y.call(this)},dispose:function(){this.disable(),h(n,function(a){this.zr.off(a,this._handlers[a])},this)}},e.mixin(o,d),C={line:{create:z,getRanges:function(){var a=B.call(this),b=i(a[0][0],a[1][0]),c=j(a[0][0],a[1][0]);return[[b,c]]},update:function(a){var b=a[0],c=this.opt.width;this._cover.setShape({x:b[0],y:-c/2,width:b[1]-b[0],height:c})}},rect:{create:z,getRanges:function(){var a=B.call(this),b=[i(a[1][0],a[0][0]),i(a[1][1],a[0][1])],c=[j(a[1][0],a[0][0]),j(a[1][1],a[0][1])];return[[[b[0],c[0]],[b[1],c[1]]]]},update:function(a){var b=a[0];this._cover.setShape({x:b[0][0],y:b[1][0],width:b[0][1]-b[0][0],height:b[1][1]-b[1][0]})}}},a.exports=o},function(a,b,c){function f(a){if(!a.parallel){var b=!1;d.each(a.series,function(a){a&&"parallel"===a.type&&(b=!0)}),b&&(a.parallel=[{}])}}function g(a){var b=e.normalizeToArray(a.parallelAxis);d.each(b,function(b){var c,f;d.isObject(b)&&(c=b.parallelIndex||0,f=e.normalizeToArray(a.parallel)[c],f&&f.parallelAxisDefault&&d.merge(b,f.parallelAxisDefault,!1))})}var d=c(3),e=c(5);a.exports=function(a){f(a),g(a)}},function(a,b,c){function g(a,b,c){var d=a.get("data"),f=+b.replace("dim","");d&&d.length&&e.each(c,function(a){if(a){var b=e.indexOf(d,a[f]);a[f]=b>=0?b:0/0}})}var d=c(94),e=c(3),f=c(27);a.exports=f.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(a,b){var c=b.getComponent("parallel",this.get("parallelIndex")),f=c.dimensions,h=c.parallelAxisIndex,i=a.data,j=e.map(f,function(a,c){var d=b.getComponent("parallelAxis",h[c]);return"category"===d.get("type")?(g(d,a,i),{name:a,type:"ordinal"}):a}),k=new d(j,this);return k.initData(i),k},getRawIndicesByActiveState:function(a){var b=this.coordinateSystem,c=this.getData(),d=[];return b.eachActiveState(c,function(b,e){a===b&&d.push(c.getRawIndex(e))}),d},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})},function(a,b,c){function g(a,b,c){var e=a.model,f=a.getRect(),g=new d.Rect({shape:{x:f.x,y:f.y,width:f.width,height:f.height}}),h="horizontal"===e.get("layout")?"width":"height";return g.setShape(h,0),d.initProps(g,{shape:{width:f.width,height:f.height}},b,c),g}function h(a,b,c,d){var e,f,g,h,i,k;for(e=0,f=b.length-1;f>e;e++)g=b[e],h=b[e+1],i=a[e],k=a[e+1],d(j(i,c.getAxis(g).type)||j(k,c.getAxis(h).type)?null:[c.dataToPoint(i,g),c.dataToPoint(k,h)],e)}function i(a){return new d.Polyline({shape:{points:a},silent:!0})}function j(a,b){return"category"===b?null==a:null==a||isNaN(a)}var d=c(42),e=c(3),f=c(41).extend({type:"parallel",init:function(){this._dataGroup=new d.Group,this.group.add(this._dataGroup),this._data},render:function(a){function o(a){var b=k.getValues(n,a),c=new d.Group;j.add(c),h(b,n,m,function(a){a&&c.add(i(a))}),k.setItemGraphicEl(a,c)}function p(b,c){var o,p,e=k.getValues(n,b),f=l.getItemGraphicEl(c),g=[],j=0;for(h(e,n,m,function(b){var e=f.childAt(j++);b&&!e?g.push(i(b)):b&&d.updateProps(e,{shape:{points:b}},a)}),o=f.childCount()-1;o>=j;o--)f.remove(f.childAt(o));for(o=0,p=g.length;p>o;o++)f.add(g[o]);k.setItemGraphicEl(b,f)}function q(a){var b=l.getItemGraphicEl(a);j.remove(b)}var j=this._dataGroup,k=a.getData(),l=this._data,m=a.coordinateSystem,n=m.dimensions;k.diff(l).add(o).update(p).remove(q).execute(),k.eachItemGraphicEl(function(a,b){var c=k.getItemModel(b),d=c.getModel("lineStyle.normal");a.eachChild(function(a){a.setStyle(e.extend(d.getLineStyle(),{stroke:k.getItemVisual(b,"color"),opacity:k.getItemVisual(b,"opacity")}))})}),this._data||j.setClipPath(g(m,a,function(){j.removeClipPath()})),this._data=k},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});a.exports=f},function(a){a.exports=function(a){a.eachSeriesByType("parallel",function(b){var c=b.getModel("itemStyle.normal"),d=a.get("color"),e=c.get("color")||d[b.seriesIndex%d.length],f=b.get("inactiveOpacity"),g=b.get("activeOpacity"),h=b.getModel("lineStyle.normal").getLineStyle(),i=b.coordinateSystem,j=b.getData(),k={normal:h.opacity,active:g,inactive:f};i.eachActiveState(j,function(a,b){j.setItemVisual(b,"opacity",k[a])}),j.setVisual("color",e)})}},function(a,b,c){var d=c(1);c(231),c(232),d.registerLayout(c(233)),d.registerVisualCoding("chart",c(235))},function(a,b,c){"use strict";var d=c(27),e=c(191);a.exports=d.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var f,c=a.edges||a.links,d=a.data||a.nodes;return d&&c?(f=e(d,c,this,!0),f.data):void 0},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#aaa"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},color:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],animationEasing:"linear",animationDuration:1e3}})},function(a,b,c){function h(a,b,c){var e=new d.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return d.initProps(e,{shape:{width:a.width+20,height:a.height+20}},b,c),e}var d=c(42),e=c(5),f=c(3),g=d.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var c=b.extent/2;a.moveTo(b.x1,b.y1-c),a.bezierCurveTo(b.cpx1,b.cpy1-c,b.cpx2,b.cpy2-c,b.x2,b.y2-c),a.lineTo(b.x2,b.y2+c),a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c),a.closePath()}});a.exports=c(1).extendChartView({type:"sankey",_model:null,render:function(a){var l,m,n,i=a.getGraph(),j=this.group,k=a.layoutInfo;this._model=a,j.removeAll(),j.position=[k.x,k.y],l=i.edgeData,m=a.option,n=e.createDataFormatModel(a,l,m.edges||m.links),n.formatTooltip=function(a){var b=this.getDataParams(a),c=b.data,d=c.source+" -- "+c.target;return b.value&&(d+=":"+b.value),d},i.eachNode(function(b){var c=b.getLayout(),e=b.getModel(),g=e.getModel("label.normal"),h=g.getModel("textStyle"),i=e.getModel("label.emphasis"),k=i.getModel("textStyle"),l=new d.Rect({shape:{x:c.x,y:c.y,width:b.getLayout().dx,height:b.getLayout().dy},style:{text:g.get("show")?a.getFormattedLabel(b.dataIndex,"normal")||b.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:g.get("position")}});l.setStyle(f.defaults({fill:b.getVisual("color")},e.getModel("itemStyle.normal").getItemStyle())),d.setHoverStyle(l,f.extend(b.getModel("itemStyle.emphasis"),{text:i.get("show")?a.getFormattedLabel(b.dataIndex,"emphasis")||b.id:"",textFont:k.getFont(),textFill:k.getTextColor(),textPosition:i.get("position")})),j.add(l)}),i.eachEdge(function(a){var c,e,f,h,i,k,l,m,o,p,q,r,s,b=new g;b.dataIndex=a.dataIndex,b.dataModel=n,c=a.getModel("lineStyle.normal"),e=c.get("curveness"),f=a.node1.getLayout(),h=a.node2.getLayout(),i=a.getLayout(),b.shape.extent=Math.max(1,i.dy),k=f.x+f.dx,l=f.y+i.sy+i.dy/2,m=h.x,o=h.y+i.ty+i.dy/2,p=k*(1-e)+m*e,q=l,r=k*e+m*(1-e),s=o,b.setShape({x1:k,y1:l,x2:m,y2:o,cpx1:p,cpy1:q,cpx2:r,cpy2:s}),b.setStyle(c.getItemStyle()),d.setHoverStyle(b,a.getModel("lineStyle.emphasis").getItemStyle()),j.add(b)}),this._data||j.setClipPath(h(j.getBoundingRect(),a,function(){j.removeClipPath()})),this._data=a.getData()}})},function(a,b,c){function g(a,b){return d.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function h(a,b,c,d,e,f,g){j(a,c,e),m(a,b,f,d,g),t(a)}function i(a){f.each(a,function(a){var b=w(a.outEdges,A),c=w(a.inEdges,A),d=Math.max(b,c);a.setLayout({value:d},!0)})}function j(a,b,c){for(var h,i,j,m,n,d=a,e=null,f=0,g=0;d.length;){for(e=[],h=0,i=d.length;i>h;h++)for(j=d[h],j.setLayout({x:f},!0),j.setLayout({dx:b},!0),m=0,n=j.outEdges.length;n>m;m++)e.push(j.outEdges[m].node2);d=e,++f}k(a,f),g=(c-b)/(f-1),l(a,g)}function k(a,b){f.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function l(a,b){f.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function m(a,b,c,d,f){var h,g=e().key(function(a){return a.getLayout().x}).sortKeys(z).entries(a).map(function(a){return a.values});for(n(a,g,b,c,d),o(g,d,c),h=1;f>0;f--)h*=.99,p(g,h),o(g,d,c),r(g,h),o(g,d,c)}function n(a,b,c,d,e){var h,g=[];f.each(b,function(a){var h,b=a.length,c=0;f.each(a,function(a){c+=a.getLayout().value}),h=(d-(b-1)*e)/c,g.push(h)}),g.sort(function(a,b){return a-b}),h=g[0],f.each(b,function(a){f.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*h;a.setLayout({dy:c},!0)})}),f.each(c,function(a){var b=+a.getValue()*h;a.setLayout({dy:b},!0)})}function o(a,b,c){f.each(a,function(a){var d,e,h,i,f=0,g=a.length;for(a.sort(y),h=0;g>h;h++)d=a[h],e=f-d.getLayout().y,e>0&&(i=d.getLayout().y+e,d.setLayout({y:i},!0)),f=d.getLayout().y+d.getLayout().dy+b;if(e=f-b-c,e>0)for(i=d.getLayout().y-e,d.setLayout({y:i},!0),f=d.getLayout().y,h=g-2;h>=0;--h)d=a[h],e=d.getLayout().y+d.getLayout().dy+b-f,e>0&&(i=d.getLayout().y-e,d.setLayout({y:i},!0)),f=d.getLayout().y})}function p(a,b){f.each(a.slice().reverse(),function(a){f.each(a,function(a){var c,d;a.outEdges.length&&(c=w(a.outEdges,q)/w(a.outEdges,A),d=a.getLayout().y+(c-x(a))*b,a.setLayout({y:d},!0))})})}function q(a){return x(a.node2)*a.getValue()}function r(a,b){f.each(a,function(a){f.each(a,function(a){var c,d;a.inEdges.length&&(c=w(a.inEdges,s)/w(a.inEdges,A),d=a.getLayout().y+(c-x(a))*b,a.setLayout({y:d},!0))})})}function s(a){return x(a.node1)*a.getValue()}function t(a){f.each(a,function(a){a.outEdges.sort(u),a.inEdges.sort(v)}),f.each(a,function(a){var b=0,c=0;f.each(a.outEdges,function(a){a.setLayout({sy:b},!0),b+=a.getLayout().dy}),f.each(a.inEdges,function(a){a.setLayout({ty:c},!0),c+=a.getLayout().dy})})}function u(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function v(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function w(a,b){var e,c=0,d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)e=+a[f],isNaN(e)||(c+=e);else for(;++f<d;)e=+b.call(a,a[f],f),isNaN(e)||(c+=e);return c}function x(a){return a.getLayout().y+a.getLayout().dy/2}function y(a,b){return a.getLayout().y-b.getLayout().y}function z(a,b){return b>a?-1:a>b?1:a==b?0:0/0}function A(a){return a.getValue()}var d=c(21),e=c(234),f=c(3);a.exports=function(a,b){a.eachSeriesByType("sankey",function(a){var f,j,k,l,m,n,o,c=a.get("nodeWidth"),d=a.get("nodeGap"),e=g(a,b);a.layoutInfo=e,f=e.width,j=e.height,k=a.getGraph(),l=k.nodes,m=k.edges,i(l),n=l.filter(function(a){return 0===a.getLayout().value}),o=0!==n.length?0:a.get("layoutIterations"),h(l,m,c,d,f,j,o)})}},function(a,b,c){function e(){function c(b,e){var f,g,h,i,j,k,l;if(e>=a.length)return b;for(f=-1,g=b.length,h=a[e++],i={},j={};++f<g;)k=h(b[f]),l=j[k],l?l.push(b[f]):j[k]=[b[f]];return d.each(j,function(a,b){i[b]=c(a,e)}),i}function e(c,f){var g,h;return f>=a.length?c:(g=[],h=b[f++],d.each(c,function(a,b){g.push({key:b,values:e(a,f)})}),h?g.sort(function(a,b){return h(a.key,b.key)}):g)}var a=[],b=[];return{key:function(b){return a.push(b),this},sortKeys:function(c){return b[a.length-1]=c,this},entries:function(a){return e(c(a,0),0)}}}var d=c(3);a.exports=e},function(a,b,c){var d=c(187);a.exports=function(a){a.eachSeriesByType("sankey",function(a){var e,f,b=a.getGraph(),c=b.nodes;c.sort(function(a,b){return a.getLayout().value-b.getLayout().value}),e=c[0].getLayout().value,f=c[c.length-1].getLayout().value,c.forEach(function(b){var c=new d({type:"color",mappingMethod:"linear",dataExtent:[e,f],visual:a.get("color")}),g=c.mapValueToVisual(b.getLayout().value);b.setVisual("color",g)})})}},function(a,b,c){var d=c(1);c(237),c(240),d.registerVisualCoding("chart",c(241)),d.registerLayout(c(242))},function(a,b,c){"use strict";var d=c(3),e=c(27),f=c(238),g=e.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});d.mixin(g,f.seriesModelMixin,!0),a.exports=g},function(a,b,c){"use strict";function h(a){return null==a.value?a:a.value}var d=c(94),e=c(96),f=c(239),g=c(3),i={_baseAxisDim:null,getInitialData:function(a,b){var c,k,l,m,n,f=b.getComponent("xAxis",this.get("xAxisIndex")),g=b.getComponent("yAxis",this.get("yAxisIndex")),i=f.get("type"),j=g.get("type");return"category"===i?(a.layout="horizontal",c=f.getCategories(),k=!0):"category"===j?(a.layout="vertical",c=g.getCategories(),k=!0):a.layout=a.layout||"horizontal",this._baseAxisDim="horizontal"===a.layout?"x":"y",l=a.data,m=this.dimensions=["base"].concat(this.valueDimensions),e(m,l),n=new d(m,this),n.initData(l,c?c.slice():null,function(a,b,c,d){var e=h(a);return k?"base"===b?c:e[d-1]:e[d]}),n},coordDimToDataDim:function(a){var b=this.valueDimensions.slice(),c=["base"],d={horizontal:{x:c,y:b},vertical:{x:b,y:c}};return d[this.get("layout")][a]},dataDimToCoordDim:function(a){var b;return g.each(["x","y"],function(c){var e=this.coordDimToDataDim(c);g.indexOf(e,a)>=0&&(b=c)},this),b},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},j={init:function(){var a=this._whiskerBoxDraw=new f(this.getStyleUpdater());this.group.add(a.group)},render:function(a){this._whiskerBoxDraw.updateData(a.getData())},remove:function(){this._whiskerBoxDraw.remove()}};a.exports={seriesModelMixin:i,viewMixin:j}},function(a,b,c){function h(a,b,c,d){e.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=c,this._createContent(a,b,d),this.updateData(a,b,d),this._seriesModel}function j(a,b,c){return d.map(a,function(a){return a=a.slice(),a[b]=c.initBaseline,a})}function k(a){var b={};return d.each(a,function(a,c){b["ends"+c]=a}),b}function l(a){this.group=new e.Group,this.styleUpdater=a}var m,d=c(3),e=c(42),f=c(44),g=f.extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){var c,d;for(c in b)0===c.indexOf("ends")&&(d=b[c],a.moveTo(d[0][0],d[0][1]),a.lineTo(d[1][0],d[1][1]))}}),i=h.prototype;i._createContent=function(a,b,c){var l,f=a.getItemLayout(b),h="horizontal"===f.chartLayout?1:0,i=0;this.add(new e.Polygon({shape:{points:c?j(f.bodyEnds,h,f):f.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=i++,l=d.map(f.whiskerEnds,function(a){return c?j(a,h,f):a}),this.add(new g({shape:k(l),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=i++},i.updateData=function(a,b,c){var d=this._seriesModel=a.hostModel,f=a.getItemLayout(b),g=e[c?"initProps":"updateProps"];g(this.childAt(this.bodyIndex),{shape:{points:f.bodyEnds}},d),g(this.childAt(this.whiskerIndex),{shape:k(f.whiskerEnds)},d),this.styleUpdater.call(null,this,a,b)},d.inherits(h,e.Group),m=l.prototype,m.updateData=function(a){var b=this.group,c=this._data,d=this.styleUpdater;a.diff(c).add(function(c){if(a.hasValue(c)){var e=new h(a,c,d,!0);a.setItemGraphicEl(c,e),b.add(e)}}).update(function(e,f){var g=c.getItemGraphicEl(f);return a.hasValue(e)?(g?g.updateData(a,e):g=new h(a,e,d),b.add(g),a.setItemGraphicEl(e,g),void 0):(b.remove(g),void 0)}).remove(function(a){var d=c.getItemGraphicEl(a);d&&b.remove(d)}).execute(),this._data=a},m.remove=function(){var a=this.group,b=this._data;this._data=null,b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})},a.exports=l},function(a,b,c){"use strict";function k(a,b,c){var l,m,d=b.getItemModel(c),e=d.getModel(i),g=b.getItemVisual(c,"color"),h=e.getItemStyle(["borderColor"]),k=a.childAt(a.whiskerIndex);k.style.set(h),k.style.stroke=g,k.dirty(),l=a.childAt(a.bodyIndex),l.style.set(h),l.style.stroke=g,l.dirty(),m=d.getModel(j).getItemStyle(),f.setHoverStyle(a,m)}var i,j,d=c(3),e=c(41),f=c(42),g=c(238),h=e.extend({type:"boxplot",getStyleUpdater:function(){return k}});d.mixin(h,g.viewMixin,!0),i=["itemStyle","normal"],j=["itemStyle","emphasis"],a.exports=h},function(a){var c=["itemStyle","normal","borderColor"];a.exports=function(a){var d=a.get("color");a.eachRawSeriesByType("boxplot",function(b){var e=d[b.seriesIndex%d.length],f=b.getData();f.setVisual({legendSymbol:"roundRect",color:b.get(c)||e}),a.isSeriesFiltered(b)||f.each(function(a){var b=f.getItemModel(a);f.setItemVisual(a,{color:b.get(c,!0)})})})}},function(a,b,c){function h(a){var b=[],c=[];return a.eachSeriesByType("boxplot",function(a){var e=a.getBaseAxis(),f=d.indexOf(c,e);
0>f&&(f=c.length,c[f]=e,b[f]={axis:e,seriesModels:[]}),b[f].seriesModels.push(a)}),b}function i(a){var b,l,m,n,o,p,q,c=a.axis,e=a.seriesModels,h=e.length,i=a.boxWidthList=[],j=a.boxOffsetList=[],k=[];"category"===c.type?l=c.getBandWidth():(m=0,g(e,function(a){m=Math.max(m,a.getData().count())}),b=c.getExtent(),Math.abs(b[1]-b[0])/m),g(e,function(a){var b=a.get("boxWidth");d.isArray(b)||(b=[b,b]),k.push([f(b[0],l)||0,f(b[1],l)||0])}),n=.8*l-2,o=.3*(n/h),p=(n-o*(h-1))/h,q=p/2-n/2,g(e,function(a,b){j.push(q),q+=o+p,i.push(Math.min(Math.max(p,k[b][0]),k[b][1]))})}function j(a,b,c){var d=a.coordinateSystem,e=a.getData(),f=a.dimensions,g=a.get("layout"),h=c/2;e.each(f,function(){function r(a){var e,c=[];return c[k]=i,c[l]=a,isNaN(i)||isNaN(a)?e=[0/0,0/0]:(e=d.dataToPoint(c),e[k]+=b),e}function s(a,b){var c=a.slice(),d=a.slice();c[k]+=h,d[k]-=h,b?q.push(c,d):q.push(d,c)}function t(a){var b=[a.slice(),a.slice()];b[0][k]-=h,b[1][k]+=h,p.push(b)}var q,a=arguments,c=f.length,i=a[0],j=a[c],k="horizontal"===g?0:1,l=1-k,m=r(a[3]),n=r(a[1]),o=r(a[5]),p=[[n,r(a[2])],[o,r(a[4])]];t(n),t(o),t(m),q=[],s(p[0][1],0),s(p[1][1],1),e.setItemLayout(j,{chartLayout:g,initBaseline:m[l],median:m,bodyEnds:q,whiskerEnds:p})})}var d=c(3),e=c(7),f=e.parsePercent,g=d.each;a.exports=function(a){var c=h(a);g(c,function(a){var b=a.seriesModels;b.length&&(i(a),g(b,function(b,c){j(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}},function(a,b,c){var d=c(1);c(244),c(245),d.registerPreprocessor(c(246)),d.registerVisualCoding("chart",c(247)),d.registerLayout(c(248))},function(a,b,c){"use strict";var d=c(3),e=c(27),f=c(238),g=c(6),h=g.encodeHTML,i=g.addCommas,j=e.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(a){var c=d.map(this.valueDimensions,function(b){return b+": "+i(this._data.get(b,a))},this);return h(this.name)+"<br />"+c.join("<br />")}});d.mixin(j,f.seriesModelMixin,!0),a.exports=j},function(a,b,c){"use strict";function k(a,b,c){var m,n,d=b.getItemModel(c),e=d.getModel(i),g=b.getItemVisual(c,"color"),h=b.getItemVisual(c,"borderColor"),k=e.getItemStyle(["color","color0","borderColor","borderColor0"]),l=a.childAt(a.whiskerIndex);l.style.set(k),l.style.stroke=h,l.dirty(),m=a.childAt(a.bodyIndex),m.style.set(k),m.style.fill=g,m.style.stroke=h,m.dirty(),n=d.getModel(j).getItemStyle(),f.setHoverStyle(a,n)}var i,j,d=c(3),e=c(41),f=c(42),g=c(238),h=e.extend({type:"candlestick",getStyleUpdater:function(){return k}});d.mixin(h,g.viewMixin,!0),i=["itemStyle","normal"],j=["itemStyle","emphasis"],a.exports=h},function(a,b,c){var d=c(3);a.exports=function(a){a&&d.isArray(a.series)&&d.each(a.series,function(a){d.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}},function(a){var c=["itemStyle","normal","borderColor"],d=["itemStyle","normal","borderColor0"],e=["itemStyle","normal","color"],f=["itemStyle","normal","color0"];a.exports=function(a){a.eachRawSeriesByType("candlestick",function(b){var g=b.getData();g.setVisual({legendSymbol:"roundRect"}),a.isSeriesFiltered(b)||g.each(function(a){var b=g.getItemModel(a),h=g.getItemLayout(a).sign;g.setItemVisual(a,{color:b.get(h>0?e:f),borderColor:b.get(h>0?c:d)})})})}},function(a){function f(a,b){var g,f=a.getBaseAxis(),h="category"===f.type?f.getBandWidth():(g=f.getExtent(),Math.abs(g[1]-g[0])/b.count());return h/2-2>d?h/2-2:h-d>e?d:Math.max(h-e,c)}var c=2,d=5,e=4;a.exports=function(a){a.eachSeriesByType("candlestick",function(a){var b=a.coordinateSystem,c=a.getData(),d=a.dimensions,e=a.get("layout"),g=f(a,c);c.each(d,function(){function x(a){var c=[];return c[j]=h,c[k]=a,isNaN(h)||isNaN(a)?[0/0,0/0]:b.dataToPoint(c)}function y(a,b){var c=a.slice(),d=a.slice();c[j]+=g/2,d[j]-=g/2,b?w.push(c,d):w.push(d,c)}var a=arguments,f=d.length,h=a[0],i=a[f],j="horizontal"===e?0:1,k=1-j,l=a[1],m=a[2],n=a[3],o=a[4],p=Math.min(l,m),q=Math.max(l,m),r=x(p),s=x(q),t=x(n),u=x(o),v=[[u,s],[t,r]],w=[];y(s,0),y(r,1),c.setItemLayout(i,{chartLayout:e,sign:l>m?-1:m>l?1:0,initBaseline:l>m?s[k]:r[k],bodyEnds:w,whiskerEnds:v})},!0)})}},function(a,b,c){var d=c(3),e=c(1);c(250),c(251),e.registerVisualCoding("chart",d.curry(c(103),"effectScatter","circle",null)),e.registerLayout(d.curry(c(104),"effectScatter"))},function(a,b,c){"use strict";var d=c(93),e=c(27);a.exports=e.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,b){var c=d(a.data,this,b);return c},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(a,b,c){var d=c(98),e=c(252);c(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new d(e)},render:function(a){var d=a.getData(),e=this._symbolDraw;e.updateData(d),this.group.add(e.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)}})},function(a,b,c){function k(a){return d.isArray(a)||(a=[+a,+a]),a}function l(a,b){var c,d;i.call(this),c=new h(a,b),d=new i,this.add(c),this.add(d),d.beforeUpdate=function(){this.attr(c.getScale())},this.updateData(a,b)}var d=c(3),e=c(100),f=c(42),g=c(7),h=c(99),i=f.Group,j=3,m=l.prototype;m.stopEffectAnimation=function(){this.childAt(1).removeAll()},m.startEffectAnimation=function(a,b,c,d,f,g){var l,m,n,h=this._symbolType,i=this._color,k=this.childAt(1);for(l=0;j>l;l++)m=e.createSymbol(h,-.5,-.5,1,1,i),m.attr({style:{stroke:"stroke"===b?i:null,fill:"fill"===b?i:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:f,zlevel:g}),n=-l/j*a+d,m.animate("",!0).when(a,{scale:[c,c]}).delay(n).start(),m.animateStyle(!0).when(a,{opacity:0}).delay(n).start(),k.add(m)},m.highlight=function(){this.trigger("emphasis")},m.downplay=function(){this.trigger("normal")},m.updateData=function(a,b){function u(){t.trigger("emphasis"),"render"!==m&&this.startEffectAnimation(p,o,n,q,r,s)}function v(){t.trigger("normal"),"render"!==m&&this.stopEffectAnimation()}var d,e,f,h,i,j,l,m,n,o,p,q,r,s,t,c=a.hostModel;this.childAt(0).updateData(a,b),d=this.childAt(1),e=a.getItemModel(b),f=a.getItemVisual(b,"symbol"),h=k(a.getItemVisual(b,"symbolSize")),i=a.getItemVisual(b,"color"),d.attr("scale",h),d.traverse(function(a){a.attr({fill:i})}),j=e.getShallow("symbolOffset"),j&&(l=d.position,l[0]=g.parsePercent(j[0],h[0]),l[1]=g.parsePercent(j[1],h[1])),this._symbolType=f,this._color=i,m=c.get("showEffectOn"),n=e.get("rippleEffect.scale"),o=e.get("rippleEffect.brushType"),p=1e3*e.get("rippleEffect.period"),q=b/a.count(),r=e.getShallow("z")||0,s=e.getShallow("zlevel")||0,this.stopEffectAnimation(),"render"===m&&this.startEffectAnimation(p,o,n,q,r,s),t=this.childAt(0),this.on("mouseover",u,this).on("mouseout",v,this).on("emphasis",u,this).on("normal",v,this)},m.fadeOut=function(a){a&&a()},d.inherits(l,i),a.exports=l},function(a,b,c){var d,e;c(254),c(255),d=c(3),e=c(1),e.registerLayout(c(257)),e.registerVisualCoding("chart",d.curry(c(88),"lines","lineStyle"))},function(a,b,c){"use strict";var d=c(27),e=c(94),f=c(3),g=c(25);a.exports=d.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(a){function n(a,b,c,d){return a.coord&&a.coord[d]}var i,j,k,l,m,c=[],d=[],h=[];if(f.each(a.data,function(a){c.push(a[0]),d.push(a[1]),h.push(f.extend(f.extend({},f.isArray(a[0])?null:a[0]),f.isArray(a[1])?null:a[1]))}),i=g.get(a.coordinateSystem),!i)throw new Error("Invalid coordinate system");return j=i.dimensions,k=new e(j,this),l=new e(j,this),m=new e(["value"],this),k.initData(c,null,n),l.initData(d,null,n),m.initData(h),this.fromData=k,this.toData=l,m},formatTooltip:function(a){var b=this.fromData.getName(a),c=this.toData.getName(a);return b+" > "+c},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(a,b,c){var d=c(194),e=c(256),f=c(195);c(1).extendChartView({type:"lines",init:function(){},render:function(a,b,c){var j,k,l,g=a.getData(),h=this._lineDraw,i=a.get("effect.show");i!==this._hasEffet&&(h&&h.remove(),h=this._lineDraw=new d(i?e:f),this._hasEffet=i),j=a.get("zlevel"),k=a.get("effect.trailLength"),l=c.getZr(),l.painter.getLayer(j).clear(!0),null!=this._lastZlevel&&l.configLayer(this._lastZlevel,{motionBlur:!1}),i&&k&&l.configLayer(j,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(k/10+.9,1),0)}),this.group.add(h.group),h.updateData(g),this._lastZlevel=j},updateLayout:function(a,b,c){this._lineDraw.updateLayout();var d=c.getZr();d.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(b,!0)}})},function(a,b,c){function i(a,b,c,f){d.Group.call(this);var g=new e(a,b,c,f);this.add(g),this._updateEffectSymbol(a,f)}function k(a,b){a.__p1=b[0],a.__p2=b[1],a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]}function l(){var i,j,a=this.__p1,b=this.__p2,c=this.__cp1,d=this.__t,e=this.position,f=h.quadraticAt,g=h.quadraticDerivativeAt;e[0]=f(a[0],c[0],b[0],d),e[1]=f(a[1],c[1],b[1],d),i=g(a[0],c[0],b[0],d),j=g(a[1],c[1],b[1],d),this.rotation=-Math.atan2(j,i)-Math.PI/2,this.ignore=!1}var d=c(42),e=c(195),f=c(3),g=c(100),h=c(49),j=i.prototype;j._updateEffectSymbol=function(a,b){var i,j,m,n,c=a.getItemModel(b),d=c.getModel("effect"),e=d.get("symbolSize"),h=d.get("symbol");f.isArray(e)||(e=[e,e]),i=d.get("color")||a.getItemVisual(b,"color"),j=this.childAt(1),m=1e3*d.get("period"),(this._symbolType!==h||m!==this._period)&&(j=g.createSymbol(h,-.5,-.5,1,1,i),j.ignore=!0,j.z2=100,this._symbolType=h,this._period=m,this.add(j),j.__t=0,j.animate("",!0).when(m,{__t:1}).delay(b/a.count()*m/2).during(f.bind(l,j)).start()),j.setStyle("shadowColor",i),j.setStyle(d.getItemStyle(["color"])),j.attr("scale",e),n=a.getItemLayout(b),k(j,n),j.setColor(i),j.attr("scale",e)},j.updateData=function(a,b,c,d){this.childAt(0).updateData(a,b,c,d),this._updateEffectSymbol(a,d)},j.updateLayout=function(a,b,c,d){var e,f;this.childAt(0).updateLayout(a,b,c,d),e=this.childAt(1),f=a.getItemLayout(d),k(e,f)},f.inherits(i,d.Group),a.exports=i},function(a){a.exports=function(a){a.eachSeriesByType("lines",function(a){var b=a.coordinateSystem,c=a.fromData,d=a.toData,e=a.getData(),f=b.dimensions;c.each(f,function(a,d,e){c.setItemLayout(e,b.dataToPoint([a,d]))}),d.each(f,function(a,c,e){d.setItemLayout(e,b.dataToPoint([a,c]))}),e.each(function(a){var h,b=c.getItemLayout(a),f=d.getItemLayout(a),g=e.getItemModel(a).get("lineStyle.normal.curveness");g>0&&(h=[(b[0]+f[0])/2-(b[1]-f[1])*g,(b[1]+f[1])/2-(f[0]-b[0])*g]),e.setItemLayout(a,[b,f,h])})})}},function(a,b,c){c(259),c(260)},function(a,b,c){var d=c(27),e=c(93);a.exports=d.extend({type:"series.heatmap",getInitialData:function(a,b){return e(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(a,b,c){function g(a,b,c){var e,g,d=a[1]-a[0];return b=f.map(b,function(b){return{interval:[(b.interval[0]-a[0])/d,(b.interval[1]-a[0])/d]}}),e=b.length,g=0,function(a){var d,f;for(d=g;e>d;d++)if(f=b[d].interval,f[0]<=a&&a<=f[1]){g=d;break}if(d===e)for(d=g-1;d>=0;d--)if(f=b[d].interval,f[0]<=a&&a<=f[1]){g=d;break}return d>=0&&e>d&&c[d]}}function h(a,b){var c=a[1]-a[0];return b=[(b[0]-a[0])/c,(b[1]-a[0])/c],function(a){return a>=b[0]&&a<=b[1]}}function i(a){var b=a.dimensions;return"lng"===b[0]&&"lat"===b[1]}var d=c(42),e=c(261),f=c(3);a.exports=c(1).extendChartView({type:"heatmap",render:function(a,b,c){var d,e;if(b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})}),!d)throw new Error("Heatmap must use with visualMap");this.group.removeAll(),e=a.coordinateSystem,"cartesian2d"===e.type?this._renderOnCartesian(e,a,c):i(e)&&this._renderOnGeo(e,a,d,c)},_renderOnCartesian:function(a,b){var h,i,j,e=a.getAxis("x"),f=a.getAxis("y"),g=this.group;if("category"!==e.type||"category"!==f.type)throw new Error("Heatmap on cartesian must have two category axes");if(!e.onBand||!f.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");h=e.getBandWidth(),i=f.getBandWidth(),j=b.getData(),j.each(["x","y","z"],function(c,e,f,k){var n,o,p,q,r,s,t,l=j.getItemModel(k),m=a.dataToPoint([c,e]);isNaN(f)||(n=new d.Rect({shape:{x:m[0]-h/2,y:m[1]-i/2,width:h,height:i},style:{fill:j.getItemVisual(k,"color")}}),o=l.getModel("itemStyle.normal").getItemStyle(["color"]),p=l.getModel("itemStyle.emphasis").getItemStyle(),q=l.getModel("label.normal"),r=l.getModel("label.emphasis"),s=b.getRawValue(k),t="-",s&&null!=s[2]&&(t=s[2]),q.get("show")&&(d.setText(o,q),o.text=b.getFormattedLabel(k,"normal")||t),r.get("show")&&(d.setText(p,r),p.text=b.getFormattedLabel(k,"emphasis")||t),n.setStyle(o),d.setHoverStyle(n,p),g.add(n),j.setItemGraphicEl(k,n))})},_renderOnGeo:function(a,b,c,f){var m,n,o,p,q,r,s,t,u,v,w,x,i=c.targetVisuals.inRange,j=c.targetVisuals.outOfRange,k=b.getData(),l=this._hmLayer||this._hmLayer||new e;l.blurSize=b.get("blurSize"),l.pointSize=b.get("pointSize"),l.minOpacity=b.get("minOpacity"),l.maxOpacity=b.get("maxOpacity"),m=a.getViewRect().clone(),n=a.getRoamTransform(),m.applyTransform(n),o=Math.max(m.x,0),p=Math.max(m.y,0),q=Math.min(m.width+m.x,f.getWidth()),r=Math.min(m.height+m.y,f.getHeight()),s=q-o,t=r-p,u=k.mapArray(["lng","lat","value"],function(b,c,d){var e=a.dataToPoint([b,c]);return e[0]-=o,e[1]-=p,e.push(d),e}),v=c.getExtent(),w="visualMap.continuous"===c.type?h(v,c.option.range):g(v,c.getPieceList(),c.option.selected),l.update(u,s,t,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:j.color.getColorMapper()},w),x=new d.Image({style:{width:s,height:t,x:o,y:p,image:l.canvas},silent:!0}),this.group.add(x)}})},function(a,b,c){function f(){var a=e.createCanvas();this.canvas=a,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var d=256,e=c(3);f.prototype={update:function(a,b,c,e,f,g){var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,h=this._getBrush(),i=this._getGradient(a,f,"inRange"),j=this._getGradient(a,f,"outOfRange"),k=this.pointSize+this.blurSize,l=this.canvas,m=l.getContext("2d"),n=a.length;for(l.width=b,l.height=c,o=0;n>o;++o)p=a[o],q=p[0],r=p[1],s=p[2],t=e(s),m.globalAlpha=t,m.drawImage(h,q-k,r-k);for(u=m.getImageData(0,0,l.width,l.height),v=u.data,w=0,x=v.length,y=this.minOpacity,z=this.maxOpacity,A=z-y;x>w;)t=v[w+3]/256,B=4*Math.floor(t*(d-1)),t>0?(C=g(t)?i:j,t>0&&(t=t*A+y),v[w++]=C[B],v[w++]=C[B+1],v[w++]=C[B+2],v[w++]=256*C[B+3]*t):w+=4;return m.putImageData(u,0,0),l},_getBrush:function(){var d,a=this._brushCanvas||(this._brushCanvas=e.createCanvas()),b=this.pointSize+this.blurSize,c=2*b;return a.width=c,a.height=c,d=a.getContext("2d"),d.clearRect(0,0,c,c),d.shadowOffsetX=c,d.shadowBlur=this.blurSize,d.shadowColor="#000",d.beginPath(),d.arc(-b,b,this.pointSize,0,2*Math.PI,!0),d.closePath(),d.fill(),a},_getGradient:function(a,b,c){var h,d=this._gradientPixels,e=d[c]||(d[c]=new Uint8ClampedArray(1024)),f=[],g=0;for(h=0;256>h;h++)b[c](h/255,!0,f),e[g++]=f[0],e[g++]=f[1],e[g++]=f[2],e[g++]=f[3];return e}},a.exports=f},function(a,b,c){c(263),c(264),c(265);var d=c(1);d.registerProcessor("filter",c(267))},function(a,b,c){"use strict";var d=c(3),e=c(8),f=c(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){var d,e,f,g;if(this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{},this._updateData(c),d=this._data,e=this.option.selected,d[0]&&"single"===this.get("selectedMode")){f=!1;for(g in e)e[g]&&(this.select(g),f=!0);!f&&this.select(d[0].get("name"))}},mergeOption:function(a){f.superCall(this,"mergeOption",a),this._updateData(this.ecModel)},_updateData:function(a){var c,b=d.map(this.get("data")||[],function(a){return"string"==typeof a&&(a={name:a}),new e(a,this,this.ecModel)},this);this._data=b,c=d.map(a.getSeries(),function(a){return a.name}),a.eachSeries(function(a){if(a.legendDataProvider){var b=a.legendDataProvider();c=c.concat(b.mapArray(b.getName))}}),this._availableNames=c},getData:function(){return this._data},select:function(a){var e,b=this.option.selected,c=this.get("selectedMode");"single"===c&&(e=this._data,d.each(e,function(a){b[a.get("name")]=!1})),b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;a in b||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(a in b&&!b[a])&&d.indexOf(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});a.exports=f},function(a,b,c){function f(a,b,c){var g,d={},f="toggleSelected"===a;return c.eachComponent("legend",function(c){f&&null!=g?c[g?"select":"unSelect"](b.name):(c[a](b.name),g=c.isSelected(b.name));var h=c.getData();e.each(h,function(a){var e,b=a.get("name");"\n"!==b&&""!==b&&(e=c.isSelected(b),d[b]=b in d?d[b]&&e:e)})}),{name:b.name,selected:d}}var d=c(1),e=c(3);d.registerAction("legendToggleSelect","legendselectchanged",e.curry(f,"toggleSelected")),d.registerAction("legendSelect","legendselected",e.curry(f,"select")),d.registerAction("legendUnSelect","legendunselected",e.curry(f,"unSelect"))},function(a,b,c){function j(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function k(a,b,c){a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function l(a,b,c){a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}var d=c(3),e=c(100),f=c(42),g=c(266),h=d.curry,i="#ccc";a.exports=c(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(a,b,c){var i,m,n,e=this.group;e.removeAll(),a.get("show")&&(i=a.get("selectedMode"),m=a.get("align"),"auto"===m&&(m="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left"),n={},d.each(a.getData(),function(d){var o,p,q,r,s,t,g=d.get("name");return""===g||"\n"===g?(e.add(new f.Group({newline:!0})),void 0):(o=b.getSeriesByName(g)[0],n[g]||(o?(p=o.getData(),q=p.getVisual("color"),"function"==typeof q&&(q=q(o.getDataParams(0))),r=p.getVisual("legendSymbol")||"roundRect",s=p.getVisual("symbol"),t=this._createItem(g,d,a,r,s,m,q,i),t.on("click",h(j,g,c)).on("mouseover",h(k,o,"",c)).on("mouseout",h(l,o,"",c)),n[g]=!0):b.eachRawSeries(function(b){var e,f,o,p,q;n[g]||b.legendDataProvider&&(e=b.legendDataProvider(),f=e.indexOfName(g),o=e.getItemVisual(f,"color"),p="roundRect",q=this._createItem(g,d,a,p,null,m,o,i),q.on("click",h(j,g,c)).on("mouseover",h(k,b,g,c)).on("mouseout",h(l,b,g,c)),n[g]=!0)},this)),void 0)},this),g.layout(e,a,c),g.addBackground(e,a))},_createItem:function(a,b,c,d,g,h,j,k){var r,s,t,u,v,l=c.get("itemWidth"),m=c.get("itemHeight"),n=c.isSelected(a),o=new f.Group,p=b.getModel("textStyle"),q=b.get("icon");return d=q||d,o.add(e.createSymbol(d,0,0,l,m,n?j:i)),q||!g||g===d&&"none"!=g||(r=.8*m,"none"===g&&(g="circle"),o.add(e.createSymbol(g,(l-r)/2,(m-r)/2,r,r,n?j:i))),s="left"===h?l+5:-5,t=h,u=c.get("formatter"),"string"==typeof u&&u?a=u.replace("{name}",a):"function"==typeof u&&(a=u(a)),v=new f.Text({style:{text:a,x:s,y:m/2,fill:n?p.getTextColor():i,textFont:p.getFont(),textAlign:t,textVerticalAlign:"middle"}}),o.add(v),o.add(new f.Rect({shape:o.getBoundingRect(),invisible:!0})),o.eachChild(function(a){a.silent=!k}),this.group.add(o),f.setHoverStyle(o),o}})},function(a,b,c){function g(a,b,c){d.positionGroup(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()},b.get("padding"))}var d=c(21),e=c(6),f=c(42);a.exports={layout:function(a,b,c){var e=d.getLayoutRect(b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()},b.get("padding"));d.box(b.get("orient"),a,b.get("itemGap"),e.width,e.height),g(a,b,c)},addBackground:function(a,b){var h,c=e.normalizeCssArray(b.get("padding")),d=a.getBoundingRect(),g=b.getItemStyle(["color","opacity"]);g.fill=b.get("backgroundColor"),h=new f.Rect({shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[1]+c[3],height:d.height+c[0]+c[2]},style:g,silent:!0,z2:-1}),f.subPixelOptimizeRect(h),a.add(h)}}},function(a){a.exports=function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}},function(a,b,c){c(269),c(270),c(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),c(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(a,b,c){c(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(a,b,c){function k(a,b){if(!a||!b)return!1;var c=h.round;return c(a[0])===c(b[0])&&c(a[1])===c(b[1])}function l(a,b,c,d){return{x1:a,y1:b,x2:c,y2:d}}function m(a,b,c,d){return{x:a,y:b,width:c,height:d}}function n(a,b,c,d,e,f){return{cx:a,cy:b,r0:c,r:d,startAngle:e,endAngle:f,clockwise:!0}}function o(a,b,c,d,e){var f=c.clientWidth,g=c.clientHeight,h=20;return a+f+h>d?a-=f+h:a+=h,b+g+h>e?b-=g+h:b+=h,[a,b]}function p(a,b,c){var d=c.clientWidth,e=c.clientHeight,f=5,g=0,h=0,i=b.width,j=b.height;switch(a){case"inside":g=b.x+i/2-d/2,h=b.y+j/2-e/2;break;case"top":g=b.x+i/2-d/2,h=b.y-e-f;break;case"bottom":g=b.x+i/2-d/2,h=b.y+j+f;break;case"left":g=b.x-d-f,h=b.y+j/2-e/2;break;case"right":g=b.x+i+f,h=b.y+j/2-e/2}return[g,h]}function q(a,b,c,d,e,g,h){var m,j=h.getWidth(),k=h.getHeight(),l=g&&g.getBoundingRect().clone();g&&l.applyTransform(g.transform),"function"==typeof a&&(a=a([b,c],e,l)),f.isArray(a)?(b=i(a[0],j),c=i(a[1],k)):"string"==typeof a&&g?(m=p(a,l,d.el),b=m[0],c=m[1]):(m=o(b,c,d.el,j,k),b=m[0],c=m[1]),d.moveTo(b,c)}function r(a){var b=a.coordinateSystem,c=a.get("tooltip.trigger",!0);return!(!b||"cartesian2d"!==b.type&&"polar"!==b.type&&"single"!==b.type||"item"===c)}var d=c(271),e=c(42),f=c(3),g=c(6),h=c(7),i=h.parsePercent,j=c(78);c(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(a,b){if(!j.node){var c=new d(b.getDom(),b);this._tooltipContent=c,b.on("showTip",this._manuallyShowTip,this),b.on("hideTip",this._manuallyHideTip,this)}},render:function(a,b,c){var d,e,f,g;j.node||(this.group.removeAll(),this._axisPointers={},this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastHover={},d=this._tooltipContent,d.update(),d.enterable=a.get("enterable"),this._alwaysShowContent=a.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(a,b),e=this._crossText,e&&this.group.add(e),null!=this._lastX&&null!=this._lastY&&(f=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){f._manuallyShowTip({x:f._lastX,y:f._lastY})})),g=this._api.getZr(),g.off("click",this._tryShow),g.off("mousemove",this._mousemove),g.off("mouseout",this._hide),g.off("globalout",this._hide),"click"===a.get("triggerOn")?g.on("click",this._tryShow,this):(g.on("mousemove",this._mousemove,this),g.on("mouseout",this._hide,this),g.on("globalout",this._hide,this)))},_mousemove:function(a){var b=this._tooltipModel.get("showDelay"),c=this;clearTimeout(this._showTimeout),b>0?this._showTimeout=setTimeout(function(){c._tryShow(a)},b):this._tryShow(a)},_manuallyShowTip:function(a){var b,c,d,e,g,h,i,j,k,l,m,n;a.from!==this.uid&&(b=this._ecModel,c=a.seriesIndex,d=a.dataIndex,e=b.getSeriesByIndex(c),g=this._api,null==a.x||null==a.y?(e||b.eachSeries(function(a){r(a)&&!e&&(e=a)}),e&&(h=e.getData(),null==d&&(d=h.indexOfName(a.name)),i=h.getItemGraphicEl(d),l=e.coordinateSystem,l&&l.dataToPoint?(m=l.dataToPoint(h.getValues(f.map(l.dimensions,function(a){return e.coordDimToDataDim(a)[0]}),d,!0)),j=m&&m[0],k=m&&m[1]):i&&(n=i.getBoundingRect().clone(),n.applyTransform(i.transform),j=n.x+n.width/2,k=n.y+n.height/2),null!=j&&null!=k&&this._tryShow({offsetX:j,offsetY:k,target:i,event:{}}))):(i=g.getZr().handler.findHover(a.x,a.y),this._tryShow({offsetX:a.x,offsetY:a.y,target:i,event:{}})))},_manuallyHideTip:function(a){a.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(a,b){var c={};return b.eachSeries(function(a){var b,d,e;r(a)&&(b=a.coordinateSystem,"cartesian2d"===b.type?(d=b.getBaseAxis(),e=d.dim+d.index):"single"===b.type?(d=b.getAxis(),e=d.dim+d.type):(d=b.getBaseAxis(),e=d.dim+b.name),c[e]=c[e]||{coordSys:[],series:[]},c[e].coordSys.push(b),c[e].series.push(a))},this),c},_tryShow:function(a){var g,h,i,b=a.target,c=this._tooltipModel,d=c.get("trigger"),e=this._ecModel,f=this._api;c&&(this._lastX=a.offsetX,this._lastY=a.offsetY,b&&null!=b.dataIndex?(g=b.dataModel||e.getSeriesByIndex(b.seriesIndex),h=b.dataIndex,i=g.getData().getItemModel(h),"axis"===(i.get("tooltip.trigger")||d)?this._showAxisTooltip(c,e,a):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(g,h,a)),f.dispatchAction({type:"showTip",from:this.uid,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex})):("item"===d?this._hide():this._showAxisTooltip(c,e,a),"cross"===c.get("axisPointer.type")&&f.dispatchAction({type:"showTip",from:this.uid,x:a.offsetX,y:a.offsetY})))},_showAxisTooltip:function(a,b,c){var g,h,i,j,d=a.getModel("axisPointer"),e=d.get("type");"cross"===e&&(g=c.target,g&&null!=g.dataIndex&&(h=b.getSeriesByIndex(g.seriesIndex),i=g.dataIndex,this._showItemTooltipContent(h,i,c))),this._showAxisPointer(),j=!0,f.each(this._seriesGroupByAxis,function(a){var i,l,m,n,o,p,q,b=a.coordSys,g=b[0],h=[c.offsetX,c.offsetY];return g.containPoint(h)?(j=!1,i=g.dimensions,l=g.pointToData(h,!0),h=g.dataToPoint(l),m=g.getBaseAxis(),n=d.get("axis"),"auto"===n&&(n=m.dim),o=!1,p=this._lastHover,"cross"===e?(k(p.data,l)&&(o=!0),p.data=l):(q=f.indexOf(i,n),p.data===l[q]&&(o=!0),p.data=l[q]),"cartesian2d"!==g.type||o?"polar"!==g.type||o?"single"!==g.type||o||this._showSinglePointer(d,g,n,h):this._showPolarPointer(d,g,n,h):this._showCartesianPointer(d,g,n,h),"cross"!==e&&this._dispatchAndShowSeriesTooltipContent(g,a.series,h,l,o),void 0):(this._hideAxisPointer(g.name),void 0)},this),j&&this._hide()},_showCartesianPointer:function(a,b,c,d){function k(c,d,g){var i="x"===c?l(d[0],g[0],d[0],g[1]):l(g[0],d[1],g[1],d[1]),j=f._getPointerElement(b,a,c,i);h?e.updateProps(j,{shape:i},a):j.attr({shape:i})}function n(c,d,g){var i=b.getAxis(c),j=i.getBandWidth(),k=g[1]-g[0],l="x"===c?m(d[0]-j/2,g[0],j,k):m(g[0],d[1]-j/2,k,j),n=f._getPointerElement(b,a,c,l);h?e.updateProps(n,{shape:l},a):n.attr({shape:l})}var i,j,f=this,g=a.get("type"),h="cross"!==g;"cross"===g?(k("x",d,b.getAxis("y").getGlobalExtent()),k("y",d,b.getAxis("x").getGlobalExtent()),this._updateCrossText(b,d,a)):(i=b.getAxis("x"===c?"y":"x"),j=i.getGlobalExtent(),"cartesian2d"===b.type&&("line"===g?k:n)(c,d,j))},_showSinglePointer:function(a,b,c,d){function k(c,d,g){var i=b.getAxis(),j=i.orient,k="horizontal"===j?l(d[0],g[0],d[0],g[1]):l(g[0],d[1],g[1],d[1]),m=f._getPointerElement(b,a,c,k);h?e.updateProps(m,{shape:k},a):m.attr({shape:k})}var f=this,g=a.get("type"),h="cross"!==g,i=b.getRect(),j=[i.y,i.y+i.height];k(c,d,j)},_showPolarPointer:function(a,b,c,d){function o(c,d,g){var i,k,m,n,h=b.pointToCoord(d);"angle"===c?(k=b.coordToPoint([g[0],h[1]]),m=b.coordToPoint([g[1],h[1]]),i=l(k[0],k[1],m[0],m[1])):i={cx:b.cx,cy:b.cy,r:h[0]},n=f._getPointerElement(b,a,c,i),j?e.updateProps(n,{shape:i},a):n.attr({shape:i})}function p(c,d,g){var l,o,h=b.getAxis(c),i=h.getBandWidth(),k=b.pointToCoord(d),m=Math.PI/180;l="angle"===c?n(b.cx,b.cy,g[0],g[1],(-k[1]-i/2)*m,(-k[1]+i/2)*m):n(b.cx,b.cy,k[0]-i/2,k[0]+i/2,0,2*Math.PI),o=f._getPointerElement(b,a,c,l),j?e.updateProps(o,{shape:l},a):o.attr({shape:l})}var k,m,f=this,g=a.get("type"),h=b.getAngleAxis(),i=b.getRadiusAxis(),j="cross"!==g;"cross"===g?(o("angle",d,i.getExtent()),o("radius",d,h.getExtent()),this._updateCrossText(b,d,a)):(k=b.getAxis("radius"===c?"angle":"radius"),m=k.getExtent(),("line"===g?o:p)(c,d,m))},_updateCrossText:function(a,b,c){var k,l,d=c.getModel("crossStyle"),h=d.getModel("textStyle"),i=this._tooltipModel,j=this._crossText;j||(j=this._crossText=new e.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(j)),k=a.pointToData(b),l=a.dimensions,k=f.map(k,function(b,c){var d=a.getAxis(l[c]);return b="category"===d.type||"time"===d.type?d.scale.getLabel(b):g.addCommas(b.toFixed(d.getPixelPrecision()))}),j.setStyle({fill:h.getTextColor()||d.get("color"),textFont:h.getFont(),text:k.join(", "),x:b[0]+5,y:b[1]-5}),j.z=i.get("z"),j.zlevel=i.get("zlevel")},_getPointerElement:function(a,b,c,d){var k,l,m,n,o,p,f=this._tooltipModel,g=f.get("z"),h=f.get("zlevel"),i=this._axisPointers,j=a.name;return i[j]=i[j]||{},i[j][c]?i[j][c]:(k=b.get("type"),l=b.getModel(k+"Style"),m="shadow"===k,n=l[m?"getAreaStyle":"getLineStyle"](),o="polar"===a.type?m?"Sector":"radius"===c?"Circle":"Line":m?"Rect":"Line",m?n.stroke=null:n.fill=null,p=i[j][c]=new e[o]({style:n,z:g,zlevel:h,silent:!0,shape:d}),this.group.add(p),p)},_dispatchAndShowSeriesTooltipContent:function(a,b,c,d,e){var n,o,p,r,s,t,u,v,w,h=this._tooltipModel,i=this._tooltipContent,j=a.getBaseAxis(),k=f.map(b,function(a){return{seriesIndex:a.seriesIndex,dataIndex:a.getAxisTooltipDataIndex?a.getAxisTooltipDataIndex(a.coordDimToDataDim(j.dim),d,j):a.getData().indexOfNearest(a.coordDimToDataDim(j.dim)[0],d["x"===j.dim||"radius"===j.dim?0:1])}}),l=this._lastHover,m=this._api;l.payloadBatch&&!e&&m.dispatchAction({type:"downplay",batch:l.payloadBatch}),e||(m.dispatchAction({type:"highlight",batch:k}),l.payloadBatch=k),m.dispatchAction({type:"showTip",dataIndex:k[0].dataIndex,seriesIndex:k[0].seriesIndex,from:this.uid}),j&&h.get("showContent")&&(n=h.get("formatter"),o=h.get("position"),r=f.map(b,function(a,b){return a.getDataParams(k[b].dataIndex)}),i.show(h),s=k[0].dataIndex,e||(this._ticket="",n?"string"==typeof n?p=g.formatTpl(n,r):"function"==typeof n&&(u=this,v="axis_"+a.name+"_"+s,w=function(a,b){a===u._ticket&&(i.setContent(b),q(o,c[0],c[1],i,r,null,m))},u._ticket=v,p=n(r,v,w)):(t=b[0].getData().getName(s),p=(t?t+"<br />":"")+f.map(b,function(a,b){return a.formatTooltip(k[b].dataIndex,!0)}).join("<br />")),i.setContent(p)),q(o,c[0],c[1],i,r,null,m))},_showItemTooltipContent:function(a,b,c){var k,l,m,n,o,p,r,d=this._api,e=a.getData(),f=e.getItemModel(b),h=this._tooltipModel,i=this._tooltipContent,j=f.getModel("tooltip");j.parentModel?j.parentModel.parentModel=h:j.parentModel=this._tooltipModel,j.get("showContent")&&(k=j.get("formatter"),l=j.get("position"),m=a.getDataParams(b),k?"string"==typeof k?n=g.formatTpl(k,m):"function"==typeof k&&(o=this,p="item_"+a.name+"_"+b,r=function(a,b){a===o._ticket&&(i.setContent(b),q(l,c.offsetX,c.offsetY,i,m,c.target,d))},o._ticket=p,n=k(m,p,r)):n=a.formatTooltip(b),i.show(j),i.setContent(n),q(l,c.offsetX,c.offsetY,i,m,c.target,d))},_showAxisPointer:function(a){if(a){var b=this._axisPointers[a];
b&&f.each(b,function(a){a.show()})}else this.group.eachChild(function(a){a.show()}),this.group.show()},_resetLastHover:function(){var a=this._lastHover;a.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:a.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(a){if(a){var b=this._axisPointers[a];b&&f.each(b,function(a){a.hide()})}else this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(a,b){if(!j.node){var c=b.getZr();this._tooltipContent.hide(),c.off("click",this._tryShow),c.off("mousemove",this._mousemove),c.off("mouseout",this._hide),c.off("globalout",this._hide),b.off("showTip",this._manuallyShowTip),b.off("hideTip",this._manuallyHideTip)}}})},function(a,b,c){function l(a){var b="cubic-bezier(0.23, 1, 0.32, 1)",c="left "+a+"s "+b+","+"top "+a+"s "+b;return d.map(j,function(a){return a+"transition:"+c}).join(";")}function m(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();return d&&b.push("color:"+d),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),h(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)}),b.join(";")}function n(a){var b,c,d,f,j;return a=a,b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),f=a.getModel("textStyle"),j=a.get("padding"),c&&b.push(l(c)),d&&(b.push("background-Color:"+e.toHex(d)),b.push("filter:alpha(opacity=70)"),b.push("background-Color:"+d)),h(["width","color","radius"],function(c){var d="border-"+c,e=i(d),f=a.get(e);null!=f&&b.push(d+":"+f+("color"===c?"":"px"))}),b.push(m(f)),null!=j&&b.push("padding:"+g.normalizeCssArray(j).join("px ")+"px"),b.join(";")+";"}function o(a,b){var e,c=document.createElement("div"),d=b.getZr();this.el=c,this._x=b.getWidth()/2,this._y=b.getHeight()/2,a.appendChild(c),this._container=a,this._show=!1,this._hideTimeout,e=this,c.onmouseenter=function(){e.enterable&&(clearTimeout(e._hideTimeout),e._show=!0),e._inContent=!0},c.onmousemove=function(b){if(!e.enterable){var c=d.handler;f.normalizeEvent(a,b),c.dispatch("mousemove",b)}},c.onmouseleave=function(){e.enterable&&e._show&&e.hideLater(e._hideDelay),e._inContent=!1},p(c,a)}function p(a,b){function c(a){d(a.target)&&a.preventDefault()}function d(c){for(;c&&c!==b;){if(c===a)return!0;c=c.parentNode}}f.addEventListener(b,"touchstart",c),f.addEventListener(b,"touchmove",c),f.addEventListener(b,"touchend",c)}var d=c(3),e=c(38),f=c(80),g=c(6),h=d.each,i=g.toCamelCase,j=["","-webkit-","-moz-","-o-"],k="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";o.prototype={constructor:o,enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative")},show:function(a){clearTimeout(this._hideTimeout),this.el.style.cssText=k+n(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),this._show=!0},setContent:function(a){var b=this.el;b.innerHTML=a,b.style.display=a?"block":"none"},moveTo:function(a,b){var c=this.el.style;c.left=a+"px",c.top=b+"px",this._x=a,this._y=b},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this.enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(d.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}},a.exports=o},function(a,b,c){"use strict";c(273),c(279),c(281),c(1).extendComponentView({type:"polar"})},function(a,b,c){function h(a,b){var i,j,c=a.get("center"),d=a.get("radius"),f=b.getWidth(),g=b.getHeight(),h=e.parsePercent;this.cx=h(c[0],f),this.cy=h(c[1],g),i=this.getRadiusAxis(),j=Math.min(f,g)/2,i.setExtent(0,h(d,j))}function i(a){var f,h,c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();d.scale.setExtent(1/0,-1/0),e.scale.setExtent(1/0,-1/0),a.eachSeries(function(a){if(a.coordinateSystem===c){var b=a.getData();e.scale.unionExtent(b.getDataExtent("radius","category"!==e.type)),d.scale.unionExtent(b.getDataExtent("angle","category"!==d.type))}}),g(d,d.model),g(e,e.model),"category"!==d.type||d.onBand||(f=d.getExtent(),h=360/d.scale.count(),d.inverse?f[1]+=h:f[1]-=h,d.setExtent(f[0],f[1]))}function j(a,b){if(a.type=b.get("type"),a.scale=f.createScaleByModel(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,"angleAxis"===b.mainType){var c=b.get("startAngle");a.inverse=b.get("inverse")^b.get("clockwise"),a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a,a.model=b}var k,d=c(274),e=c(7),f=c(108),g=f.niceScaleExtent;c(277),k={dimensions:d.prototype.dimensions,create:function(a,b){var c=[];return a.eachComponent("polar",function(a,e){var g,k,l,m,f=new d(e);f.resize=h,f.update=i,g=f.getRadiusAxis(),k=f.getAngleAxis(),l=a.findAxisModel("radiusAxis"),m=a.findAxisModel("angleAxis"),j(g,l),j(k,m),f.resize(a,b),c.push(f),a.coordinateSystem=f}),a.eachSeries(function(a){"polar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("polarIndex")])}),c}},c(25).register("polar",k)},function(a,b,c){"use strict";var d=c(275),e=c(276),f=function(a){this.name=a||"",this.cx=0,this.cy=0,this._radiusAxis=new d,this._angleAxis=new e};f.prototype={constructor:f,type:"polar",dimensions:["radius","angle"],containPoint:function(a){var b=this.pointToCoord(a);return this._radiusAxis.contain(b[0])&&this._angleAxis.contain(b[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxesByScale:function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===a&&b.push(c),d.scale.type===a&&b.push(d),b},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(a){return a.mapArray(this.dimensions,function(a,b){return this.dataToPoint([a,b])},this)},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(a){var h,i,j,b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent(),f=Math.min(e[0],e[1]),g=Math.max(e[0],e[1]);for(d.inverse?f=g-360:g=f+360,h=Math.sqrt(b*b+c*c),b/=h,c/=h,i=180*(Math.atan2(-c,b)/Math.PI),j=f>i?1:-1;f>i||i>g;)i+=360*j;return[h,i]},coordToPoint:function(a){var b=a[0],c=a[1]/180*Math.PI,d=Math.cos(c)*b+this.cx,e=-Math.sin(c)*b+this.cy;return[d,e]}},a.exports=f},function(a,b,c){"use strict";function f(a,b){e.call(this,"radius",a,b),this.type="category"}var d=c(3),e=c(117);f.prototype={constructor:f,dataToRadius:e.prototype.dataToCoord,radiusToData:e.prototype.coordToData},d.inherits(f,e),a.exports=f},function(a,b,c){"use strict";function f(a,b){b=b||[0,360],e.call(this,"angle",a,b),this.type="category"}var d=c(3),e=c(117);f.prototype={constructor:f,dataToAngle:e.prototype.dataToCoord,angleToData:e.prototype.coordToData},d.inherits(f,e),a.exports=f},function(a,b,c){"use strict";c(278),c(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b,c=this.ecModel;return c.eachComponent(a,function(a){c.getComponent("polar",a.getShallow("polarIndex"))===this&&(b=a)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(a,b,c){"use strict";function i(a,b){return b.type||(b.data?"category":"value")}var h,d=c(3),e=c(19),f=c(121),g=e.extend({type:"polarAxis",axis:null});d.merge(g.prototype,c(123)),h={angle:{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{polarIndex:0,splitNumber:5}},f("angle",g,i,h.angle),f("radius",g,i,h.radius)},function(a,b,c){"use strict";c(273),c(280)},function(a,b,c){"use strict";function h(a,b,c,d){var e=a.coordToPoint([b,d]),f=a.coordToPoint([c,d]);return{x1:e[0],y1:e[1],x2:f[0],y2:f[1]}}var d=c(3),e=c(42),f=c(8),g=["axisLine","axisLabel","axisTick","splitLine","splitArea"];c(1).extendComponentView({type:"angleAxis",render:function(a,b){var c,e,f,h,i;this.group.removeAll(),a.get("show")&&(c=b.getComponent("polar",a.get("polarIndex")),e=a.axis,f=c.coordinateSystem,h=f.getRadiusAxis().getExtent(),i=e.getTicksCoords(),"category"!==e.type&&i.pop(),d.each(g,function(b){a.get(b+".show")&&this["_"+b](a,f,i,h)},this))},_axisLine:function(a,b,c,d){var f=a.getModel("axisLine.lineStyle"),g=new e.Circle({shape:{cx:b.cx,cy:b.cy,r:d[1]},style:f.getLineStyle(),z2:1,silent:!0});g.style.fill=null,this.group.add(g)},_axisTick:function(a,b,c,f){var g=a.getModel("axisTick"),i=(g.get("inside")?-1:1)*g.get("length"),j=d.map(c,function(a){return new e.Line({shape:h(b,f[1],f[1]+i,a)})});this.group.add(e.mergePath(j,{style:g.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(a,b,c,d){var n,o,p,q,r,s,t,u,g=a.axis,h=a.get("data"),i=a.getModel("axisLabel"),j=i.getModel("textStyle"),k=a.getFormattedLabels(),l=i.get("margin"),m=g.getLabelsCoords();for(n=0;n<c.length;n++)o=d[1],p=b.coordToPoint([o+l,m[n]]),q=b.cx,r=b.cy,s=Math.abs(p[0]-q)/o<.3?"center":p[0]>q?"left":"right",t=Math.abs(p[1]-r)/o<.3?"middle":p[1]>r?"top":"bottom",u=j,h&&h[n]&&h[n].textStyle&&(u=new f(h[n].textStyle,j)),this.group.add(new e.Text({style:{x:p[0],y:p[1],fill:u.getTextColor(),text:k[n],textAlign:s,textVerticalAlign:t,textFont:u.getFont()},silent:!0}))},_splitLine:function(a,b,c,f){var l,m,n,g=a.getModel("splitLine"),i=g.getModel("lineStyle"),j=i.get("color"),k=0;for(j=j instanceof Array?j:[j],l=[],m=0;m<c.length;m++)n=k++%j.length,l[n]=l[n]||[],l[n].push(new e.Line({shape:h(b,f[0],f[1],c[m])}));for(m=0;m<l.length;m++)this.group.add(e.mergePath(l[m],{style:d.defaults({stroke:j[m%j.length]},i.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,b,c,f){var k,l,m,n,o,p,q,r,g=a.getModel("splitArea"),h=g.getModel("areaStyle"),i=h.get("color"),j=0;for(i=i instanceof Array?i:[i],k=[],l=Math.PI/180,m=-c[0]*l,n=Math.min(f[0],f[1]),o=Math.max(f[0],f[1]),p=a.get("clockwise"),q=1;q<c.length;q++)r=j++%i.length,k[r]=k[r]||[],k[r].push(new e.Sector({shape:{cx:b.cx,cy:b.cy,r0:n,r:o,startAngle:m,endAngle:-c[q]*l,clockwise:p},silent:!0})),m=-c[q]*l;for(q=0;q<k.length;q++)this.group.add(e.mergePath(k[q],{style:d.defaults({fill:i[q%i.length]},h.getAreaStyle()),silent:!0}))}})},function(a,b,c){c(273),c(282)},function(a,b,c){"use strict";function i(a,b,c){return{position:[a.cx,a.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:b.getModel("axisLabel").get("rotate"),z2:1}}var d=c(3),e=c(42),f=c(126),g=["axisLine","axisLabel","axisTick","axisName"],h=["splitLine","splitArea"];c(1).extendComponentView({type:"radiusAxis",render:function(a,b){var c,e,j,k,l,m,n,o,p;this.group.removeAll(),a.get("show")&&(c=b.getComponent("polar",a.get("polarIndex")),e=c.coordinateSystem.getAngleAxis(),j=a.axis,k=c.coordinateSystem,l=j.getTicksCoords(),m=e.getExtent()[0],n=j.getExtent(),o=i(k,a,m),p=new f(a,o),d.each(g,p.add,p),this.group.add(p.getGroup()),d.each(h,function(b){a.get(b+".show")&&this["_"+b](a,k,m,n,l)},this))},_splitLine:function(a,b,c,f,g){var l,m,n,h=a.getModel("splitLine"),i=h.getModel("lineStyle"),j=i.get("color"),k=0;for(j=j instanceof Array?j:[j],l=[],m=0;m<g.length;m++)n=k++%j.length,l[n]=l[n]||[],l[n].push(new e.Circle({shape:{cx:b.cx,cy:b.cy,r:g[m]},silent:!0}));for(m=0;m<l.length;m++)this.group.add(e.mergePath(l[m],{style:d.defaults({stroke:j[m%j.length],fill:null},i.getLineStyle()),silent:!0}))},_splitArea:function(a,b,c,f,g){var l,m,n,o,h=a.getModel("splitArea"),i=h.getModel("areaStyle"),j=i.get("color"),k=0;for(j=j instanceof Array?j:[j],l=[],m=g[0],n=1;n<g.length;n++)o=k++%j.length,l[o]=l[o]||[],l[o].push(new e.Sector({shape:{cx:b.cx,cy:b.cy,r0:m,r:g[n],startAngle:0,endAngle:2*Math.PI},silent:!0})),m=g[n];for(n=0;n<l.length;n++)this.group.add(e.mergePath(l[n],{style:d.defaults({fill:j[n%j.length]},i.getAreaStyle()),silent:!0}))}})},function(a,b,c){c(163),c(284),c(161)},function(a,b,c){"use strict";var d=c(158);a.exports=c(1).extendComponentView({type:"geo",init:function(a,b){var c=new d(b,!0);this._mapDraw=c,this.group.add(c.group)},render:function(a,b,c){a.get("show")&&this._mapDraw.draw(a,b,c)}})},function(a,b,c){"use strict";var d=c(1),e=c(42),f=c(21);d.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),d.extendComponentView({type:"title",render:function(a,b,c){var d,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;this.group.removeAll(),a.get("show")&&(d=this.group,g=a.getModel("textStyle"),h=a.getModel("subtextStyle"),i=a.get("textAlign"),j=new e.Text({style:{text:a.get("text"),textFont:g.getFont(),fill:g.getTextColor(),textBaseline:"top"},z2:10}),k=j.getBoundingRect(),l=a.get("subtext"),m=new e.Text({style:{text:l,textFont:h.getFont(),fill:h.getTextColor(),y:k.height+a.get("itemGap"),textBaseline:"top"},z2:10}),n=a.get("link"),o=a.get("sublink"),j.silent=!n,m.silent=!o,n&&j.on("click",function(){window.open(n,"_"+a.get("target"))}),o&&m.on("click",function(){window.open(o,"_"+a.get("subtarget"))}),d.add(j),l&&d.add(m),p=d.getBoundingRect(),q=a.getBoxLayoutParams(),q.width=p.width,q.height=p.height,r=f.getLayoutRect(q,{width:c.getWidth(),height:c.getHeight()},a.get("padding")),i||(i=a.get("left")||a.get("right"),"middle"===i&&(i="center"),"right"===i?r.x+=r.width:"center"===i&&(r.x+=r.width/2)),d.position=[r.x,r.y],j.setStyle("textAlign",i),m.setStyle("textAlign",i),p=d.getBoundingRect(),s=r.margin,t=a.getItemStyle(["color","opacity"]),t.fill=a.get("backgroundColor"),u=new e.Rect({shape:{x:p.x-s[3],y:p.y-s[0],width:p.width+s[1]+s[3],height:p.height+s[0]+s[2]},style:t,silent:!0}),e.subPixelOptimizeRect(u),d.add(u))}})},function(a,b,c){c(287),c(288),c(290),c(291),c(292),c(295),c(296),c(298),c(299)},function(a,b,c){c(19).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(a,b,c){function l(a){var b={};return i(["start","end","startValue","endValue"],function(c){b[c]=a[c]}),b}function m(a,b,c,d){null!=c[b]&&null==c[a]&&(d[a]=null)}var d=c(3),e=c(78),f=c(1),g=c(5),h=c(289),i=d.each,j=g.eachAxisDim,k=f.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(a,b,c){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel;var d=l(a);this.mergeDefaultAndTheme(a,c),this.doInit(d)},mergeOption:function(a){var b=l(a);d.merge(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;e.canvasSupported||(b.realtime=!1),m("start","startValue",a,b),m("end","endValue",a,b),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){var f=this.dependentModels[b.axis][c],g=f.__dzAxisProxy||(f.__dzAxisProxy=new h(b.name,c,this,e));a[b.name+"_"+c]=g},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();j(function(b){var c=b.axisIndex;a[c]=g.normalizeToArray(a[c])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var c,a=this.option,b=!1;return j(function(c){null!=a[c.axisIndex]&&(b=!0)},this),c=a.orient,null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e,a=!0,b=this.get("orient",!0),c=this.option;a&&(e="vertical"===b?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"},this.dependentModels[e.axis].length&&(c[e.axisIndex]=[0],a=!1)),a&&j(function(b){var d,e,f,g;if(a){if(d=[],e=this.dependentModels[b.axis],e.length&&!d.length)for(f=0,g=e.length;g>f;f++)"category"===e[f].get("type")&&d.push(f);c[b.axisIndex]=d,d.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&j(function(b){var e=c[b.axisIndex],f=a.get(b.axisIndex);d.indexOf(e,f)<0&&e.push(f)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return j(function(d){var e=a.get(d.axisIndex),f=this.dependentModels[d.axis][e];f&&f.get("type")===b||(c=!1)},this),c},getFirstTargetAxisModel:function(){var a;return j(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;j(function(d){i(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},setRawRange:function(a){i(["start","end","startValue","endValue"],function(b){this.option[b]=a[b]},this)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();return a?a.getDataPercentWindow():void 0},getValueRange:function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var b,a=this._axisProxies;for(b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]}});a.exports=k},function(a,b,c){function i(a,b){var c=[1/0,-1/0];return f(b,function(b){var d=b.getData();d&&f(b.coordDimToDataDim(a),function(a){var b=d.getDataExtent(a);b[0]<c[0]&&(c[0]=b[0]),b[1]>c[1]&&(c[1]=b[1])})},this),c}function j(a,b,c){var d=c.getAxisModel(),h=d.axis.scale,i=[0,100],j=[a.start,a.end],l=[];return b=b.slice(),k(b,d,h),f(["startValue","endValue"],function(b){l.push(null!=a[b]?h.parse(a[b]):null)}),f([0,1],function(a){function f(b){return Math[0===a?"floor":"ceil"](1e12*b)/1e12}var c=l[a],d=j[a];null!=d||null==c?(null==d&&(d=i[a]),c=h.parse(e.linearMap(d,i,b,!0))):d=e.linearMap(c,b,i,!0),l[a]=f(c),j[a]=f(d)}),{valueWindow:g(l),percentWindow:g(j)}}function k(a,b,c){return f(["min","max"],function(d,e){var f=b.get(d,!0);null!=f&&(f+"").toLowerCase()!=="data"+d&&(a[e]=c.parse(f))}),b.get("scale",!0)||(a[0]>0&&(a[0]=0),a[1]<0&&(a[1]=0)),a}function l(a,b){var g,h,i,j,c=a.getAxisModel(),d=a._percentWindow,f=a._valueWindow;d&&(g=b||0===d[0]&&100===d[1],h=!b&&e.getPixelPrecision(f,[0,500]),i=!(b||20>h&&h>=0),j=b||g||i,c.setRange&&c.setRange(j?null:+f[0].toFixed(h),j?null:+f[1].toFixed(h)))}var d=c(3),e=c(7),f=d.each,g=e.asc,h=function(a,b,c,d){this._dimName=a,this._axisIndex=b,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=d,this._dataZoomModel=c};h.prototype={constructor:h,hostedBy:function(a){return this._dataZoomModel===a},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[];return this.ecModel.eachSeries(function(b){this._axisIndex===b.get(this._dimName+"AxisIndex")&&a.push(b)},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,f,g,a=this._dimName,b=this.ecModel,c=this.getAxisModel(),d="x"===a||"y"===a;return d?(f="gridIndex",e="x"===a?"y":"x"):(f="polarIndex",e="angle"===a?"radius":"angle"),b.eachComponent(e+"Axis",function(a){(a.get(f)||0)===(c.get(f)||0)&&(g=a)}),g},reset:function(a){var b,c;a===this._dataZoomModel&&(b=this._dataExtent=i(this._dimName,this.getTargetSeriesModels()),c=j(a.option,b,this),this._valueWindow=c.valueWindow,this._percentWindow=c.percentWindow,l(this))},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,l(this,!0))},filterData:function(a){function h(a){return a>=e[0]&&a<=e[1]}var b,c,d,e,g;a===this._dataZoomModel&&(b=this._dimName,c=this.getTargetSeriesModels(),d=a.get("filterMode"),e=this._valueWindow,g=this.getOtherAxisModel(),a.get("$fromToolbox")&&g&&"category"===g.get("type")&&(d="empty"),f(c,function(a){var c=a.getData();c&&f(a.coordDimToDataDim(b),function(b){"empty"===d?a.setData(c.map(b,function(a){return h(a)?a:0/0})):c.filterSelf(b,h)})}))}},a.exports=h},function(a,b,c){var d=c(28);a.exports=d.extend({type:"dataZoom",render:function(a,b,c){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetInfo:function(){function f(a,b,c,d){var e,f;for(f=0;f<c.length;f++)if(c[f].model===a){e=c[f];break}e||c.push(e={model:a,axisModels:[],coordIndex:d}),e.axisModels.push(b)}var a=this.dataZoomModel,b=this.ecModel,c=[],d=[],e=[];return a.eachTargetAxis(function(a,g){var i,j,k,h=b.getComponent(a.axis,g);h&&(e.push(h),i=h.get("gridIndex"),j=h.get("polarIndex"),null!=i?(k=b.getComponent("grid",i),f(k,h,c,i)):null!=j&&(k=b.getComponent("polar",j),f(k,h,d,j)))},this),{cartesians:c,polars:d,axisModels:e}}})},function(a,b,c){var g,d=c(288);c(21),c(3),g=d.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.15)",handleColor:"rgba(148,164,165,0.95)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}},mergeOption:function(){g.superApply(this,"mergeOption",arguments)}}),a.exports=g},function(a,b,c){function z(a){return"x"===a?"y":"x"}var d=c(3),e=c(42),f=c(293),g=c(290),h=e.Rect,i=c(7),j=i.linearMap,k=c(21),l=c(294),m=i.asc,n=d.bind,o=Math.round,p=Math.max,q=d.each,r=7,s=1,t=30,u="horizontal",v="vertical",w=5,x=["line","bar","candlestick","scatter"],y=g.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._halfHandleSize,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(a,b,c,d){return y.superApply(this,"render",arguments),f.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=a.get("orient"),this._halfHandleSize=o(a.get("handleSize")/2),this.dataZoomModel.get("show")===!1?(this.group.removeAll(),void 0):(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView(),void 0)},remove:function(){y.superApply(this,"remove",arguments),f.clear(this,"_dispatchZoomAction")},dispose:function(){y.superApply(this,"dispose",arguments),f.clear(this,"_dispatchZoomAction")},_buildView:function(){var b,a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval(),b=this._displayables.barGroup=new e.Group,this._renderBackground(),this._renderDataShadow(),this._renderHandle(),a.add(b),this._positionGroup()},_resetLocation:function(){var h,a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),e={width:b.getWidth(),height:b.getHeight()},f=this._orient===u?{right:e.width-c.x-c.width,top:e.height-t-r,width:c.width,height:t}:{right:r,top:c.y,width:t,height:c.height},g=k.getLayoutParams(a.option);d.each(["right","top","width","height"],function(a){"ph"===g[a]&&(g[a]=f[a])}),h=k.getLayoutRect(g,e,a.padding),this._location={x:h.x,y:h.y},this._size=[h.width,h.height],this._orient===v&&this._size.reverse()},_positionGroup:function(){var h,a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==u||e?c===u&&e?{scale:g?[-1,1]:[-1,-1]}:c!==v||e?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]}),h=a.getBoundingRect([f]),a.position[0]=b.x-h.x,a.position[1]=b.y-h.y},_getViewExtent:function(){var a=this._halfHandleSize,b=p(this._size[0],4*a),c=[a,b-a];return c},_renderBackground:function(){var a=this.dataZoomModel,b=this._size;this._displayables.barGroup.add(new h({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")}}))},_renderDataShadow:function(){var b,c,d,f,g,h,i,k,l,m,n,o,a=this._dataShadowInfo=this._prepareDataShadowInfo();a&&(b=this._size,c=a.series,d=c.getRawData(),f=c.getShadowDim?c.getShadowDim():a.otherDim,g=d.getDataExtent(f),h=.3*(g[1]-g[0]),g=[g[0]-h,g[1]+h],i=[0,b[1]],k=[0,b[0]],l=[[b[0],0],[0,0]],m=k[1]/(d.count()-1),n=0,o=Math.round(d.count()/b[0]),d.each([f],function(a,b){if(o>0&&b%o)return n+=m,void 0;var c=null==a||isNaN(a)||""===a?null:j(a,g,i,!0);null!=c&&l.push([n,c]),n+=m}),this._displayables.barGroup.add(new e.Polyline({shape:{points:l},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20})))},_prepareDataShadowInfo:function(){var c,e,a=this.dataZoomModel,b=a.get("showDataShadow");if(b!==!1)return e=this.ecModel,a.eachTargetAxis(function(f,g){var h=a.getAxisProxy(f.name,g).getTargetSeriesModels();d.each(h,function(a){var h,i;c||b!==!0&&d.indexOf(x,a.get("type"))<0||(h=z(f.name),i=e.getComponent(f.axis,g).axis,c={thisAxis:i,series:a,thisDim:f.name,otherDim:h,otherAxisInverse:a.coordinateSystem.getOtherAxis(i).inverse})},this)},this),c},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,f=this._size;d.add(a.filler=new h({draggable:!0,cursor:"move",drift:n(this._onDragMove,this,"all"),ondragend:n(this._onDragEnd,this),onmouseover:n(this._showDataInfo,this,!0),onmouseout:n(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}})),d.add(new h(e.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:f[0],height:f[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:s,fill:"rgba(0,0,0,0)"}}))),q([0,1],function(a){d.add(b[a]=new h({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:n(this._onDragMove,this,a),ondragend:n(this._onDragEnd,this),onmouseover:n(this._showDataInfo,this,!0),onmouseout:n(this._showDataInfo,this,!1)}));var f=this.dataZoomModel.textStyleModel;this.group.add(c[a]=new e.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:f.getTextColor(),textFont:f.getFont()}}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[j(a[0],[0,100],b,!0),j(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this._handleEnds,d=this._getViewExtent();l(b,c,d,"all"===a||this.dataZoomModel.get("zoomLock")?"rigid":"cross",a),this._range=m([j(c[0],d,[0,100],!0),j(c[1],d,[0,100],!0)])},_updateView:function(){var a=this._displayables,b=this._handleEnds,c=m(b.slice()),d=this._size,e=this._halfHandleSize;q([0,1],function(c){var f=a.handles[c];f.setShape({x:b[c]-e,y:-1,width:2*e,height:d[1]+2,r:1})},this),a.filler.setShape({x:c[0],y:0,width:c[1]-c[0],height:this._size[1]}),this._updateDataInfo()},_updateDataInfo:function(){function j(a){var g=e.getTransform(b.handles[a],this.group),h=e.transformDirection(0===a?"right":"left",g),j=this._halfHandleSize+w,k=e.applyTransform([i[a]+(0===a?-j:j),this._size[1]/2],g);c[a].setStyle({x:k[0],y:k[1],textVerticalAlign:d===u?"middle":h,textAlign:d===u?h:"center",text:f[a]})}var g,h,i,a=this.dataZoomModel,b=this._displayables,c=b.handleLabels,d=this._orient,f=["",""];a.get("showDetail")&&(a.eachTargetAxis(function(b,c){g||(g=a.getAxisProxy(b.name,c).getDataValueWindow(),h=this.ecModel.getComponent(b.axis,c).axis)},this),g&&(f=[this._formatLabel(g[0],h),this._formatLabel(g[1],h)])),i=m(this._handleEnds.slice()),j.call(this,0),j.call(this,1)},_formatLabel:function(a,b){var f,c=this.dataZoomModel,e=c.get("labelFormatter");return d.isFunction(e)?e(a):(f=c.get("labelPrecision"),(null==f||"auto"===f)&&(f=b.getPixelPrecision()),a=null==a&&isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(f,20)),d.isString(e)&&(a=e.replace("{value}",a)),a)},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=this._applyBarTransform([b,c],!0);this._updateInterval(a,d[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_applyBarTransform:function(a,b){var c=this._displayables.barGroup.getLocalTransform();return e.applyTransform(a,c,b)},_findCoordRect:function(){var b,c,d,a=this.getTargetInfo();return a.cartesians.length?b=a.cartesians[0].model.coordinateSystem.getRect():(c=this.api.getWidth(),d=this.api.getHeight(),b={x:.2*c,y:.2*d,width:.6*c,height:.6*d}),b}});a.exports=y},function(a){var c={},d="\0__throttleOriginMethod",e="\0__throttleRate";c.throttle=function(a,b,c,d){function o(m){function n(){g=(new Date).getTime(),h=null,(l?a:a[m]).apply(j,k||[])}var o=function(){e=(new Date).getTime(),j=this,k=arguments,i=e-(d?f:g)-b,clearTimeout(h),d?c?h=setTimeout(n,b):i>=0&&n():i>=0?n():c&&(h=setTimeout(n,-i)),f=e};return o.clear=function(){h&&(clearTimeout(h),h=null)},o}var i,j,k,m,n,e=(new Date).getTime(),f=0,g=0,h=null,l="function"==typeof a;if(b=b||0,l)return o();for(m=[],n=0;n<a.length;n++)m[n]=o(n);return m},c.fixRate=function(a,b){return null!=b?c.throttle(a,b,!0,!1):a},c.debounce=function(a,b){return null!=b?c.throttle(a,b,!0,!0):a},c.createOrUpdate=function(a,b,f,g){var i,j,h=a[b];h&&null!=f&&g&&(i=h[d]||h,j=h[e],j!==f&&(h=a[b]=c[g](i,f),h[d]=i,h[e]=f))},c.clear=function(a,b){var c=a[b];c&&c[d]&&(a[b]=c[d])},a.exports=c},function(a){a.exports=function(a,b,c,d,e){function f(a,b,c){var d=b.length?b.slice():[b,b];return b[0]>b[1]&&d.reverse(),0>a&&d[0]+a<c[0]&&(a=c[0]-d[0]),a>0&&d[1]+a>c[1]&&(a=c[1]-d[1]),a}return a?("rigid"===d?(a=f(a,b,c),b[0]+=a,b[1]+=a):(a=f(a,b[e],c),b[e]+=a,"push"===d&&b[0]>b[1]&&(b[1-e]=b[e])),b):b}},function(a,b,c){a.exports=c(288).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(a,b,c){function j(a,b,c,d){var e,g,h;return b=b.slice(),(e=d.axisModels[0])?(g=l(a,e,c),h=g.signal*(b[1]-b[0])*g.pixel/g.pixelLength,f(h,b,[0,100],"rigid"),b):void 0}function k(a,b,c,d,e){var g,h,i,j;return c=c.slice(),(g=e.axisModels[0])?(h=l(b,g,d),i=h.pixel-h.pixelStart,j=i/h.pixelLength*(c[1]-c[0])+c[0],a=Math.max(a,0),c[0]=(c[0]-j)*a+j,c[1]=(c[1]-j)*a+j,m(c)):void 0}function l(a,b,c){var d=b.axis,e=c.rect,f={};return"x"===d.dim?(f.pixel=a[0],f.pixelLength=e.width,f.pixelStart=e.x,f.signal=d.inverse?1:-1):(f.pixel=a[1],f.pixelLength=e.height,f.pixelStart=e.y,f.signal=d.inverse?-1:1),f}function m(a){var b=[0,100];return!(a[0]<=b[1])&&(a[0]=b[1]),!(a[1]<=b[1])&&(a[1]=b[1]),!(a[0]>=b[0])&&(a[0]=b[0]),!(a[1]>=b[0])&&(a[1]=b[0]),a}var d=c(290),e=c(3),f=c(294),g=c(297),h=e.bind,i=d.extend({type:"dataZoom.inside",init:function(){this._range},render:function(a,b,c,d){var f,j;i.superApply(this,"render",arguments),g.shouldRecordRange(d,a.id)&&(this._range=a.getPercentRange()),f=this.getTargetInfo().cartesians,j=e.map(f,function(a){return g.generateCoordId(a.model)}),e.each(f,function(b){var d=b.model;g.register(c,{coordId:g.generateCoordId(d),allCoordIds:j,coordinateSystem:d.coordinateSystem,dataZoomId:a.id,throttleRage:a.get("throttle",!0),panGetRange:h(this._onPan,this,b),zoomGetRange:h(this._onZoom,this,b)})
},this)},remove:function(){g.unregister(this.api,this.dataZoomModel.id),i.superApply(this,"remove",arguments),this._range=null},dispose:function(){g.unregister(this.api,this.dataZoomModel.id),i.superApply(this,"dispose",arguments),this._range=null},_onPan:function(a,b,c,d){return this._range=j([c,d],this._range,b,a)},_onZoom:function(a,b,c,d,e){var f=this.dataZoomModel;return f.option.zoomLock?this._range:this._range=k(1/c,[d,e],this._range,b,a,f)}});a.exports=i},function(a,b,c){function j(a){var b=a.getZr();return b[h]||(b[h]={})}function k(a,b,c){var d=new e(a.getZr());return d.enable(),d.on("pan",g(m,c)),d.on("zoom",g(n,c)),d}function l(a){d.each(a,function(b,c){b.count||(b.controller.off("pan").off("zoom"),delete a[c])})}function m(a,b,c){o(a,function(d){return d.panGetRange(a.controller,b,c)})}function n(a,b,c,d){o(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function o(a,b){var c=[];d.each(a.dataZoomInfos,function(a){var d=b(a);d&&c.push({dataZoomId:a.dataZoomId,start:d[0],end:d[1]})}),a.dispatchAction(c)}function p(a,b){a.dispatchAction({type:"dataZoom",batch:b})}var d=c(3),e=c(159),f=c(293),g=d.curry,h="\0_ec_dataZoom_roams",i={register:function(a,b){var h,c=j(a),e=b.dataZoomId,g=b.coordId;d.each(c,function(a){var f=a.dataZoomInfos;f[e]&&d.indexOf(b.allCoordIds,g)<0&&(delete f[e],a.count--)}),l(c),h=c[g],h||(h=c[g]={coordId:g,dataZoomInfos:{},count:0},h.controller=k(a,b,h),h.dispatchAction=d.curry(p,a)),h.controller.rect=b.coordinateSystem.getRect().clone(),f.createOrUpdate(h,"dispatchAction",b.throttleRate,"fixRate"),!h.dataZoomInfos[e]&&h.count++,h.dataZoomInfos[e]=b},unregister:function(a,b){var c=j(a);d.each(c,function(a){var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)}),l(c)},shouldRecordRange:function(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;d>c;c++)if(a.batch[c].dataZoomId===b)return!1;return!0},generateCoordId:function(a){return a.type+"\0_"+a.id}};a.exports=i},function(a,b,c){function e(a,b,c){c.getAxisProxy(a.name,b).reset(c)}function f(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}var d=c(1);d.registerProcessor("filter",function(a){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(e),a.eachTargetAxis(f)}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]})})})},function(a,b,c){var d=c(3),e=c(5),f=c(1);f.registerAction("dataZoom",function(a,b){var c=e.createLinkedNodesFinder(d.bind(b.eachComponent,b,"dataZoom"),e.eachAxisDim,function(a,b){return a.get(b.axisIndex)}),f=[];b.eachComponent({mainType:"dataZoom",query:a},function(a){f.push.apply(f,c(a).nodes)}),d.each(f,function(b){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})},function(a,b,c){c(301),c(312)},function(a,b,c){c(1).registerPreprocessor(c(302)),c(303),c(304),c(305),c(308),c(311)},function(a,b,c){function f(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}var d=c(3),e=d.each;a.exports=function(a){var b=a&&a.visualMap;d.isArray(b)||(b=b?[b]:[]),e(b,function(a){if(a){f(a,"splitList")&&!f(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList);var b=a.pieces;b&&d.isArray(b)&&e(b,function(a){d.isObject(a)&&(f(a,"start")&&!f(a,"min")&&(a.min=a.start),f(a,"end")&&!f(a,"max")&&(a.max=a.end))})}})}},function(a,b,c){c(19).registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?a.pieces.length>0:a.splitNumber>0)&&!a.calculable?"piecewise":"continuous"})},function(a,b,c){function g(a){var c=a.targetVisuals,d={};f.each(["inRange","outOfRange"],function(a){var b=e.prepareVisualTypes(c[a]);d[a]=b}),a.eachTargetSeries(function(b){function h(a){return e.getItemVisual(g,a)}function i(a,b){e.setItemVisual(g,a,b)}var g,e=b.getData(),f=a.getDataDimension(e);e.each([f],function(b,e){var f,j,k,l,m,n;for(g=e,f=a.getValueState(b),j=c[f],k=d[f],l=0,m=k.length;m>l;l++)n=k[l],j[n]&&j[n].applyVisual(b,h,i)})})}var d=c(1),e=c(187),f=c(3);d.registerVisualCoding("component",function(a){a.eachComponent("visualMap",function(b){g(b,a)})})},function(a,b,c){var d=c(306),e=c(3),f=c(7),g=[20,140],h=d.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:[-1/0,1/0],hoverLink:!0,realtime:!0,itemWidth:null,itemHeight:null},doMergeOption:function(a,b){h.superApply(this,"doMergeOption",arguments),this.resetTargetSeries(a,b),this.resetExtent(),this.resetVisual(function(a){a.mappingMethod="linear"}),this._resetRange()},resetItemSize:function(){d.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse(),(null==a[0]||isNaN(a[0]))&&(a[0]=g[0]),(null==a[1]||isNaN(a[1]))&&(a[1]=g[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1])},completeVisualOption:function(){d.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(a){var b=this.option.controller[a].symbolSize;b&&b[0]!==b[1]&&(b[0]=0)},this)},setSelected:function(a){this.option.range=a.slice(),this._resetRange()},getSelected:function(){var a=this.getExtent(),b=f.asc((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"}});a.exports=h},function(a,b,c){function r(a,b){d.each(["inRange","outOfRange","target","controller","color"],function(c){b.hasOwnProperty(c)?a[c]=d.clone(b[c]):delete a[c]})}var d=c(3),e=c(78),f=c(1),g=c(5),h=c(307),i=c(187),j=i.mapVisual,k=i.eachVisual,l=c(7),m=d.isArray,n=d.each,o=l.asc,p=l.linearMap,q=f.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-1/0,1/0],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this._dataExtent,this.controllerVisuals={},this.targetVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(a,c),this.doMergeOption({},!0)},mergeOption:function(a){q.superApply(this,"mergeOption",arguments),this.doMergeOption(a,!1)},doMergeOption:function(a,b){var c=this.option;!b&&r(c,a),e.canvasSupported||(c.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},formatValueText:function(a,b){function j(a){return a===f[0]?"min":a===f[1]?"max":(+a).toFixed(e)}var h,i,c=this.option,e=c.precision,f=this.dataBound,g=c.formatter;return d.isArray(a)&&(a=a.slice(),h=!0),i=b?a:h?[j(a[0]),j(a[1])]:j(a),d.isString(g)?g.replace("{value}",h?i[0]:i).replace("{value2}",h?i[1]:i):d.isFunction(g)?h?g(a[0],a[1]):g(a):h?a[0]===f[0]?"< "+i[1]:a[1]===f[1]?"> "+i[0]:i[0]+" - "+i[1]:i},resetTargetSeries:function(){var c=this.option,d=null==c.seriesIndex;c.seriesIndex=d?[]:g.normalizeToArray(c.seriesIndex),d&&this.ecModel.eachSeries(function(a,b){var d=a.getData();"list"===d.type&&c.seriesIndex.push(b)})},resetExtent:function(){var a=this.option,b=o([a.min,a.max]);this._dataExtent=b},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(a){function c(c,f){n(this.stateList,function(g){var h=f[g]||(f[g]=e()),j=this.option[c][g]||{};n(j,function(e,f){if(i.isValidType(f)){var j={type:f,dataExtent:b,visual:e};a&&a.call(this,j,g),h[f]=new i(j),"controller"===c&&"opacity"===f&&(j=d.clone(j),j.type="colorAlpha",h.__hidden.__alphaForOpacity=new i(j))}},this)},this)}function e(){var b,a=function(){};return a.prototype.__hidden=a.prototype,b=new a}var b=this.getExtent();c.call(this,"controller",this.controllerVisuals),c.call(this,"target",this.targetVisuals)},completeVisualOption:function(){function g(b){m(a.color)&&!b.inRange&&(b.inRange={color:a.color.slice().reverse()}),n(this.stateList,function(a){var e,c=b[a];d.isString(c)&&(e=h.get(c,"active",f),e?(b[a]={},b[a][c]=e):delete b[a])},this)}function l(a,b,c){var d=a[b],e=a[c];d&&!e&&(e=a[c]={},n(d,function(a,b){var c=h.get(b,"inactive",f);i.isValidType(b)&&c&&(e[b]=c)}))}function o(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,e=this.get("inactiveColor");n(this.stateList,function(g){var l,m,h=this.itemSize,i=a[g];i||(i=a[g]={color:f?e:[e]}),i.symbol||(i.symbol=b&&d.clone(b)||(f?"roundRect":["roundRect"])),i.symbolSize||(i.symbolSize=c&&d.clone(c)||(f?h[0]:[h[0],h[0]])),i.symbol=j(i.symbol,function(a){return"none"===a||"square"===a?"roundRect":a}),l=i.symbolSize,l&&(m=-1/0,k(l,function(a){a>m&&(m=a)}),i.symbolSize=j(l,function(a){return p(a,[0,m],[0,h[0]],!0)}))},this)}var f,a=this.option,b={inRange:a.inRange,outOfRange:a.outOfRange},c=a.target||(a.target={}),e=a.controller||(a.controller={});d.merge(c,b),d.merge(e,b),f=this.isCategory(),g.call(this,c),g.call(this,e),l.call(this,c,"inRange","outOfRange"),l.call(this,c,"outOfRange","inRange"),o.call(this,e)},eachTargetSeries:function(a,b){d.each(this.option.seriesIndex,function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:d.noop,getValueState:d.noop});a.exports=q},function(a,b,c){var d=c(3),e={get:function(a,b,c){var e=d.clone((f[a]||{})[b]);return c?d.isArray(e)?e[e.length-1]:e:e}},f={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};a.exports=e},function(a,b,c){function n(a,b,c){return new e.Polygon({shape:{points:a},draggable:!!b,cursor:c,drift:b})}function o(a,b){return 0===a?[[0,0],[b,0],[b,-b]]:[[0,0],[b,0],[b,b]]}var d=c(309),e=c(42),f=c(3),g=c(7),h=c(294),i=g.linearMap,j=c(75),k=c(310),l=f.each,m=d.extend({type:"visualMap.continuous",init:function(){d.prototype.init.apply(this,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid?this._updateView():this._buildView()},_buildView:function(){var a,b,c;this.group.removeAll(),a=this.visualMapModel,b=this.group,this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(b),c=a.get("text"),this._renderEndsText(b,c,0),this._renderEndsText(b,c,1),this._updateView(!0),this.renderBackground(b),this._updateView(),this.positionGroup(b)},_renderEndsText:function(a,b,c){var d,f,g,h,i,j,k,l,m;b&&(d=b[1-c],d=null!=d?d+"":"",f=this.visualMapModel,g=f.get("textGap"),h=f.itemSize,i=this._shapes.barGroup,j=this._applyTransform([h[0]/2,0===c?-g:h[1]+g],i),k=this._applyTransform(0===c?"bottom":"top",i),l=this._orient,m=this.visualMapModel.textStyleModel,this.group.add(new e.Text({style:{x:j[0],y:j[1],textVerticalAlign:"horizontal"===l?"middle":k,textAlign:"horizontal"===l?k:"center",text:d,textFont:m.getFont(),fill:m.getTextColor()}})))},_renderBar:function(a){var j,l,b=this.visualMapModel,c=this._shapes,d=b.itemSize,e=this._orient,g=this._useHandle,h=k.getItemAlign(b,this.api,d),i=c.barGroup=this._createBarGroup(h);i.add(c.outOfRange=n()),i.add(c.inRange=n(null,f.bind(this._modifyHandle,this,"all"),g?"move":null)),j=b.textStyleModel.getTextRect("国"),l=Math.max(j.width,j.height),g&&(c.handleGroups=[],c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(i,0,d,l,e,h),this._createHandle(i,1,d,l,e,h)),a.add(i)},_createHandle:function(a,b,c,d,g){var j,k,l,m,h=new e.Group({position:[c[0],0]}),i=n(o(b,d),f.bind(this._modifyHandle,this,b),"move");h.add(i),j={x:"horizontal"===g?d/2:1.5*d,y:"horizontal"===g?0===b?-(1.5*d):1.5*d:0===b?-d/2:d/2},k=this.visualMapModel.textStyleModel,l=new e.Text({silent:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textFont:k.getFont(),fill:k.getTextColor()}}),this.group.add(l),m=this._shapes,m.handleThumbs[b]=i,m.handleGroups[b]=h,m.handleLabelPoints[b]=j,m.handleLabels[b]=l,a.add(h)},_modifyHandle:function(a,b,c){if(this._useHandle){var d=this._applyTransform([b,c],this._shapes.barGroup,!0);this._updateInterval(a,d[1]),this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),d=[0,a.itemSize[1]];this._handleEnds=[i(b[0],c,d,!0),i(b[1],c,d,!0)]},_updateInterval:function(a,b){var c,d,e,f;b=b||0,c=this.visualMapModel,d=this._handleEnds,h(b,d,[0,c.itemSize[1]],"all"===a?"rigid":"push",a),e=c.getExtent(),f=[0,c.itemSize[1]],this._dataInterval=[i(d[0],f,e,!0),i(d[1],f,e,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,e=this._dataInterval,f=[0,b.itemSize[1]],g=a?f:this._handleEnds,h=this._createBarVisual(e,c,g,"inRange"),i=this._createBarVisual(c,c,f,"outOfRange");d.inRange.setStyle({fill:h.barColor,opacity:h.opacity}).setShape("points",h.barPoints),d.outOfRange.setStyle({fill:i.barColor,opacity:i.opacity}).setShape("points",i.barPoints),this._useHandle&&l([0,1],function(a){d.handleThumbs[a].setStyle("fill",h.handlesColor[a]),d.handleLabels[a].setStyle({text:b.formatValueText(e[a]),textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",d.barGroup)})},this),this._updateHandlePosition(g)},_createBarVisual:function(a,b,c,d){var e={forceState:d,convertOpacityToAlpha:!0},f=this.getControllerVisual(a,"color",e),g=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)],h=this._createBarPoints(c,g);return{barColor:new j(0,0,1,1,f),barPoints:h,handlesColor:[f[0].color,f[f.length-1].color]}},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new e.Group("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandlePosition:function(a){if(this._useHandle){var b=this._shapes;l([0,1],function(c){var f,g,d=b.handleGroups[c];d.position[1]=a[c],f=b.handleLabelPoints[c],g=e.applyTransform([f.x,f.y],e.getTransform(d,this.group)),b.handleLabels[c].setStyle({x:g[0],y:g[1]})},this)}},_applyTransform:function(a,b,c){var d=e.getTransform(b,this.group);return e[f.isArray(a)?"applyTransform":"transformDirection"](a,d,c)}});a.exports=m},function(a,b,c){var d=c(1),e=c(3),f=c(42),g=c(6),h=c(21),i=c(187);a.exports=d.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a,this.api=b,this.visualMapModel,this._updatableShapes={}},render:function(a){return this.visualMapModel=a,a.get("show")===!1?(this.group.removeAll(),void 0):(this.doRender.apply(this,arguments),void 0)},renderBackground:function(a){var b=this.visualMapModel,c=g.normalizeCssArray(b.get("padding")||0),d=a.getBoundingRect();a.add(new f.Rect({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,c){function k(a){return h[a]}function l(a,b){h[a]=b}var d,f,g,h,j,m,n;if(c=c||{},d=c.forceState,f=this.visualMapModel,g=e.isArray(a),g&&(!d||"color"!==b))throw new Error(a);return h={},"symbol"===b&&(h.symbol=f.get("itemSymbol")),"color"===b&&(j=f.get("contentColor"),h.color=g?[{color:j,offset:0},{color:j,offset:1}]:j),m=f.controllerVisuals[d||f.getValueState(a)],n=i.prepareVisualTypes(m),e.each(n,function(d){var e=m[d];c.convertOpacityToAlpha&&"opacity"===d&&(d="colorAlpha",e=m.__alphaForOpacity),i.dependsOn(d,b)&&e&&e.applyVisual(a,k,l)}),h[b]},positionGroup:function(a){var b=this.visualMapModel,c=this.api;h.positionGroup(a,b.getBoxLayoutParams(),{width:c.getWidth(),height:c.getHeight()})},doRender:e.noop})},function(a,b,c){var d=c(21),e={getItemAlign:function(a,b,c){var g,h,i,j,k,l,m,n,o,e=a.option,f=e.align;if(null!=f&&"auto"!==f)return f;for(g={width:b.getWidth(),height:b.getHeight()},h="horizontal"===e.orient?1:0,i=[["left","right","width"],["top","bottom","height"]],j=i[h],k=[0,null,10],l={},m=0;3>m;m++)l[i[1-h][m]]=k[m],l[j[m]]=2===m?c[0]:e[j[m]];return n=[["x","width",3],["y","height",0]][h],o=d.getLayoutRect(l,g,e.padding),j[(o.margin[n[2]]||0)+o[n[0]]+.5*o[n[1]]<.5*g[n[1]]?0:1]}};a.exports=e},function(a,b,c){var d=c(1),e={type:"selectDataRange",event:"dataRangeSelected",update:"update"};d.registerAction(e,function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})})},function(a,b,c){c(1).registerPreprocessor(c(302)),c(303),c(304),c(313),c(314),c(311)},function(a,b,c){function i(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}var d=c(306),e=c(3),f=c(187),g=d.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10},doMergeOption:function(a,b){var c,d;g.superApply(this,"doMergeOption",arguments),this._pieceList=[],this.resetTargetSeries(a,b),this.resetExtent(),c=this._mode=this._decideMode(),h[this._mode].call(this),this._resetSelected(a,b),d=this.option.categories,this.resetVisual(function(a,b){"categories"===c?(a.mappingMethod="category",a.categories=e.clone(d)):(a.mappingMethod="piecewise",a.pieceList=e.map(this._pieceList,function(a){var a=e.clone(a);return"inRange"!==b&&(a.visual=null),a}))})},_resetSelected:function(a,b){var g,c=this.option,d=this._pieceList,f=(b?c:a).selected||{};c.selected=f,e.each(d,function(a){var c=this.getSelectedMapKey(a);c in f||(f[c]=!0)},this),"single"===c.selectedMode&&(g=!1,e.each(d,function(a){var c=this.getSelectedMapKey(a);f[c]&&(g?f[c]=!1:g=!0)},this))},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=e.clone(a)},getValueState:function(a){var b=this._pieceList,c=f.findPieceIndex(a,b);return null!=c?this.option.selected[this.getSelectedMapKey(b[c])]?"inRange":"outOfRange":"outOfRange"}}),h={splitNumber:function(){var e,f,g,h,a=this.option,b=a.precision,c=this.getExtent(),d=a.splitNumber;for(d=Math.max(parseInt(d,10),1),a.splitNumber=d,e=(c[1]-c[0])/d;+e.toFixed(b)!==e&&5>b;)b++;for(a.precision=b,e=+e.toFixed(b),f=0,g=c[0];d>f;f++,g+=e)h=f===d-1?c[1]:g+e,this._pieceList.push({text:this.formatValueText([g,h]),index:f,interval:[g,h]})},categories:function(){var a=this.option;e.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this),i(a,this._pieceList)},pieces:function(){var a=this.option;e.each(a.pieces,function(a,b){var c,d,g,h;e.isObject(a)||(a={value:a}),c={text:"",index:b},null!=a.label&&(c.text=a.label,d=!0),a.hasOwnProperty("value")?(c.value=a.value,d||(c.text=this.formatValueText(c.value))):(g=a.min,h=a.max,null==g&&(g=-1/0),null==h&&(h=1/0),g===h&&(c.value=g),c.interval=[g,h],d||(c.text=this.formatValueText([g,h]))),c.visual=f.retrieveVisuals(a),this._pieceList.push(c)},this),i(a,this._pieceList)}};a.exports=g},function(a,b,c){var d=c(309),e=c(3),f=c(42),g=c(100),h=c(21),i=c(310),j=d.extend({type:"visualMap.piecewise",doRender:function(){function o(b){var d=new f.Group;d.onclick=e.bind(this._onItemClick,this,b.piece),this._createItemSymbol(d,b.piece,[0,0,k[0],k[1]]),m&&d.add(new f.Text({style:{x:"right"===j?-c:k[0]+c,y:k[1]/2,text:b.piece.text,textVerticalAlign:"middle",textAlign:j,textFont:g,fill:i}})),a.add(d)}var b,c,d,g,i,j,k,l,m,n,a=this.group;a.removeAll(),b=this.visualMapModel,c=b.get("textGap"),d=b.textStyleModel,g=d.getFont(),i=d.getTextColor(),j=this._getItemAlign(),k=b.itemSize,l=this._getViewData(),m=!l.endsText,n=!m,n&&this._renderEndsText(a,l.endsText[0],k),e.each(l.pieceList,o,this),n&&this._renderEndsText(a,l.endsText[1],k),h.box(b.get("orient"),a,b.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},_getItemAlign:function(){var c,a=this.visualMapModel,b=a.option;return"vertical"===b.orient?i.getItemAlign(a,this.api,a.itemSize):(c=b.align,c&&"auto"!==c||(c="left"),c)},_renderEndsText:function(a,b,c){var d,e;b&&(d=new f.Group,e=this.visualMapModel.textStyleModel,d.add(new f.Text({style:{x:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:"center",text:b,textFont:e.getFont(),fill:e.getTextColor()}})),a.add(d))},_getViewData:function(){var a=this.visualMapModel,b=e.map(a.getPieceList(),function(a,b){return{piece:a,index:b}}),c=a.get("text"),d=a.get("orient"),f=a.get("inverse");return("horizontal"===d?f:!f)?b.reverse():c&&(c=c.slice().reverse()),{pieceList:b,endsText:c}},_createItemSymbol:function(a,b,c){var d,e;this.visualMapModel.isCategory()?d=b.value:null!=b.value?d=b.value:(e=b.interval||[],d=(e[0]+e[1])/2),a.add(g.createSymbol(this.getControllerVisual(d,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(d,"color")))},_onItemClick:function(a){var b=this.visualMapModel,c=b.option,d=e.clone(c.selected),f=b.getSelectedMapKey(a);"single"===c.selectedMode?(d[f]=!0,e.each(d,function(a,b){d[b]=b===f})):d[f]=!d[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}});a.exports=j},function(a,b,c){c(316),c(317),c(1).registerPreprocessor(function(a){a.markPoint=a.markPoint||{}})},function(a,b,c){var d=c(5),e=c(1).extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c),this.mergeOption(a,c,d.createdBySelf,!0)},mergeOption:function(a,b,c,f){c||b.eachSeries(function(a){var h,c=a.get("markPoint"),g=a.markPointModel;return c&&c.data?(g?g.mergeOption(c,b,!0):(f&&d.defaultEmphasis(c.label,["position","show","textStyle","distance","formatter"]),h={seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0},g=new e(c,this,b,h)),a.markPointModel=g,void 0):(a.markPointModel=null,void 0)},this)},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2},emphasis:{}}}});a.exports=e},function(a,b,c){function m(a,b,c){var d=b.coordinateSystem;a.each(function(e){var g,k,l,f=a.getItemModel(e),i=f.getShallow("x"),j=f.getShallow("y");null!=i&&null!=j?g=[h.parsePercent(i,c.getWidth()),h.parsePercent(j,c.getHeight())]:b.getMarkerPosition?g=b.getMarkerPosition(a.getValues(a.dimensions,e)):d&&(k=a.get(d.dimensions[0],e),l=a.get(d.dimensions[1],e),g=d.dataToPoint([k,l])),a.setItemLayout(e,g)})}function o(a,b,c){var d,f,g;return d=a?e.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}],f=new k(d,c),g=e.map(c.get("data"),e.curry(l.dataTransform,b)),a&&(g=e.filter(g,e.curry(l.dataFilter,a))),f.initData(g,null,a?l.dimValueGetter:function(a){return a.value}),f}var d=c(98),e=c(3),f=c(6),g=c(5),h=c(7),i=f.addCommas,j=f.encodeHTML,k=c(94),l=c(318),n={getRawDataArray:function(){return this.option.data},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=e.isArray(c)?e.map(c,i).join(", "):i(c),f=b.getName(a);return this.name+"<br />"+((f?j(f)+" : ":"")+d)},getData:function(){return this._data},setData:function(a){this._data=a}};e.defaults(n,g.dataFormatMixin),c(1).extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(a,b,c){var e,d=this._symbolDrawMap;for(e in d)d[e].__keep=!1;b.eachSeries(function(a){var b=a.markPointModel;b&&this._renderSeriesMP(a,b,c)},this);for(e in d)d[e].__keep||(d[e].remove(),this.group.remove(d[e].group))},updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(m(b.getData(),a,c),this._symbolDrawMap[a.name].updateLayout(b))},this)},_renderSeriesMP:function(a,b,c){var k,f=a.coordinateSystem,g=a.name,h=a.getData(),i=this._symbolDrawMap,j=i[g];j||(j=i[g]=new d),k=o(f,a,b),e.mixin(b,n),b.setData(k),m(b.getData(),a,c),k.each(function(a){var c=k.getItemModel(a),d=c.getShallow("symbolSize");"function"==typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a))),k.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||h.getVisual("color"),symbol:c.getShallow("symbol")})}),j.updateData(k),this.group.add(j.group),k.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})}),j.__keep=!0}})},function(a,b,c){function g(a,b,c){var d=-1;do d=Math.max(e.getPrecision(a.get(b,c)),d),a=a.stackedOn;while(a);return d}function h(a,b,c,d,e,f){var k,h=[],i=o(b,d,a),j=b.indexOfNearest(d,i,!0);return h[e]=b.get(c,j,!0),h[f]=b.get(d,j,!0),k=g(b,d,j),k>=0&&(h[f]=+h[f].toFixed(k)),h}var d=c(3),e=c(7),f=d.indexOf,i=d.curry,j={min:i(h,"min"),max:i(h,"max"),average:i(h,"average")},k=function(a,b){var g,h,i,k,c=a.getData(),e=a.coordinateSystem;return(isNaN(b.x)||isNaN(b.y))&&!d.isArray(b.coord)&&e&&(g=l(b,c,e,a),b=d.clone(b),b.type&&j[b.type]&&g.baseAxis&&g.valueAxis?(h=e.dimensions,i=f(h,g.baseAxis.dim),k=f(h,g.valueAxis.dim),b.coord=j[b.type](c,g.baseDataDim,g.valueDataDim,i,k),b.value=b.coord[k]):b.coord=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis]),b},l=function(a,b,c,d){var e={};return null!=a.valueIndex||null!=a.valueDim?(e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,e.valueAxis=c.getAxis(d.dataDimToCoordDim(e.valueDataDim)),e.baseAxis=c.getOtherAxis(e.valueAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0]):(e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0],e.valueDataDim=d.coordDimToDataDim(e.valueAxis.dim)[0]),e},m=function(a,b){return a&&a.containData&&b.coord&&(null==b.x||null==b.y)?a.containData(b.coord):!0},n=function(a,b,c,d){return 2>d?a.coord&&a.coord[d]:a.value},o=function(a,b,c){return"average"===c?a.getSum(b,!0)/a.count():a.getDataExtent(b,!0)["max"===c?1:0]};a.exports={dataTransform:k,dataFilter:m,dimValueGetter:n,getAxisInfo:l,numCalculate:o}},function(a,b,c){c(320),c(321),c(1).registerPreprocessor(function(a){a.markLine=a.markLine||{}})},function(a,b,c){var d=c(5),e=c(1).extendComponentModel({type:"markLine",dependencies:["series","grid","polar"],init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c),this.mergeOption(a,c,d.createdBySelf,!0)},mergeOption:function(a,b,c,f){c||b.eachSeries(function(a){var h,c=a.get("markLine"),g=a.markLineModel;return c&&c.data?(g?g.mergeOption(c,b,!0):(f&&d.defaultEmphasis(c.label,["position","show","textStyle","distance","formatter"]),h={seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0},g=new e(c,this,b,h)),a.markLineModel=g,void 0):(a.markLineModel=null,void 0)},this)},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});a.exports=e},function(a,b,c){function n(a,b){return k.dataFilter(a,b[0])&&k.dataFilter(a,b[1])}function o(a,b,c,d,e,f,g){var k,n,o,p,q,i=f.coordinateSystem,j=a.getItemModel(b),l=j.get("x"),m=j.get("y");null!=l&&null!=m?k=[h.parsePercent(l,g.getWidth()),h.parsePercent(m,g.getHeight())]:(f.getMarkerPosition?k=f.getMarkerPosition(a.getValues(a.dimensions,b)):(n=i.dimensions,o=a.get(n[0],b),p=a.get(n[1],b),k=i.dataToPoint([o,p])),d&&"cartesian2d"===i.type&&(q=null!=e?i.getAxis(1===e?"x":"y"):i.getAxesByScale("ordinal")[0],q&&q.onBand&&(k["x"===q.dim?0:1]=q.toGlobalCoord(q.getExtent()[c?0:1])))),a.setItemLayout(b,k)}function q(a,b,c){var f,g,h,i,j,l;return f=a?d.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}],g=new e(f,c),h=new e(f,c),i=new e([],c),j=d.map(c.get("data"),d.curry(m,b,a,c)),a&&(j=d.filter(j,d.curry(n,a))),l=a?k.dimValueGetter:function(a){return a.value},g.initData(d.map(j,function(a){return a[0]}),null,l),h.initData(d.map(j,function(a){return a[1]}),null,l),i.initData(d.map(j,function(a){return a[2]})),{from:g,to:h,line:i}}var d=c(3),e=c(94),f=c(6),g=c(5),h=c(7),i=f.addCommas,j=f.encodeHTML,k=c(318),l=c(194),m=function(a,b,c,e){var h,i,j,l,m,n,o,p,f=a.getData(),g=e.type;return d.isArray(e)||"min"!==g&&"max"!==g&&"average"!==g||(h=k.getAxisInfo(e,f,b,a),i=h.baseAxis.dim+"Axis",j=h.valueAxis.dim+"Axis",l=h.baseAxis.scale.getExtent(),m=d.clone(e),n={},m.type=null,m[i]=l[0],n[i]=l[1],o=k.numCalculate(f,h.valueDataDim,g),o=h.valueAxis.coordToData(h.valueAxis.dataToCoord(o)),p=c.get("precision"),p>=0&&(o=+o.toFixed(p)),m[j]=n[j]=o,e=[m,n,{type:g,valueIndex:e.valueIndex,value:o}]),e=[k.dataTransform(a,e[0]),k.dataTransform(a,e[1]),d.extend({},e[2])],e[2].type=e[2].type||"",d.merge(e[2],e[0]),d.merge(e[2],e[1]),e},p={formatTooltip:function(a){var b=this._data,c=this.getRawValue(a),e=d.isArray(c)?d.map(c,i).join(", "):i(c),f=b.getName(a);return this.name+"<br />"+((f?j(f)+" : ":"")+e)},getRawDataArray:function(){return this.option.data},getData:function(){return this._data},setData:function(a){this._data=a}};d.defaults(p,g.dataFormatMixin),c(1).extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(a,b,c){var e,d=this._markLineMap;for(e in d)d[e].__keep=!1;b.eachSeries(function(a){var d=a.markLineModel;d&&this._renderSeriesML(a,d,b,c)},this);for(e in d)d[e].__keep||this.group.remove(d[e].group)},updateLayout:function(a,b,c){b.eachSeries(function(a){var d,e,f,b=a.markLineModel;b&&(d=b.getData(),e=b.__from,f=b.__to,e.each(function(b){var g=d.getItemModel(b),h=g.get("type"),i=g.get("valueIndex");o(e,b,!0,h,i,a,c),o(f,b,!1,h,i,a,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this._markLineMap[a.name].updateLayout())},this)},_renderSeriesML:function(a,b,c,e){function u(b,c,d,f,g){var i=b.getItemModel(c);o(b,c,d,f,g,a,e),b.setItemVisual(c,{symbolSize:i.get("symbolSize")||t[d?0:1],symbol:i.get("symbol",!0)||s[d?0:1],color:i.get("itemStyle.normal.color")||h.getVisual("color")})}var k,m,n,r,s,t,f=a.coordinateSystem,g=a.name,h=a.getData(),i=this._markLineMap,j=i[g];j||(j=i[g]=new l),this.group.add(j.group),k=q(f,a,b),m=k.from,n=k.to,r=k.line,b.__from=m,b.__to=n,d.extend(b,p),b.setData(r),s=b.get("symbol"),t=b.get("symbolSize"),d.isArray(s)||(s=[s,s]),"number"==typeof t&&(t=[t,t]),k.from.each(function(a){var b=r.getItemModel(a),c=b.get("type"),d=b.get("valueIndex");u(m,a,!0,c,d),u(n,a,!1,c,d)}),r.each(function(a){var b=r.getItemModel(a).get("lineStyle.normal.color");r.setItemVisual(a,{color:b||m.getItemVisual(a,"color")}),r.setItemLayout(a,[m.getItemLayout(a),n.getItemLayout(a)])}),j.updateData(r,m,n),k.line.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})}),j.__keep=!0}})},function(a,b,c){var d=c(1);d.registerPreprocessor(c(323)),c(324),c(325),c(326),c(328)},function(a,b,c){function e(a){var e,b=a.type,c={number:"value",time:"time"};
c[b]&&(a.axisType=c[b],delete a.type),f(a),g(a,"controlPosition")&&(e=a.controlStyle||(a.controlStyle={}),g(e,"position")||(e.position=a.controlPosition),"none"!==e.position||g(e,"show")||(e.show=!1,delete e.position),delete a.controlPosition),d.each(a.data||[],function(a){d.isObject(a)&&!d.isArray(a)&&(!g(a,"value")&&g(a,"name")&&(a.value=a.name),f(a))})}function f(a){var b=a.itemStyle||(a.itemStyle={}),c=b.emphasis||(b.emphasis={}),e=a.label||a.label||{},f=e.normal||(e.normal={}),h={normal:1,emphasis:1};d.each(e,function(a,b){h[b]||g(f,b)||(f[b]=a)}),c.label&&!g(e,"emphasis")&&(e.emphasis=c.label,delete c.label)}function g(a,b){return a.hasOwnProperty(b)}var d=c(3);a.exports=function(a){var b=a&&a.timeline;d.isArray(b)||(b=b?[b]:[]),d.each(b,function(a){a&&e(a)})}},function(a,b,c){c(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(a,b,c){var d=c(1);d.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1)),b.resetOption("timeline")}),d.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)})},function(a,b,c){var d=c(327);a.exports=d.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}})},function(a,b,c){var d=c(19),e=c(94),f=c(3),g=c(5),h=d.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(a,b,c){this._data,this._names,this.mergeDefaultAndTheme(a,c),this._initData()},mergeOption:function(){h.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0)),this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var h,i,j,a=this.option,b=a.data||[],c=a.axisType,d=this._names=[];"category"===c&&(h=[],f.each(b,function(a,b){var e,c=g.getDataItemValue(a);f.isObject(a)?(e=f.clone(a),e.value=b):e=b,h.push(e),f.isString(c)||null!=c&&!isNaN(c)||(c=""),d.push(c+"")}),b=h),i={category:"ordinal",time:"time"}[c]||"number",j=this._data=new e([{name:"value",type:i}],this),j.initData(b,d)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});a.exports=h},function(a,b,c){function t(a,b){return f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"))}function u(a,b,c,f){var g=e.makePath(a.get(b).replace(/^path:\/\//,""),d.clone(f||{}),new k(c[0],c[1],c[2],c[3]),"center");return g}function v(a,b,c,e,f,g){var h=a.get("symbol"),j=b.get("color"),k=a.get("symbolSize"),l=k/2,m=b.getItemStyle(["color","symbol","symbolSize"]);return f?(f.setStyle(m),f.setColor(j),c.add(f),g&&g.onUpdate(f)):(f=i.createSymbol(h,-l,-l,k,k,j),c.add(f),g&&g.onCreate(f)),e=d.merge({rectHover:!0,style:m,z2:100},e,!0),f.attr(e),f}function w(a,b,c,d,e){var f,g;a.dragging||(f=d.getModel("checkpointStyle"),g=c.dataToCoord(d.getData().get(["value"],b)),e||!f.get("animation",!0)?a.attr({position:[g,0]}):(a.stopAnimation(!0),a.animateTo({position:[g,0]},f.get("animationDuration",!0),f.get("animationEasing",!0))))}var d=c(3),e=c(42),f=c(21),g=c(329),h=c(330),i=c(100),j=c(108),k=c(15),l=c(17),m=c(7),n=c(5),o=c(6),p=o.encodeHTML,q=d.bind,r=d.each,s=Math.PI;a.exports=g.extend({type:"timeline.slider",init:function(a,b){this.api=b,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(a,b,c){var e,f,g,h;this.model=a,this.api=c,this.ecModel=b,this.group.removeAll(),a.get("show",!0)&&(e=this._layout(a,c),f=this._createGroup("mainGroup"),g=this._createGroup("labelGroup"),h=this._axis=this._createAxis(e,a),r(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,h,a)},this),this._renderAxisLabel(e,g,h,a),this._position(e,a)),this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var f,g,h,i,j,k,l,m,n,o,p,q,r,u,v,w,x,y,z,A,c=a.get("label.normal.position"),d=a.get("orient"),e=t(a,b);return null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]),f={horizontal:"center",vertical:c>=0||"+"===c?"left":"right"},g={horizontal:c>=0||"+"===c?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:s/2},i="vertical"===d?e.height:e.width,j=a.getModel("controlStyle"),k=j.get("show"),l=k?j.get("itemSize"):0,m=k?j.get("itemGap"):0,n=l+m,o=a.get("label.normal.rotate")||0,o=o*s/180,v=j.get("position",!0),k=j.get("show",!0),w=k&&j.get("showPlayBtn",!0),x=k&&j.get("showPrevBtn",!0),y=k&&j.get("showNextBtn",!0),z=0,A=i,"left"===v||"bottom"===v?(w&&(p=[0,0],z+=n),x&&(q=[z,0],z+=n),y&&(r=[A-l,0],A-=n)):(w&&(p=[A-l,0],A-=n),x&&(q=[0,0],z+=n),y&&(r=[A-l,0],A-=n)),u=[z,A],a.get("inverse")&&u.reverse(),{viewRect:e,mainLength:i,orient:d,rotation:h[d],labelRotation:o,labelPosOpt:c,labelAlign:f[d],labelBaseline:g[d],playPosition:p,prevBtnPosition:q,nextBtnPosition:r,axisExtent:u,controlSize:l,controlGap:m}},_position:function(a){function q(a){var b=a.position;a.origin=[i[0][0]-b[0],i[1][0]-b[1]]}function r(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function t(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f,g,h,i,j,k,m,n,o,p,c=this._mainGroup,d=this._labelGroup,e=a.viewRect;"vertical"===a.orient&&(f=l.create(),g=e.x,h=e.y+e.height,l.translate(f,f,[-g,-h]),l.rotate(f,f,-s/2),l.translate(f,f,[g,h]),e=e.clone(),e.applyTransform(f)),i=r(e),j=r(c.getBoundingRect()),k=r(d.getBoundingRect()),m=c.position,n=d.position,n[0]=m[0]=i[0][0],o=a.labelPosOpt,isNaN(o)?(p="+"===o?0:1,t(m,j,i,1,p),t(n,k,i,1,1-p)):(p=o>=0?0:1,t(m,j,i,1,p),n[1]=m[1]+o),c.position=m,d.position=n,c.rotation=d.rotation=a.rotation,q(c),q(d)},_createAxis:function(a,b){var g,c=b.getData(),d=b.get("axisType"),e=j.createScaleByModel(b,d),f=c.getDataExtent("value");return e.setExtent(f[0],f[1]),this._customizeScale(e,c),e.niceTicks(),g=new h("value",e,a.axisExtent,d),g.model=b,g},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})},a.getTicksLabels=function(){return d.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){var b=this["_"+a]=new e.Group;return this.group.add(b),b},_renderAxisLine:function(a,b,c,f){var g=c.getExtent();f.get("lineStyle.show")&&b.add(new e.Line({shape:{x1:g[0],y1:0,x2:g[1],y2:0},style:d.extend({lineCap:"round"},f.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var f=d.getData(),g=c.scale.getTicks(),h=this._prepareTooltipHostModel(f,d);r(g,function(a,d){var g=c.dataToCoord(a),i=f.getItemModel(d),j=i.getModel("itemStyle.normal"),k=i.getModel("itemStyle.emphasis"),l={position:[g,0],onclick:q(this._changeTimeline,this,d)},m=v(i,j,b,l);e.setHoverStyle(m,k.getItemStyle()),i.get("tooltip")?(m.dataIndex=d,m.dataModel=h):m.dataIndex=m.dataModel=null},this)},_prepareTooltipHostModel:function(a,b){var c=n.createDataFormatModel({},a,b.get("data")),d=this;return c.formatTooltip=function(a){return p(d._axis.scale.getLabel(a))},c},_renderAxisLabel:function(a,b,c,d){var g,h,i,k,f=d.getModel("label.normal");f.get("show")&&(g=d.getData(),h=c.scale.getTicks(),i=j.getFormattedLabels(c,f.get("formatter")),k=c.getLabelInterval(),r(h,function(d,f){var h,j,l,m,n;c.isLabelIgnored(f,k)||(h=g.getItemModel(f),j=h.getModel("label.normal.textStyle"),l=h.getModel("label.emphasis.textStyle"),m=c.dataToCoord(d),n=new e.Text({style:{text:i[f],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline,textFont:j.getFont(),fill:j.getTextColor()},position:[m,0],rotation:a.labelRotation-a.rotation,onclick:q(this._changeTimeline,this,f),silent:!1}),b.add(n),e.setHoverStyle(n,l.getItemStyle()))},this))},_renderControl:function(a,b,c,d){function m(a,c,k,l){var m,n;a&&(m={position:a,origin:[f/2,0],rotation:l?-g:0,rectHover:!0,style:h,onclick:k},n=u(d,c,j,m),b.add(n),e.setHoverStyle(n,i))}var f=a.controlSize,g=a.rotation,h=d.getModel("controlStyle.normal").getItemStyle(),i=d.getModel("controlStyle.emphasis").getItemStyle(),j=[0,-f/2,f,f],k=d.getPlayState(),l=d.get("inverse",!0);m(a.nextBtnPosition,"controlStyle.nextIcon",q(this._changeTimeline,this,l?"-":"+")),m(a.prevBtnPosition,"controlStyle.prevIcon",q(this._changeTimeline,this,l?"+":"-")),m(a.playPosition,"controlStyle."+(k?"stopIcon":"playIcon"),q(this._handlePlayClick,this,!k),!0)},_renderCurrentPointer:function(a,b,c,d){var e=d.getData(),f=d.getCurrentIndex(),g=e.getItemModel(f).getModel("checkpointStyle"),h=this,i={onCreate:function(a){a.draggable=!0,a.drift=q(h._handlePointerDrag,h),a.ondragend=q(h._handlePointerDragend,h),w(a,f,c,d,!0)},onUpdate:function(a){w(a,f,c,d)}};this._currentPointer=v(g,g,this._mainGroup,{},this._currentPointer,i)},_handlePlayClick:function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer(),this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var f,g,c=this._toAxisCoord(a)[0],d=this._axis,e=m.asc(d.getExtent().slice());c>e[1]&&(c=e[1]),c<e[0]&&(c=e[0]),this._currentPointer.position[0]=c,this._currentPointer.dirty(),f=this._findNearestTick(c),g=this.model,(b||f!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(f)},_doPlayStop:function(){function a(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(q(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return e.applyTransform(a,b,!0)},_findNearestTick:function(a){var d,b=this.model.getData(),c=1/0,e=this._axis;return b.each(["value"],function(b,f){var g=e.dataToCoord(b),h=Math.abs(g-a);c>h&&(c=h,d=f)}),d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(a,b,c){var d=c(28);a.exports=d.extend({type:"timeline"})},function(a,b,c){var d=c(3),e=c(117),f=c(108),g=function(a,b,c,d){e.call(this,a,b,c),this.type=d||"value",this._autoLabelInterval,this.model=null};g.prototype={constructor:g,getLabelInterval:function(){var a=this.model,b=a.getModel("label.normal"),c=b.get("interval");return null!=c&&"auto"!=c?c:(c=this._autoLabelInterval,c||(c=this._autoLabelInterval=f.getAxisLabelInterval(d.map(this.scale.getTicks(),this.dataToCoord,this),f.getFormattedLabels(this,b.get("formatter")),b.getModel("textStyle").getFont(),"horizontal"===a.get("orient"))),c)},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}},d.inherits(g,e),a.exports=g},function(a,b,c){c(332),c(334),c(336),c(337),c(338),c(339),c(344)},function(a,b,c){var d=c(333),e=c(3),f=c(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){f.superApply(this,"mergeDefaultAndTheme",arguments),e.each(this.option.feature,function(a,b){var c=d.get(b);c&&e.merge(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});a.exports=f},function(a){"use strict";var c={};a.exports={register:function(a,b){c[a]=b},get:function(a){return c[a]}}},function(a,b,c){!function(){function k(a){return 0===a.indexOf("my")}var d=c(333),e=c(3),f=c(42),g=c(8),h=c(95),i=c(266),j=c(14);a.exports=c(1).extendComponentView({type:"toolbox",render:function(a,b,c){function q(e,f){var m,q,h=p[e],i=p[f],j=n[h],l=new g(j,a,a.ecModel);if(h&&!i){if(k(h))m={model:l,onclick:l.option.onclick,featureName:h};else{if(q=d.get(h),!q)return;m=new q(l)}o[h]=m}else{if(m=o[i],!m)return;m.model=l}return!h&&i?(m.dispose&&m.dispose(b,c),void 0):!l.get("show")||m.unusable?(m.remove&&m.remove(b,c),void 0):(r(l,m,h),l.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&d[a].trigger(b)},m.render&&m.render(l,b,c),void 0)}function r(d,g,h){var n,o,p,i=d.getModel("iconStyle"),j=g.getIcons?g.getIcons():d.get("icon"),k=d.get("title")||{};"string"==typeof j&&(n=j,o=k,j={},k={},j[h]=n,k[h]=o),p=d.iconPaths={},e.each(j,function(h,j){var n=i.getModel("normal").getItemStyle(),o=i.getModel("emphasis").getItemStyle(),q={x:-m/2,y:-m/2,width:m,height:m},r=0===h.indexOf("image://")?(q.image=h.slice(8),new f.Image({style:q})):f.makePath(h.replace("path://",""),{style:n,hoverStyle:o,rectHover:!0},q,"center");f.setHoverStyle(r),a.get("showTitle")&&(r.__title=k[j],r.on("mouseover",function(){r.setStyle({text:k[j],textPosition:o.textPosition||"bottom",textFill:o.fill||o.stroke||"#000",textAlign:o.textAlign||"center"})}).on("mouseout",function(){r.setStyle({textFill:null})})),r.trigger(d.get("iconStatus."+j)||"normal"),l.add(r),r.on("click",e.bind(g.onclick,g,b,c,j)),p[j]=r})}var m,n,o,p,l=this.group;l.removeAll(),a.get("show")&&(m=+a.get("itemSize"),n=a.get("feature")||{},o=this._features||(this._features={}),p=[],e.each(n,function(a,b){p.push(b)}),new h(this._featureNames||[],p).add(q).update(q).remove(e.curry(q,null)).execute(),this._featureNames=p,i.layout(l,a,c),i.addBackground(l,a),l.eachChild(function(a){var e,f,g,h,i,b=a.__title,d=a.hoverStyle;d&&b&&(e=j.getBoundingRect(b,d.font),f=a.position[0]+l.position[0],g=a.position[1]+l.position[1]+m,h=!1,g+e.height>c.getHeight()&&(d.textPosition="top",h=!0),i=h?-5-e.height:m+8,f+e.width/2>c.getWidth()?(d.textPosition=["100%",i],d.textAlign="right"):f-e.width/2<0&&(d.textPosition=[0,i],d.textAlign="left"))}))},remove:function(a,b){e.each(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){e.each(this._features,function(c){c.dispose&&c.dispose(a,b)})}})}.call(b,c(335))},function(a){function h(){e=!1,f.length?d=f.concat(d):g=-1,d.length&&i()}function i(){var a,b;if(!e){for(a=setTimeout(h),e=!0,b=d.length;b;){for(f=d,d=[];++g<b;)f&&f[g].run();g=-1,b=d.length}f=null,e=!1,clearTimeout(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var f,c=a.exports={},d=[],e=!1,g=-1;c.nextTick=function(a){var c,b=new Array(arguments.length-1);if(arguments.length>1)for(c=1;c<arguments.length;c++)b[c-1]=arguments[c];d.push(new j(a,b)),1!==d.length||e||setTimeout(i,0)},j.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=k,c.addListener=k,c.once=k,c.off=k,c.removeListener=k,c.removeAllListeners=k,c.emit=k,c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(a,b,c){function e(a){this.model=a}var f,d=c(78);e.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]},e.prototype.unusable=!d.canvasSupported,f=e.prototype,f.onclick=function(a,b){var g,h,i,j,k,c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f,e.target="_blank",g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")}),e.href=g,"function"==typeof MouseEvent?(h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(h)):(i=c.get("lang"),j='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(i&&i[0]||"")+'" />'+"</body>",k=window.open(),k.document.write(j))},c(333).register("saveAsImage",e),a.exports=e},function(a,b,c){"use strict";function e(a){this.model=a}var f,g,h,i,d=c(3);e.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}},f=e.prototype,f.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return d.each(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c},g={line:function(a,b,c,e){return"bar"===a?d.merge({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},e.get("option.line")||{},!0):void 0},bar:function(a,b,c,e){return"line"===a?d.merge({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},e.get("option.bar")||{},!0):void 0},stack:function(a,b,c,e){return"line"===a||"bar"===a?d.merge({id:b,stack:"__ec_magicType_stack__"},e.get("option.stack")||{},!0):void 0},tiled:function(a,b,c,e){return"line"===a||"bar"===a?d.merge({id:b,stack:""},e.get("option.tiled")||{},!0):void 0}},h=[["line","bar"],["stack","tiled"]],f.onclick=function(a,b,c){var i,j,e=this.model,f=e.get("seriesIndex."+c);g[c]&&(i={series:[]},j=function(a){var j,k,l,m,n,o,b=a.subType,f=a.id,h=g[c](b,f,a,e);if(h&&(d.defaults(h,a.option),i.series.push(h)),j=a.coordinateSystem,j&&"cartesian2d"===j.type&&("line"===c||"bar"===c)&&(k=j.getAxesByScale("ordinal")[0])){for(l=k.dim,m=a.get(l+"AxisIndex"),n=l+"Axis",i[n]=i[n]||[],o=0;m>=o;o++)i[n][m]=i[n][m]||{};i[n][m].boundaryGap="bar"===c?!0:!1}},d.each(h,function(a){d.indexOf(a,c)>=0&&d.each(a,function(a){e.setIconStatus(a,"normal")})}),e.setIconStatus(c,"emphasis"),a.eachComponent({mainType:"series",query:null==f?null:{seriesIndex:f}},j),b.dispatchAction({type:"changeMagicType",currentType:c,newOption:i}))},i=c(1),i.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),c(333).register("magicType",e),a.exports=e},function(a,b,c){function h(a){var b={},c=[],d=[];return a.eachRawSeries(function(a){var f,g,e=a.coordinateSystem;!e||"cartesian2d"!==e.type&&"polar"!==e.type?c.push(a):(f=e.getBaseAxis(),"category"===f.type?(g=f.dim+"_"+f.index,b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index})),b[g].series.push(a)):c.push(a))}),{seriesGroupByCategoryAxis:b,other:c,meta:d}}function i(a){var b=[];return d.each(a,function(a){var k,l,m,n,e=a.categoryAxis,f=a.valueAxis,h=f.dim,i=[" "].concat(d.map(a.series,function(a){return a.name})),j=[e.model.getCategories()];for(d.each(a.series,function(a){j.push(a.getRawData().mapArray(h,function(a){return a}))}),k=[i.join(g)],l=0;l<j[0].length;l++){for(m=[],n=0;n<j.length;n++)m.push(j[n][l]);k.push(m.join(g))}b.push(k.join("\n"))}),b.join("\n\n"+f+"\n\n")}function j(a){return d.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){var h,a=arguments.length,e=arguments[a-1],f=b.getName(e);for(h=0;a-1>h;h++)d[h]=arguments[h];c.push((f?f+g:"")+d.join(g))}),c.join("\n")}).join("\n\n"+f+"\n\n")}function k(a){var b=h(a);return{value:d.filter([i(b.seriesGroupByCategoryAxis),j(b.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+f+"\n\n"),meta:b.meta}}function l(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function m(a){var b=a.slice(0,a.indexOf("\n"));return b.indexOf(g)>=0?!0:void 0}function o(a){var g,h,i,b=a.split(/\n+/g),c=l(b.shift()).split(n),e=[],f=d.map(c,function(a){return{name:a,data:[]}});for(g=0;g<b.length;g++)for(h=l(b[g]).split(n),e.push(h.shift()),i=0;i<h.length;i++)f[i]&&(f[i].data[g]=h[i]);return{series:f,categories:e}}function p(a){var e,f,g,h,i,j,b=a.split(/\n+/g),c=l(b.shift()),d=[];for(e=0;e<b.length;e++){for(f=l(b[e]).split(n),g="",i=!1,isNaN(f[0])?(i=!0,g=f[0],f=f.slice(1),d[e]={name:g,value:[]},h=d[e].value):h=d[e]=[],j=0;j<f.length;j++)h.push(+f[j]);1===h.length&&(i?d[e].value=h[0]:d[e]=h[0])}return{name:c,data:d}}function q(a,b){var c=a.split(new RegExp("\n*"+f+"\n*","g")),e={series:[]};return d.each(c,function(a,c){var d,f,g;m(a)?(d=o(a),f=b[c],g=f.axisDim+"Axis",f&&(e[g]=e[g]||[],e[g][f.axisIndex]={data:d.categories},e.series=e.series.concat(d.series))):(d=p(a),e.series.push(d))}),e}function r(a){this._dom=null,this.model=a}function s(a,b){return d.map(a,function(a,c){var e=b&&b[c];return d.isObject(e)&&!d.isArray(e)?(d.isObject(a)&&!d.isArray(a)&&(a=a.value),d.defaults({value:a},e)):a})}var d=c(3),e=c(80),f=new Array(60).join("-"),g="	",n=new RegExp("["+g+"]+","g");r.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},r.prototype.onclick=function(a,b){function y(){c.removeChild(h),x._dom=null}var h,i,j,l,m,n,o,p,r,s,t,u,v,w,x,c=b.getDom(),f=this.model;this._dom&&c.removeChild(this._dom),h=document.createElement("div"),h.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",h.style.backgroundColor=f.get("backgroundColor")||"#fff",i=document.createElement("h4"),j=f.get("lang")||[],i.innerHTML=j[0]||f.get("title"),i.style.cssText="margin: 10px 20px;",i.style.color=f.get("textColor"),l=document.createElement("div"),m=document.createElement("textarea"),l.style.cssText="display:block;width:100%;overflow:hidden;",n=f.get("optionToContent"),o=f.get("contentToOption"),p=k(a),"function"==typeof n?(r=n(b.getOption()),"string"==typeof r?l.innerHTML=r:d.isDom(r)&&l.appendChild(r)):(l.appendChild(m),m.readOnly=f.get("readOnly"),m.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",m.style.color=f.get("textColor"),m.style.borderColor=f.get("textareaBorderColor"),m.style.backgroundColor=f.get("textareaColor"),m.value=p.value),s=p.meta,t=document.createElement("div"),t.style.cssText="position:absolute;bottom:0;left:0;right:0;",u="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),w=document.createElement("div"),u+=";background-color:"+f.get("buttonColor"),u+=";color:"+f.get("buttonTextColor"),x=this,e.addEventListener(v,"click",y),e.addEventListener(w,"click",function(){var a;try{a="function"==typeof o?o(l,b.getOption()):q(m.value,s)}catch(c){throw y(),new Error("Data view format error "+c)}a&&b.dispatchAction({type:"changeDataView",newOption:a}),y()}),v.innerHTML=j[1],w.innerHTML=j[2],w.style.cssText=u,v.style.cssText=u,!f.get("readOnly")&&t.appendChild(w),t.appendChild(v),e.addEventListener(m,"keydown",function(a){var b,c,d;9===(a.keyCode||a.which)&&(b=this.value,c=this.selectionStart,d=this.selectionEnd,this.value=b.substring(0,c)+g+b.substring(d),this.selectionStart=this.selectionEnd=c+1,e.stop(a))}),h.appendChild(i),h.appendChild(l),h.appendChild(t),l.style.height=c.clientHeight-80+"px",c.appendChild(h),this._dom=h},r.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},r.prototype.dispose=function(a,b){this.remove(a,b)},c(333).register("dataView",r),c(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];d.each(a.newOption.series,function(a){var f,e=b.getSeriesByName(a.name)[0];e?(f=e.get("data"),c.push({name:a.name,data:s(a.data,f)})):c.push(d.extend({type:"scatter"},a))}),b.mergeOption(d.defaults({series:c},a.newOption))}),a.exports=r},function(a,b,c){"use strict";function n(a){this.model=a,this._controllerGroup,this._controller,this._isZoomActive}function q(a,b){var c=[{axisModel:a.getAxis("x").model,axisIndex:0},{axisModel:a.getAxis("y").model,axisIndex:0}];return c.grid=a,b.eachComponent({mainType:"dataZoom",subType:"select"},function(a){r("xAxis",c[0].axisModel,a,b)&&(c[0].dataZoomModel=a),r("yAxis",c[1].axisModel,a,b)&&(c[1].dataZoomModel=a)}),c}function r(a,b,c,d){var e=c.get(a+"Index");return null!=e&&d.getComponent(a,e)===b}function s(a,b){var e,f,h,c=b.grid,d=new g(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0]);if(d.intersect(c.getRect()))return e=c.getCartesian(b[0].axisIndex,b[1].axisIndex),f=e.pointToData([a[0][0],a[1][0]],!0),h=e.pointToData([a[0][1],a[1][1]],!0),[l([f[0],h[0]]),l([f[1],h[1]])]}function t(a,b,c){var e=b[c],f=e.dataZoomModel;return f?{dataZoomId:f.id,startValue:a[c][0],endValue:a[c][1]}:void 0}function u(a,b){a.setIconStatus("back",i.count(b)>1?"emphasis":"normal")}var m,o,p,d=c(3),e=c(7),f=c(225),g=c(15),h=c(29),i=c(340),j=c(160),k=d.each,l=e.asc;c(341),m="\0_ec_\0toolbox-dataZoom_",n.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}},o=n.prototype,o.render=function(a,b){u(a,b)},o.onclick=function(a,b,c){var d=this._controllerGroup;this._controllerGroup||(d=this._controllerGroup=new h,b.getZr().add(d)),p[c].call(this,d,this.model,a,b)},o.remove=function(a,b){this._disposeController(),j.release("globalPan",b.getZr())},o.dispose=function(a,b){var c=b.getZr();j.release("globalPan",c),this._disposeController(),this._controllerGroup&&c.remove(this._controllerGroup)},p={zoom:function(a,b,c,d){var e=this._isZoomActive=!this._isZoomActive,f=d.getZr();j[e?"take":"release"]("globalPan",f),b.setIconStatus("zoom",e?"emphasis":"normal"),e?(f.setDefaultCursorStyle("crosshair"),this._createController(a,b,c,d)):(f.setDefaultCursorStyle("default"),this._disposeController())},back:function(a,b,c,d){this._dispatchAction(i.pop(c),d)}},o._createController=function(a,b,c,e){var g=this._controller=new f("rect",e.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});g.on("selectEnd",d.bind(this._onSelected,this,g,b,c,e)),g.enable(a,!1)},o._disposeController=function(){var a=this._controller;a&&(a.off("selected"),a.dispose())},o._onSelected=function(a,b,c,d,e){var f,g;e.length&&(f=e[0],a.update(),g={},c.eachComponent("grid",function(a){var i,j,d=a.coordinateSystem,e=q(d,c),h=s(f,e);h&&(i=t(h,e,0,"x"),j=t(h,e,1,"y"),i&&(g[i.dataZoomId]=i),j&&(g[j.dataZoomId]=j))},this),i.push(c,g),this._dispatchAction(g,d))},o._dispatchAction=function(a,b){var c=[];k(a,function(a){c.push(a)}),c.length&&b.dispatchAction({type:"dataZoom",from:this.uid,batch:d.clone(c,!0)})},c(333).register("dataZoom",n),c(1).registerPreprocessor(function(a){function f(a,c){var e,f;c&&(e=a+"Index",f=c[e],null==f||d.isArray(f)||(f=f===!1?[]:[f]),g(a,function(c,g){if(null==f||-1!==d.indexOf(f,g)){var h={type:"select",$fromToolbox:!0,id:m+a+g};h[e]=g,b.push(h)}}))}function g(b,c){var e=a[b];d.isArray(e)||(e=e?[e]:[]),k(e,c)}var b,c,e;a&&(b=a.dataZoom||(a.dataZoom=[]),d.isArray(b)||(b=[b]),c=a.toolbox,c&&(d.isArray(c)&&(c=c[0]),c&&c.feature&&(e=c.feature.dataZoom,f("xAxis",e),f("yAxis",e))))}),a.exports=n},function(a,b,c){function h(a){var b=a[f];return b||(b=a[f]=[{}]),b}var d=c(3),e=d.each,f="\0_ec_hist_store",g={push:function(a,b){var c=h(a);e(b,function(b,d){for(var f,g,h,e=c.length-1;e>=0&&(f=c[e],!f[d]);e--);0>e&&(g=a.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0],g&&(h=g.getPercentRange(),c[0][d]={dataZoomId:d,start:h[0],end:h[1]}))}),c.push(b)},pop:function(a){var d,b=h(a),c=b[b.length-1];return b.length>1&&b.pop(),d={},e(c,function(a,c){var e;for(e=b.length-1;e>=0;e--)if(a=b[e][c]){d[c]=a;break}}),d},clear:function(a){a[f]=null},count:function(a){return h(a).length}};a.exports=g},function(a,b,c){c(287),c(288),c(290),c(342),c(343),c(298),c(299)},function(a,b,c){var d=c(288);a.exports=d.extend({type:"dataZoom.select"})},function(a,b,c){a.exports=c(290).extend({type:"dataZoom.select"})},function(a,b,c){"use strict";function e(a){this.model=a}var f,d=c(340);e.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"},f=e.prototype,f.onclick=function(a,b){d.clear(a),b.dispatchAction({type:"restore",from:this.uid})
},c(333).register("restore",e),c(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")}),a.exports=e},function(a,b,c){c(346),c(77).registerPainter("vml",c(348))},function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb;if(!c(78).canvasSupported){for(d=c(16),e=c(15),f=c(48).CMD,g=c(38),h=c(14),i=c(47),j=c(45),k=c(59),l=c(62),m=c(44),n=c(4),o=c(347),p=Math.round,q=Math.sqrt,r=Math.abs,s=Math.cos,t=Math.sin,u=Math.max,v=d.applyTransform,w=",",x="progid:DXImageTransform.Microsoft",y=21600,z=y/2,A=1e5,B=1e3,C=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=y+","+y,a.coordorigin="0,0"},D=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},E=function(a,b,c){return"rgb("+[a,b,c].join(",")+")"},F=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},G=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},H=function(a,b,c){return(parseFloat(a)||0)*A+(parseFloat(b)||0)*B+c},I=function(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a},J=function(a,b,c){var d=g.parse(b);c=+c,isNaN(c)&&(c=1),d&&(a.color=E(d[0],d[1],d[2]),a.opacity=c*d[3])},K=function(a){var b=g.parse(a);return[E(b[0],b[1],b[2]),b[3]]},L=function(a,b,c){var e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,w,x,z,A,B,C,D,E,F,G,H,I,L,d=b.fill;if(null!=d)if(d instanceof n){for(f=0,g=[0,0],h=0,i=1,j=c.getBoundingRect(),k=j.width,l=j.height,"linear"===d.type?(e="gradient",m=c.transform,o=[d.x*k,d.y*l],p=[d.x2*k,d.y2*l],m&&(v(o,o,m),v(p,p,m)),q=p[0]-o[0],r=p[1]-o[1],f=180*Math.atan2(q,r)/Math.PI,0>f&&(f+=360),1e-6>f&&(f=0)):(e="gradientradial",o=[d.x*k,d.y*l],m=c.transform,s=c.scale,t=k,w=l,g=[(o[0]-j.x)/t,(o[1]-j.y)/w],m&&v(o,o,m),t/=s[0]*y,w/=s[1]*y,x=u(t,w),h=0/x,i=2*d.r/x-h),z=d.colorStops.slice(),z.sort(function(a,b){return a.offset-b.offset}),A=z.length,B=[],C=[],D=0;A>D;D++)E=z[D],F=K(E.color),C.push(E.offset*i+h+" "+F[0]),(0===D||D===A-1)&&B.push(F);A>=2&&(G=B[0][0],H=B[1][0],I=B[0][1]*b.opacity,L=B[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=G,a.color2=H,a.colors=C.join(","),a.opacity=L,a.opacity2=I),"radial"===e&&(a.focusposition=g.join(","))}else J(a,d,b.opacity)},M=function(a,b){null!=b.lineJoin&&(a.joinstyle=b.lineJoin),null!=b.miterLimit&&(a.miterlimit=b.miterLimit*y),null!=b.lineCap&&(a.endcap=b.lineCap),null!=b.lineDash&&(a.dashstyle=b.lineDash.join(" ")),null==b.stroke||b.stroke instanceof n||J(a,b.stroke,b.opacity)},N=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof n&&G(a,f),f||(f=o.createNode(b)),e?L(f,c,d):M(f,c),F(a,f)):(a[e?"filled":"stroked"]="false",G(a,f))},O=[[],[],[]],P=function(a,b){var j,k,l,m,n,o,r,u,x,A,B,C,D,E,F,G,H,I,J,K,L,M,N,P,Q,R,S,T,U,V,W,c=f.M,d=f.C,e=f.L,g=f.A,h=f.Q,i=[];for(m=0;m<a.length;){switch(l=a[m++],k="",j=0,l){case c:k=" m ",j=1,n=a[m++],o=a[m++],O[0][0]=n,O[0][1]=o;break;case e:k=" l ",j=1,n=a[m++],o=a[m++],O[0][0]=n,O[0][1]=o;break;case h:case d:k=" c ",j=3,r=a[m++],u=a[m++],x=a[m++],A=a[m++],l===h?(B=x,C=A,x=(x+2*r)/3,A=(A+2*u)/3,r=(n+2*r)/3,u=(o+2*u)/3):(B=a[m++],C=a[m++]),O[0][0]=r,O[0][1]=u,O[1][0]=x,O[1][1]=A,O[2][0]=B,O[2][1]=C,n=B,o=C;break;case g:D=0,E=0,F=1,G=1,H=0,b&&(D=b[4],E=b[5],F=q(b[0]*b[0]+b[1]*b[1]),G=q(b[2]*b[2]+b[3]*b[3]),H=Math.atan2(-b[1]/G,b[0]/F)),I=a[m++],J=a[m++],K=a[m++],L=a[m++],M=a[m++]+H,N=a[m++]+M+H,m++,P=a[m++],Q=I+s(M)*K,R=J+t(M)*L,r=I+s(N)*K,u=J+t(N)*L,S=P?" wa ":" at ",Math.abs(Q-r)<1e-10&&P&&(Q+=270/y),i.push(S,p(((I-K)*F+D)*y-z),w,p(((J-L)*G+E)*y-z),w,p(((I+K)*F+D)*y-z),w,p(((J+L)*G+E)*y-z),w,p((Q*F+D)*y-z),w,p((R*G+E)*y-z),w,p((r*F+D)*y-z),w,p((u*G+E)*y-z)),n=r,o=u;break;case f.R:T=O[0],U=O[1],T[0]=a[m++],T[1]=a[m++],U[0]=T[0]+a[m++],U[1]=T[1]+a[m++],b&&(v(T,T,b),v(U,U,b)),T[0]=p(T[0]*y-z),U[0]=p(U[0]*y-z),T[1]=p(T[1]*y-z),U[1]=p(U[1]*y-z),i.push(" m ",T[0],w,T[1]," l ",U[0],w,T[1]," l ",U[0],w,U[1]," l ",T[0],w,U[1]);break;case f.Z:i.push(" x ")}if(j>0)for(i.push(k),V=0;j>V;V++)W=O[V],b&&v(W,W,b),i.push(p(W[0]*y-z),w,p(W[1]*y-z),j-1>V?w:"")}return i.join("")},m.prototype.brushVML=function(a){var d,e,f,g,h,i,b=this.style,c=this._vmlEl;c||(c=o.createNode("shape"),C(c),this._vmlEl=c),N(c,"fill",b,this),N(c,"stroke",b,this),d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0],f&&(g=b.lineWidth,e&&!b.strokeNoScale&&(h=d[0]*d[3]-d[1]*d[2],g*=q(r(h))),f.weight=g+"px"),i=this.path,this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape),i.toStatic(),this.__dirtyPath=!1),c.path=P(i.data,this.transform),c.style.zIndex=H(this.zlevel,this.z,this.z2),F(a,c),b.text&&this.drawRectText(a,this.getBoundingRect())},m.prototype.onRemove=function(a){G(a,this._vmlEl),this.removeRectText(a)},m.prototype.onAdd=function(a){F(a,this._vmlEl),this.appendRectText(a)},Q=function(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()},k.prototype.brushVML=function(a){var d,e,f,g,h,i,j,k,l,m,n,r,s,t,y,z,A,B,D,E,G,I,J,K,L,M,N,O,P,R,S,T,U,V,W,X,b=this.style,c=b.image;Q(c)?(f=c.src,f===this._imageSrc?(d=this._imageWidth,e=this._imageHeight):(g=c.runtimeStyle,h=g.width,i=g.height,g.width="auto",g.height="auto",d=c.width,e=c.height,g.width=h,g.height=i,this._imageSrc=f,this._imageWidth=d,this._imageHeight=e),c=f):c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight),c&&(j=b.x||0,k=b.y||0,l=b.width,m=b.height,n=b.sWidth,r=b.sHeight,s=b.sx||0,t=b.sy||0,y=n&&r,z=this._vmlEl,z||(z=o.doc.createElement("div"),C(z),this._vmlEl=z),A=z.style,B=!1,E=1,G=1,this.transform&&(D=this.transform,E=q(D[0]*D[0]+D[1]*D[1]),G=q(D[2]*D[2]+D[3]*D[3]),B=D[1]||D[2]),B?(I=[j,k],J=[j+l,k],K=[j,k+m],L=[j+l,k+m],v(I,I,D),v(J,J,D),v(K,K,D),v(L,L,D),M=u(I[0],J[0],K[0],L[0]),N=u(I[1],J[1],K[1],L[1]),O=[],O.push("M11=",D[0]/E,w,"M12=",D[2]/G,w,"M21=",D[1]/E,w,"M22=",D[3]/G,w,"Dx=",p(j*E+D[4]),w,"Dy=",p(k*G+D[5])),A.padding="0 "+p(M)+"px "+p(N)+"px 0",A.filter=x+".Matrix("+O.join("")+", SizingMethod=clip)"):(D&&(j=j*E+D[4],k=k*G+D[5]),A.filter="",A.left=p(j)+"px",A.top=p(k)+"px"),P=this._imageEl,R=this._cropEl,P||(P=o.doc.createElement("div"),this._imageEl=P),S=P.style,y?(d&&e?(S.width=p(E*d*l/n)+"px",S.height=p(G*e*m/r)+"px"):(T=new Image,U=this,T.onload=function(){T.onload=null,d=T.width,e=T.height,S.width=p(E*d*l/n)+"px",S.height=p(G*e*m/r)+"px",U._imageWidth=d,U._imageHeight=e,U._imageSrc=c},T.src=c),R||(R=o.doc.createElement("div"),R.style.overflow="hidden",this._cropEl=R),V=R.style,V.width=p((l+s*l/n)*E),V.height=p((m+t*m/r)*G),V.filter=x+".Matrix(Dx="+-s*l/n*E+",Dy="+-t*m/r*G+")",R.parentNode||z.appendChild(R),P.parentNode!=R&&R.appendChild(P)):(S.width=p(E*l)+"px",S.height=p(G*m)+"px",z.appendChild(P),R&&R.parentNode&&(z.removeChild(R),this._cropEl=null)),W="",X=b.opacity,1>X&&(W+=".Alpha(opacity="+p(100*X)+") "),W+=x+".AlphaImageLoader(src="+c+", SizingMethod=scale)",S.filter=W,z.style.zIndex=H(this.zlevel,this.z,this.z2),F(a,z),b.text&&this.drawRectText(a,this.getBoundingRect()))},k.prototype.onRemove=function(a){G(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},k.prototype.onAdd=function(a){F(a,this._vmlEl),this.appendRectText(a)},R="normal",S={},T=0,U=100,V=document.createElement("div"),W=function(a){var c,d,b=S[a];if(!b){T>U&&(T=0,S={}),c=V.style;try{c.font=a,d=c.fontFamily.split(",")[0]}catch(e){}b={style:c.fontStyle||R,variant:c.fontVariant||R,weight:c.fontWeight||R,size:0|parseFloat(c.fontSize||12),family:d||"Microsoft YaHei"},S[a]=b,T++}return b},h.measureText=function(a,b){var c=o.doc;X||(X=c.createElement("div"),X.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",o.doc.body.appendChild(X));try{X.style.font=b}catch(d){}return X.innerHTML="",X.appendChild(c.createTextNode(a)),{width:X.offsetWidth}},Y=new e,Z=function(a,b,c,d){var g,i,j,k,l,m,n,q,r,s,t,u,x,y,z,A,B,E,G,e=this.style,f=e.text;if(f){if(j=e.textAlign,k=W(e.textFont),l=k.style+" "+k.variant+" "+k.weight+" "+k.size+'px "'+k.family+'"',m=e.textBaseline,n=e.textVerticalAlign,c=c||h.getBoundingRect(f,l,j,m),q=this.transform,q&&!d&&(Y.copy(b),Y.applyTransform(q),b=Y),d?(g=b.x,i=b.y):(r=e.textPosition,s=e.textDistance,r instanceof Array?(g=b.x+I(r[0],b.width),i=b.y+I(r[1],b.height),j=j||"left",m=m||"top"):(t=h.adjustTextPositionOnRect(r,b,c,s),g=t.x,i=t.y,j=j||t.textAlign,m=m||t.textBaseline)),n){switch(n){case"middle":i-=c.height/2;break;case"bottom":i-=c.height}m="top"}switch(u=k.size,m){case"hanging":case"top":i+=u/1.75;break;case"middle":break;default:i-=u/2.25}switch(j){case"left":break;case"center":g-=c.width/2;break;case"right":g-=c.width}x=o.createNode,y=this._textVmlEl,y?(B=y.firstChild,z=B.nextSibling,A=z.nextSibling):(y=x("line"),z=x("path"),A=x("textpath"),B=x("skew"),A.style["v-text-align"]="left",C(y),z.textpathok=!0,A.on=!0,y.from="0 0",y.to="1000 0.05",F(y,B),F(y,z),F(y,A),this._textVmlEl=y),E=[g,i],G=y.style,q&&d?(v(E,E,q),B.on=!0,B.matrix=q[0].toFixed(3)+w+q[2].toFixed(3)+w+q[1].toFixed(3)+w+q[3].toFixed(3)+",0,0",B.offset=(p(E[0])||0)+","+(p(E[1])||0),B.origin="0 0",G.left="0px",G.top="0px"):(B.on=!1,G.left=p(g)+"px",G.top=p(i)+"px"),A.string=D(f);try{A.style.font=l}catch(J){}N(y,"fill",{fill:d?e.fill:e.textFill,opacity:e.opacity},this),N(y,"stroke",{stroke:d?e.stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this),y.style.zIndex=H(this.zlevel,this.z,this.z2),F(a,y)}},$=function(a){G(a,this._textVmlEl),this._textVmlEl=null},_=function(a){F(a,this._textVmlEl)},ab=[i,j,k,m,l],bb=0;bb<ab.length;bb++)cb=ab[bb].prototype,cb.drawRectText=Z,cb.removeRectText=$,cb.appendRectText=_;l.prototype.brushVML=function(a){var b=this.style;b.text&&this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0)},l.prototype.onRemove=function(a){this.removeRectText(a)},l.prototype.onAdd=function(a){this.appendRectText(a)}}},function(a,b,c){var d,e,f,g,h,j;if(!c(78).canvasSupported){d="urn:schemas-microsoft-com:vml",f=window,g=f.document,h=!1;try{!g.namespaces.zrvml&&g.namespaces.add("zrvml",d),e=function(a){return g.createElement("<zrvml:"+a+' class="zrvml">')}}catch(i){e=function(a){return g.createElement("<"+a+' xmlns="'+d+'" class="zrvml">')}}j=function(){if(!h){h=!0;var a=g.styleSheets;a.length<31?g.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}},a.exports={doc:g,initVML:j,createNode:e}}},function(a,b,c){function f(a){return parseInt(a,10)}function g(a,b){var c,d,f,g;e.initVML(),this.root=a,this.storage=b,c=document.createElement("div"),d=document.createElement("div"),c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",d.style.cssText="position:absolute;left:0;top:0;",a.appendChild(c),this._vmlRoot=d,this._vmlViewport=c,this.resize(),f=b.delFromMap,g=b.addToMap,b.delFromMap=function(a){var c=b.get(a);f.call(b,a),c&&c.onRemove&&c.onRemove(d)},b.addToMap=function(a){a.onAdd&&a.onAdd(d),g.call(b,a)},this._firstPaint=!0}function h(a){return function(){d('In IE8.0 VML mode painter not support method "'+a+'"')}}var i,j,k,d=c(39),e=c(347);for(g.prototype={constructor:g,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){var c,d,b=this._vmlRoot;for(c=0;c<a.length;c++)d=a[c],d.invisible||d.ignore?(d.__alreadyNotVisible||d.onRemove(b),d.__alreadyNotVisible=!0):(d.__alreadyNotVisible&&d.onAdd(b),d.__alreadyNotVisible=!1,d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())),d.__dirty=!1;this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(){var c,a=this._getWidth(),b=this._getHeight();this._width!=a&&this._height!=b&&(this._width=a,this._height=b,c=this._vmlViewport.style,c.width=a+"px",c.height=b+"px")},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var a=this.root,b=a.currentStyle;return 0|(a.clientWidth||f(b.width))-f(b.paddingLeft)-f(b.paddingRight)},_getHeight:function(){var a=this.root,b=a.currentStyle;return 0|(a.clientHeight||f(b.height))-f(b.paddingTop)-f(b.paddingBottom)}},i=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],j=0;j<i.length;j++)k=i[j],g.prototype[k]=h(k);a.exports=g}])});